!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build/",t(t.s="ET/6")}({"162o":function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n("DuR2"))},"5eDb":function(e,t,n){(function(t,n){!function(){!function(r){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}function o(){function e(n,r){return t.push(n+" ")>Yt.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function a(e){return e[fn]=!0,e}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||xn)-(~e.sourceIndex||xn);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return a(function(t){return t=+t,a(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==bn&&e}function l(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=hn++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[pn,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[fn]||(t[fn]={}),(s=u[r])&&s[0]===pn&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,t,n){for(var r=0,i=t.length;r<i;r++)Yn(e,t[r],n);return n}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function g(e,t,n,r,i,o){return r&&!r[fn]&&(r=g(r)),i&&!i[fn]&&(i=g(i,o)),a(function(o,a,s,u){var c,l,f,d=[],p=[],g=a.length,v=o||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:m(v,d,e,s,u),b=n?i||(o?e:g||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(c=m(b,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[p[l]]=!(y[p[l]]=f));if(o){if(i||e){if(i){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(y[l]=f);i(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=i?Sn.call(o,f):d[l])>-1&&(o[c]=!(a[c]=f))}}else b=m(b===a?b.splice(g,b.length):b),i?i(null,a,b,u):Tn.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=Yt.relative[e[0].type],a=o||Yt.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),c=d(function(e){return Sn.call(t,e)>-1},a,!0),l=[function(e,n,r){return!o&&(r||n!==Qt)||((t=n).nodeType?u(e,n,r):c(e,n,r))}];s<i;s++)if(n=Yt.relative[e[s].type])l=[d(p(l),n)];else{if(n=Yt.filter[e[s].type].apply(null,e[s].matches),n[fn]){for(r=++s;r<i&&!Yt.relative[e[r].type];r++);return g(s>1&&p(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(On,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&f(e))}l.push(n)}return p(l)}function y(e,t){var n=t.length>0,r=e.length>0,i=function(i,o,a,s,u){var c,l,f,d=0,p="0",h=i&&[],g=[],v=Qt,y=i||r&&Yt.find.TAG("*",u),b=pn+=null==v?1:Math.random()||.1,x=y.length;for(u&&(Qt=o!==rn&&o);p!==x&&null!=(c=y[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,o,a)){s.push(c);break}u&&(pn=b)}n&&((c=!f&&c)&&d--,i&&h.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(h,g,o,a);if(i){if(d>0)for(;p--;)h[p]||g[p]||(g[p]=kn.call(s));g=m(g)}Tn.apply(s,g),u&&!i&&g.length>0&&d+t.length>1&&Yn.uniqueSort(s)}return u&&(pn=b,Qt=v),h};return n?a(i):i}function b(e,t){void 0===t&&(t={});var n,i=0,o={};n=t.maxLoadTime||5e3;var a=function(t){e.getElementsByTagName("head")[0].appendChild(t)},s=function(s,u,c){var l,f,d,p,h=function(){for(var e=p.passed,t=e.length;t--;)e[t]();p.status=2,p.passed=[],p.failed=[]},m=function(){for(var e=p.failed,t=e.length;t--;)e[t]();p.status=3,p.passed=[],p.failed=[]},g=function(e,t){e()||((new Date).getTime()-d<n?Pt.setTimeout(t):m())},v=function(){g(function(){for(var t,n,r=e.styleSheets,i=r.length;i--;)if(t=r[i],(n=t.ownerNode?t.ownerNode:t.owningElement)&&n.id===l.id)return h(),!0},v)},y=function(){g(function(){try{var e=f.sheet.cssRules;return h(),!!e}catch(e){}},y)};if(s=vr._addCacheSuffix(s),o[s]?p=o[s]:(p={passed:[],failed:[]},o[s]=p),u&&p.passed.push(u),c&&p.failed.push(c),1!==p.status){if(2===p.status)return void h();if(3===p.status)return void m();if(p.status=1,l=e.createElement("link"),l.rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,d=(new Date).getTime(),t.contentCssCors&&(l.crossOrigin="anonymous"),"onload"in l&&!function(){var e=r.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)}())l.onload=v,l.onerror=m;else{if(r.navigator.userAgent.indexOf("Firefox")>0)return f=e.createElement("style"),f.textContent='@import "'+s+'"',y(),void a(f);v()}a(l),l.href=s}},u=function(e){return oa.nu(function(t){s(e,ve(t,ye(fa.value(e))),ve(t,ye(fa.error(e))))})},c=function(e){return e.fold(be,be)};return{load:s,loadAll:function(e,t,n){sa(qe(e,u)).get(function(e){var r=Ke(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(c)):t(r.pass.map(c))})}}}function x(e,t){var n=e,r=function(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!==t){if(o=e[r])return o;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(o=a[r])return o}}},i=function(e,n,r,i){var o,a,s;if(e){if(o=e[r],t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=i(n,"lastChild","previousSibling",e)}}function w(e){var t,n,r,i,o,a,s,u,c,l,f,d,p,h={},m={},g=[],v={},y={},b=function(t,n,r){var i=e[t];return i?i=xs(i,/[, ]/,xs(i.toUpperCase(),/[, ]/)):(i=ys[t])||(i=xs(n," ",xs(n.toUpperCase()," ")),i=Cs(i,r),ys[t]=i),i};e=e||{},r=Es(e.schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=Ss(e.valid_styles),n=Ss(e.invalid_styles,"map"),u=Ss(e.valid_classes,"map"),i=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=b("non_empty_elements","td th iframe video audio object script pre code",a),f=b("move_caret_before_on_enter_elements","table",l),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),p=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),ws((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var x=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var t,n,r,i,o,a,s,u,c,l,f,d,p,m,v,y,b,w,C,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=Ts(e,","),h["@"]&&(y=h["@"].attributes,b=h["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=k.exec(e[t])){if(m=o[1],c=o[2],v=o[3],u=o[5],d={},p=[],a={attributes:d,attributesOrder:p},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),y){for(w in y)d[w]=y[w];p.push.apply(p,b)}if(u)for(u=Ts(u,"|"),r=0,i=u.length;r<i;r++)if(o=_.exec(u[r])){if(s={},f=o[1],l=o[2].replace(/[\\:]:/g,":"),m=o[3],C=o[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===f){delete d[l],p.splice(_s(p,l),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:C}),s.defaultValue=C),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:C}),s.forcedValue=C),"<"===m&&(s.validValues=xs(C,"?"))),T.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=x(l),a.attributePatterns.push(s)):(d[l]||p.push(l),d[l]=s)}y||"@"!==c||(y=d,b=p),v&&(a.outputName=c,h[v]=a),T.test(c)?(a.pattern=x(c),g.push(a)):h[c]=a}},C=function(e){h={},g=[],w(e),ws(r,function(e,t){m[t]=e.children})},k=function(e){var t=/^(~)?(.+)$/;e&&(ys.text_block_elements=ys.block_elements=null,ws(Ts(e,","),function(e){var n=t.exec(e),r="~"===n[1],i=r?"span":"div",o=n[2];if(m[o]=m[i],v[o]=i,r||(c[o.toUpperCase()]={},c[o]={}),!h[o]){var a=h[i];a=Cs({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,h[o]=a}ws(m,function(e,t){e[i]&&(m[t]=e=Cs({},m[t]),e[o]=e[i])})}))},_=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;ys[e.schema]=null,t&&ws(Ts(t,","),function(e){var t,r,i=n.exec(e);i&&(r=i[1],t=r?m[i[2]]:m[i[2]]={"#comment":{}},t=m[i[2]],ws(Ts(i[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},T=function(e){var t,n=h[e];if(n)return n;for(t=g.length;t--;)if(n=g[t],n.pattern.test(e))return n};e.valid_elements?C(e.valid_elements):(ws(r,function(e,t){h[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children}),"html5"!==e.schema&&ws(Ts("strong/b em/i"),function(e){e=Ts(e,"/"),h[e[1]].outputName=e[0]}),ws(Ts("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){h[e]&&(h[e].removeEmpty=!0)}),ws(Ts("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){h[e].paddEmpty=!0}),ws(Ts("span"),function(e){h[e].removeEmptyAttrs=!0})),k(e.custom_elements),_(e.valid_children),w(e.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),ws({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){h[t]&&(h[t].parentsRequired=Ts(e))}),e.invalid_elements&&ws(ks(e.invalid_elements),function(e){h[e]&&delete h[e]}),T("span")||w("span[!data-mce-type|*]");var E=function(){return t},S=function(){return n},N=function(){return u},D=function(){return s},R=function(){return c},A=function(){return d},O=function(){return p};return{children:m,elements:h,getValidStyles:E,getValidClasses:N,getBlockElements:R,getInvalidStyles:S,getShortEndedElements:function(){return a},getTextBlockElements:A,getTextInlineElements:O,getBoolAttrs:D,getElementRule:T,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return y},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,i=T(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:C,addCustomElements:k,addValidChildren:_}}function C(e,t){var n,r,i,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={};for(e=e||{},t&&(i=t.getValidStyles(),o=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)l[r[n]]="\ufeff"+n,l["\ufeff"+n]=r[n];return{toHex:function(e){return e.replace(a,Ns)},parse:function(t){var r,i,o,f,d={},p=e.url_converter,h=e.url_converter_scope||this,m=function(e,t,r){var i,o,a,s;if((i=d[e+"-top"+t])&&(o=d[e+"-right"+t])&&(a=d[e+"-bottom"+t])&&(s=d[e+"-left"+t])){var u=[i,o,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(d[e+t]=-1===n?u[0]:u.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}},g=function(e){var t,n=d[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},v=function(e){return f=!0,l[e]},y=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},b=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},x=function(e){return e.replace(/\\[0-9a-f]+/gi,b)},w=function(t,n,r,i,o,a){if(o=o||a)return o=y(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=y(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return p&&(n=p.call(h,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,v)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,i=r[1].replace(c,"").toLowerCase(),o=r[2].replace(c,""),i&&o){if(i=x(i),o=x(o),-1!==i.indexOf("\ufeff")||-1!==i.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===i&&"700"===o?o="bold":"color"!==i&&"background-color"!==i||(o=o.toLowerCase()),o=o.replace(a,Ns),o=o.replace(s,w),d[i]=f?y(o,!0):o}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),function(e,t,n,r){g(t)&&g(n)&&g(r)&&(d[e]=d[t]+" "+d[n]+" "+d[r],delete d[t],delete d[n],delete d[r])}("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(e,t){var n,r,a="",s=function(t){var n,r,o,s;if(n=i[t])for(r=0,o=n.length;r<o;r++)t=n[r],(s=e[t])&&(a+=(a.length>0?" ":"")+t+": "+s+";")};if(t&&i)s("*"),s(t);else for(n in e)!(r=e[n])||o&&!function(e,t){var n;return(!(n=o["*"])||!n[e])&&(!(n=o[t])||!n[e])}(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}}function k(e,t){var n=this;void 0===t&&(t={});var i,o={},a=r.window,s={},u=0,c=b(e,{contentCssCors:t.contentCssCors}),l=[],f=t.schema?t.schema:w({}),d=C({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new zt(t.proxy):zt.Event,h=f.getBlockElements(),m=Lr.overrideDefaults(function(){return{context:e,element:Re.getRoot()}}),g=function(e){if("string"==typeof e)return!!h[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!h[e.nodeName])}return!1},v=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},y=function(e){return"string"==typeof e&&(e=v(e)),m(e)},_=function(e,t,n){var r,o,a=y(e);return a.length&&(r=i[t],o=r&&r.get?r.get(a,t):a.attr(t)),void 0===o&&(o=n||""),o},T=function(e){var t=v(e);return t?t.attributes:[]},E=function(e,n,r){var o,a;""===r&&(r=null);var s=y(e);o=s.attr(n),s.length&&(a=i[n],a&&a.set?a.set(s,r,n):s.attr(n,r),o!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:s,attrName:n,attrValue:r}))},S=function(t,n){if(!As||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return Ds(T(t),function(e){E(r,e.nodeName,_(t,e.nodeName))}),r}return null},N=function(){return t.root_element||e.body},D=function(e){var t=e||a,n=t.document,r=n.documentElement;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},R=function(t,n){return qo.getPos(e.body,v(t),n)},A=function(e,n,r){var i=y(e).css(n,r);t.update_styles&&Is(d,i)},O=function(e,n){var r=y(e).css(n);t.update_styles&&Is(d,r)},P=function(e,t,n){var r=y(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=Tt.ie&&Tt.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},B=function(e){var t,n;return e=v(e),t=P(e,"width"),n=P(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},I=function(e){var t,n;return e=v(e),t=R(e),n=B(e),{x:t.x,y:t.y,w:n.w,h:n.h}},M=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Os.test(t)){var r=t.toLowerCase().split(/,/),i=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===i)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return Yn(t,o[0].ownerDocument||o[0],null,o).length>0},L=function(e,t,n,r){var i,o=[],a=v(e);for(r=void 0===r,n=n||("BODY"!==N().nodeName?N().parentNode:null),vr.is(t,"string")&&(i=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return M(e,i)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null},F=function(e,t,n){var r=L(e,t,n,!1);return r&&r.length>0?r[0]:null},H=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return M(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},j=function(e,t){return H(e,t,"nextSibling")},U=function(e,t){return H(e,t,"previousSibling")},W=function(n,r){return Yn(n,v(r)||t.root_element||e,[])},$=function(e,t,r){var i,o="string"==typeof e?v(e):e;if(!o)return!1;if(vr.isArray(o)&&(o.length||0===o.length))return i=[],Ds(o,function(e,n){e&&("string"==typeof e&&(e=v(e)),i.push(t.call(r,e,n)))}),i;var a=r||n;return t.call(a,o)},z=function(e,t){y(e).each(function(e,n){Ds(t,function(e,t){E(n,t,e)})})},q=function(e,t){var n=y(e);As?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){Lr("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},V=function(t,n,r,i,o){return $(t,function(t){var a="string"==typeof n?e.createElement(n):n;return z(a,r),i&&("string"!=typeof i&&i.nodeType?a.appendChild(i):"string"==typeof i&&q(a,i)),o?a:t.appendChild(a)})},Y=function(t,n,r){return V(e.createElement(t),t,n,r,!0)},K=vs.decode,X=vs.encodeAllRaw,G=function(e,t,n){var r,i="";i+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(i+=" "+r+'="'+X(t[r])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},J=function(t){var n,r=e.createElement("div"),i=e.createDocumentFragment();for(i.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)i.appendChild(n);return i.removeChild(r),i},Z=function(e,t){var n=y(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Q=function(e){return $(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},ee=function(e){return d.parse(e)},te=function(e,t){return d.serialize(e,t)},ne=function(t){var n,i;if(Re!==k.DOM&&e===r.document){if(o[t])return;o[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",n=e.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},re=function(t){var n;if(Re!==k.DOM&&e===r.document)return void k.DOM.loadCSS(t);t||(t=""),n=e.getElementsByTagName("head")[0],Ds(t.split(","),function(e){var t;e=vr._addCacheSuffix(e),s[e]||(s[e]=!0,t=Y("link",{rel:"stylesheet",href:e}),n.appendChild(t))})},ie=function(e,t,n){y(e).toggleClass(t,n).each(function(){""===this.className&&Lr(this).attr("class",null)})},oe=function(e,t){y(e).addClass(t)},ae=function(e,t){ie(e,t,!1)},se=function(e,t){return y(e).hasClass(t)},ue=function(e){y(e).show()},ce=function(e){y(e).hide()},le=function(e){return"none"===y(e).css("display")},fe=function(e){return(e||"mce_")+u++},de=function(e){var t="string"==typeof e?v(e):e;return Za.isElement(t)?t.outerHTML:Lr("<div></div>").append(Lr(t).clone()).html()},pe=function(e,t){y(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}Z(Lr(this).html(t),!0)})},he=function(e,t){var n=v(t);return $(e,function(e){var t,r;return t=n.parentNode,r=n.nextSibling,r?t.insertBefore(e,r):t.appendChild(e),e})},me=function(e,t,n){return $(t,function(t){return vr.is(t,"array")&&(e=e.cloneNode(!0)),n&&Ds(Rs(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},ge=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=Y(t),Ds(T(e),function(t){E(n,t.nodeName,_(e,t.nodeName))}),me(n,e,!0)),n||e},ve=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},ye=function(e){return d.toHex(vr.trim(e))},be=function(e,t){var n,r,i,o,a,s,u=0;if(e=e.firstChild){a=new x(e,e.parentNode),t=t||(f?f.getNonEmptyElements():null),o=f?f.getWhiteSpaceElements():{};do{if(i=e.nodeType,Za.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(r=T(e),n=r.length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===i)return!1;if(3===i&&!Ps.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&o[e.parentNode.nodeName]&&Ps.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},xe=function(){return e.createRange()},we=function(e,t,n){var r,i,o,a=xe();if(e&&t)return a.setStart(e.parentNode,Ms(e)),a.setEnd(t.parentNode,Ms(t)),r=a.extractContents(),a=xe(),a.setStart(t.parentNode,Ms(t)+1),a.setEnd(e.parentNode,Ms(e)+1),i=a.extractContents(),o=e.parentNode,o.insertBefore(ns.trimNode(Re,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(ns.trimNode(Re,i),e),Z(e),n||t},Ce=function(n,r,i,o){if(vr.isArray(n)){for(var s=n.length;s--;)n[s]=Ce(n[s],r,i,o);return n}return!t.collect||n!==e&&n!==a||l.push([n,r,i,o]),p.bind(n,r,i,o||Re)},ke=function(t,n,r){var i;if(vr.isArray(t)){for(i=t.length;i--;)t[i]=ke(t[i],n,r);return t}if(l&&(t===e||t===a))for(i=l.length;i--;){var o=l[i];t!==o[0]||n&&n!==o[1]||r&&r!==o[2]||p.unbind(o[0],o[1],o[2])}return p.unbind(t,n,r)},_e=function(e,t,n){return p.fire(e,t,n)},Te=function(e){if(e&&Za.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Ee=function(e){for(var t=N(),n=null;e&&e!==t&&null===(n=Te(e));e=e.parentNode);return n},Se=function(){if(l)for(var e=l.length;e--;){var t=l[e];p.unbind(t[0],t[1],t[2])}Yn.setDocument&&Yn.setDocument()},Ne=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},De=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Re={doc:e,settings:t,win:a,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:c,boundEvents:l,styles:d,schema:f,events:p,isBlock:g,$:m,$$:y,root:null,clone:S,getRoot:N,getViewPort:D,getRect:I,getSize:B,getParent:F,getParents:L,get:v,getNext:j,getPrev:U,select:W,is:M,add:V,create:Y,createHTML:G,createFragment:J,remove:Z,setStyle:A,getStyle:P,setStyles:O,removeAllAttribs:Q,setAttrib:E,setAttribs:z,getAttrib:_,getPos:R,parseStyle:ee,serializeStyle:te,addStyle:ne,loadCSS:re,addClass:oe,removeClass:ae,hasClass:se,toggleClass:ie,show:ue,hide:ce,isHidden:le,uniqueId:fe,setHTML:q,getOuterHTML:de,setOuterHTML:pe,decode:K,encode:X,insertAfter:he,replace:me,rename:ge,findCommonAncestor:ve,toHex:ye,run:$,getAttribs:T,isEmpty:be,createRng:xe,nodeIndex:Ms,split:we,bind:Ce,unbind:ke,fire:_e,getContentEditable:Te,getContentEditableParent:Ee,destroy:Se,isChildOf:Ne,dumpRng:De};return i=Bs(d,t,function(){return Re}),Re}function _(){var e=this,t=[],n={},r={},i=[],o=function(e){if(r[e])return r[e].instance},a=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){var r=_.language;if(r&&!1!==_.languageLoad){if(t)if(t=","+t+",",-1!==t.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===t.indexOf(","+r+","))return;Ws.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},u=function(e,n,o){t.push(n),r[e]={instance:n,dependencies:o};var a=Ke(i,function(t){return t.name===e});return i=a.fail,$s(a.pass,function(e){e.callback()}),n},c=function(e){delete n[e],delete r[e]},l=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];$s(n,function(e){Ws.ScriptLoader.add(r+"/"+e)})},d=function(e,t,n,r){var i=a(e);$s(i,function(e){var n=l(t,e);p(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(Ws))},p=function(e,t,i,o,a){if(!n[e]){var s="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=_.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/")),r[e]?d(e,t,i,o):Ws.ScriptLoader.add(s,function(){return d(e,t,i,o)},o,a)}};return{items:t,urls:n,lookup:r,_listeners:i,get:o,dependencies:a,requireLangPack:s,add:u,remove:c,createUrl:l,addComponents:f,load:p,waitFor:function(e,t){r.hasOwnProperty(e)?t():i.push({name:e,callback:t})}}}function T(e,t,n,r,i){return e(n,r)?Ne.some(n):Me(i)&&i(n)?Ne.none():t(n,r,i)}function E(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function S(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function N(e,t,n){var r=function(){return Kc(e),0===t},i=function(){return Kc(e)?t>=e.data.length:t>=e.childNodes.length},o=function(){var n;return n=Zc(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=sl(N(e,t))),n},s=function(){return a().length>0},u=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return Jc(e,n?t-1:t)};return{container:ye(e),offset:ye(t),toRange:o,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:i,isEqual:u,getNode:c}}function D(e){var t=Ru();Du(e,t);var n=Nu(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){kp(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){_u(e,Ne.some(t)).each(function(e){var t=e.elements;Ve(t,Qs)})},getAll:function(t){var n=Su(e,t);return $i(n,function(e){return qe(e,function(e){return e.dom()})})}}}function R(e){var t,n,r,i,o,a=[];return e=e||{},t=e.indent,n=th(e.indent_before||""),r=th(e.indent_after||""),i=vs.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,s,u){var c,l,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n")),a.push("<",e),s)for(c=0,l=s.length;c<l;c++)f=s[c],a.push(" ",f.name,'="',i(f.value,!0),'"');a[a.length]=!u||o?">":" />",u&&t&&r[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:i(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",i(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function A(e,t){void 0===t&&(t=w());var n=R(e);return e=e||{},e.validate=!("validate"in e)||e.validate,{serialize:function(r){var i,o;o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},n.reset();var a=function(e){var r,s,u,c,l,f,d,p,h,m=i[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,u=e.attributes,o&&u&&u.length>1&&(f=[],f.map={},h=t.getElementRule(e.name))){for(d=0,p=h.attributesOrder.length;d<p;d++)(c=h.attributesOrder[d])in u.map&&(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=u.length;d<p;d++)(c=u[d].name)in f.map||(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));u=f}if(n.start(e.name,u,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}}function O(e){var t,n,r,i,o={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter});var s=function(t,n,r,i){var a,s,u=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus?nC.restore(e):e.focus(),i=e.fire("BeforeExecCommand",{command:t,ui:n,value:r}),i.isDefaultPrevented())return!1;if(s=t.toLowerCase(),a=o.exec[s])return a(s,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(uC(e.plugins,function(i){if(i.execCommand&&i.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),u=!0,!1}),u)return u;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{u=e.getDoc().execCommand(t,n,r)}catch(e){}return!!u&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},u=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},c=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},l=function(e,t){t=t||"exec",uC(e,function(e,n){uC(n.toLowerCase().split(","),function(n){o[t][n]=e})})},f=function(t,n,r){t=t.toLowerCase(),o.exec[t]=function(t,i,o,a){return n.call(r||e,i,o,a)}},d=function(t){if(t=t.toLowerCase(),o.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},p=function(t,n,r){t=t.toLowerCase(),o.state[t]=function(){return n.call(r||e)}},h=function(t,n,r){t=t.toLowerCase(),o.value[t]=function(){return n.call(r||e)}};cC(this,{execCommand:s,queryCommandState:u,queryCommandValue:c,queryCommandSupported:d,addCommands:l,addCommand:f,addQueryStateHandler:p,addQueryValueHandler:h,hasCustomCommand:function(e){return e=e.toLowerCase(),!!o.exec[e]}});var m=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},g=function(e){return r.match(e)},v=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},y=function(e){i=n.getBookmark(e)},b=function(){n.moveToBookmark(i)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{m(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Tt.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),uC("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&v("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,i;m(e),(r=t.getParent(n.getNode(),"ol,ul"))&&(i=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(y(),t.split(i,r),b()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){v(e)},"ForeColor,HiliteColor":function(e,t,n){v(e,n)},FontName:function(t,n,r){zx(e,r)},FontSize:function(t,n,r){Vx(e,r)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){v("blockquote")},FormatBlock:function(e,t,n){return v(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,r,i){var o=i||n.getNode();o!==e.getBody()&&(y(),e.dom.remove(o,!0),b())},mceSelectNodeDepth:function(r,i,o){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===o)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){Ch.insertAtCaret(e,r)},mceInsertRawHTML:function(t,r,i){n.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,n){v(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){sC(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,i){e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,i,o){var a;"string"==typeof o&&(o={href:o}),a=t.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),a&&o.href||r.remove("link"),o.href&&r.apply("link",o,a)},selectAll:function(){var e=t.getParent(n.getStart(),Za.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},delete:function(){Ox.deleteCommand(e)},forwardDelete:function(){Ox.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return Cw.insert(e,r),!0}});var x=function(e){return function(){var i=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),o=lC(i,function(t){return!!r.matchNode(t,e)});return-1!==fC(o,!0)}};l({JustifyLeft:x("alignleft"),JustifyCenter:x("aligncenter"),JustifyRight:x("alignright"),JustifyFull:x("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return g(e)},mceBlockQuote:function(){return g("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return u("InsertUnorderedList")||u("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),h("FontName",function(){return qx(e)},this),h("FontSize",function(){return Yx(e)},this)}function P(e){var t=this,n={},r=[],i=function(e){var t,n,r={};ak(sk(e,"+"),function(e){e in ck?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=uk[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode];for(n in ck)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,Tt.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Tt.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},o=function(t,n,r,o){var a;return a=vr.map(sk(t,">"),i),a[a.length-1]=vr.extend(a[a.length-1],{func:r,scope:o||e}),vr.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},a=function(e){return e.altKey||e.ctrlKey||e.metaKey},s=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},u=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},c=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!a(e)&&!s(e)||e.isDefaultPrevented()||(ak(n,function(t){if(u(e,t))return r=t.subpatterns.slice(0),"keydown"===e.type&&c(t),!0}),u(e,r[0])&&(1===r.length&&"keydown"===e.type&&c(r[0]),r.shift()))}),t.add=function(t,r,i,a){var s;return s=i,"string"==typeof i?i=function(){e.execCommand(s,!1,null)}:vr.isArray(s)&&(i=function(){e.execCommand(s[0],s[1],s[2])}),ak(sk(vr.trim(t.toLowerCase())),function(e){var t=o(e,r,i,a);n[t.id]=t}),!0},t.remove=function(e){var t=o(e);return!!n[t.id]&&(delete n[t.id],!0)}}function B(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function I(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():B()},r=function(){return Ne.from(t[0])},i=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},o=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){Qe(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},u=function(r){if(!e.removed&&Fk.isEditorAttachedToDom(e))return Ze(t,function(e){return i(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){s(t),o()});return a(t),o(),t})},c=function(){r().each(function(e){n().close(e),s(e),o()})},l=function(){return t};return function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&u({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Pt.requestAnimationFrame(o)}),e.on("remove",function(){Ve(t.slice(),function(e){n().close(e)})})}(e),{open:u,close:c,getNotifications:l}}function M(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function L(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():M()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},i=function(t){e.fire("OpenWindow",{win:t})},o=function(t){e.fire("CloseWindow",{win:t})},a=function(e){t.push(e),i(e)},s=function(n){Qe(t,function(e){return e===n}).each(function(r){t.splice(r,1),o(n),0===t.length&&e.focus()})},u=function(){return Ne.from(t[t.length-1])},c=function(t,r){e.editorManager.setActive(e),nC.store(e);var i=n().open(t,r,s);return a(i),i},l=function(e,t,i){var o=n().alert(e,r(i||this,t),s);a(o)},f=function(e,t,i){var o=n().confirm(e,r(i||this,t),s);a(o)},d=function(){u().each(function(e){n().close(e),s(e)})},p=function(){return u().map(n().getParams).getOr(null)},h=function(e){u().each(function(t){n().setParams(t,e)})},m=function(){return t};return e.on("remove",function(){Ve(t.slice(0),function(e){n().close(e)})}),{windows:t,open:c,alert:l,confirm:f,close:d,getParams:p,setParams:h,getWindows:m}}function F(){return new(mt.getOrDie("XMLHttpRequest"))}function H(e,t){var n={},i=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,n,o,a){var s,u;s=F(),s.open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=function(e){a(e.loaded/e.total*100)},s.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e;return s.status<200||s.status>=300?void o("HTTP Error: "+s.status):(e=JSON.parse(s.responseText))&&"string"==typeof e.location?void n(i(t.basePath,e.location)):void o("Invalid JSON: "+s.responseText)},u=new r.FormData,u.append("file",e.blob(),e.filename()),s.send(u)},a=function(){return new Et(function(e){e([])})},s=function(e,t){return{url:t,blobInfo:e,status:!0}},u=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){vr.each(n[e],function(e){e(t)}),delete n[e]},l=function(t,n,r){return e.markPending(t.blobUri()),new Et(function(i){var o,a,l=function(){};try{var f=function(){o&&(o.close(),a=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),s(t,n)),i(s(t,n))},p=function(n){f(),e.removeFailed(t.blobUri()),c(t.blobUri(),u(t,n)),i(u(t,n))};a=function(e){e<0||e>100||(o||(o=r()),o.progressBar.value(e))},n(t,d,p,a)}catch(e){i(u(t,e.message))}})},f=function(e){return e===o},d=function(e){var t=e.blobUri();return new Et(function(e){n[t]=n[t]||[],n[t].push(e)})},p=function(n,r){return n=vr.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Et.all(vr.map(n,function(n){return e.isPending(n.blobUri())?d(n):l(n,t.handler,r)}))},h=function(e,n){return!t.url&&f(t.handler)?a():p(e,n)};return!1===Me(t.handler)&&(t.handler=o),{upload:h}}function j(){return new(mt.getOrDie("FileReader"))}function U(e){return new(mt.getOrDie("Uint8Array"))(e)}function W(e,t){var n={};return{findAll:function(r,i){var o;i||(i=ye(!0)),o=Xe(d_(r),function(t){var n=t.src;return!!Tt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Tt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&i(t):0===n.indexOf("data:")&&i(t)))))});var a=qe(o,function(e){if(n[e.src])return new Et(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new Et(function(n,r){f_(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return Et.all(a)}}}function $(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},n=function(e,t,n,i){if(Ae(e)){return r({id:e,name:i,blob:t,base64:n})}if(Oe(e))return r(e);throw new Error("Unknown input type")},r=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||g_.uuid("blobid"),r=e.name||n,{id:ye(n),name:ye(r),filename:ye(r+"."+t(e.blob.type)),blob:ye(e.blob),base64:ye(e.base64),blobUri:ye(e.blobUri||bt.createObjectURL(e.blob)),uri:ye(e.uri)}},i=function(t){o(t.id())||e.push(t)},o=function(e){return a(function(t){return t.id()===e})},a=function(t){return Xe(e,t)[0]};return{create:n,add:i,get:o,getByUri:function(e){return a(function(t){return t.blobUri()===e})},findFirst:a,removeByUri:function(t){e=Xe(e,function(e){return e.blobUri()!==t||(bt.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Ve(e,function(e){bt.revokeObjectURL(e.blobUri())}),e=[]}}}function z(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}function q(e){var t,n,r=$(),i=z(),o=[],a=function(t){return function(n){return e.selection?t(n):[]}},s=function(){return"?"+(new Date).getTime()},u=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){return e=u(e,'src="'+t+'"','src="'+n+'"'),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){Ve(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=qe(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){r.removeByUri(t.src),l(t.src,n),e.$(t).attr({src:Jh.shouldReuseFileName(e)?n+s():n,"data-mce-src":e.convertURL(n,"src")})},p=function(n){return t||(t=H(i,{url:Jh.getImageUploadUrl(e),basePath:Jh.getImageUploadBasePath(e),credentials:Jh.getImagesUploadCredentials(e),handler:Jh.getImagesUploadHandler(e)})),v().then(a(function(r){var i;return i=qe(r,function(e){return e.blobInfo}),t.upload(i,f).then(a(function(t){var i=qe(t,function(t,n){var i=r[n].image;return t.status&&Jh.shouldReplaceBlobUris(e)?d(i,t.url):t.error&&Jk.uploadError(e,t.error),{element:i,status:t.status}});return n&&n(i),i}))}))},h=function(t){if(Jh.isAutomaticUploadsEnabled(e))return p(t)},m=function(t){if(!1===nt(o,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){return Jh.getImagesDataImgFilter(e)(t)}return!0},g=function(e){o.push(e)},v=function(){return n||(n=W(i,r)),n.findAll(e.getBody(),m).then(a(function(t){return t=Xe(t,function(t){return"string"!=typeof t||(Jk.displayError(e,t),!1)}),Ve(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},y=function(){r.destroy(),i.destroy(),n=t=null},b=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var o=i.getResultUri(n);if(o)return'src="'+o+'"';var a=r.getByUri(n);if(a||(a=Je(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return t})};return e.on("setContent",function(){Jh.isAutomaticUploadsEnabled(e)?h():v()}),e.on("RawSaveContent",function(e){e.content=b(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=b(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Ve(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=i.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:p,uploadImagesAuto:h,scanForImages:v,destroy:y}}function V(e){var t,n=[],r=function(t){var r,i;if(i=e.$(t).parentsUntil(e.getBody()).add(t),i.length===n.length){for(r=i.length;r>=0&&i[r]===n[r];r--);if(-1===r)return n=i,!0}return n=i,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,i;r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&Xx.isEq(i,t)||e.fire("SelectionChange"),t=i}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!Tt.range&&e.selection.isCollapsed()||R_(e)&&!r(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&R_(e)&&("IMG"===e.selection.getNode().nodeName?Pt.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,i,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(i=e.getBody(),n=o.getStart(!0)||i,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,i)||(n=i),r=[],e.dom.getParent(n,function(e){if(e===i)return!0;r.push(e)}),t=t||{},t.element=n,t.parents=r,e.fire("NodeChange",t))}}function Y(e,t){void 0===t&&(t=w());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,i=e.cdata?e.cdata:n,o=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,u=e.pi?e.pi:n,c=e.doctype?e.doctype:n;return{parse:function(n){var l,f,d,p,h,m,g,v,y,b,x,w,C,k,_,T,E,S,N,D,R,A,O,P,B,I,M,L,F,H,j=0,U=[],W=0,$=vs.decode,z=vr.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,V=function(e){var t,n;for(t=U.length;t--&&U[t].name!==e;);if(t>=0){for(n=U.length-1;n>=t;n--)e=U[n],e.valid&&s(e.name);U.length=t}},Y=function(t,n,r,i,o){var a,s,u=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in x?n:$(r||i||o||""),C&&!v&&!1===FT(n)){if(!(a=S[n])&&N){for(s=N.length;s--&&(a=N[s],!a.pattern.test(n)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(z[n]&&!e.allow_script_urls){var c=r.replace(u,"");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(q.test(c))return;if(jT(e,c))return}v&&(n in z||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))};for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),B=e.self_closing_elements||t.getSelfClosingElements(),x=t.getBoolAttrs(),C=e.validate,y=e.remove_internals,H=e.fix_self_closing,L=t.getSpecialElements(),O=n+">";l=I.exec(O);){if(j<l.index&&o($(n.substr(j,l.index-j))),f=l[6])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),V(f);else if(f=l[7]){if(l.index+l[0].length>n.length){o($(n.substr(l.index))),j=l.index+l[0].length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),w=f in b,H&&B[f]&&U.length>0&&U[U.length-1].name===f&&V(f);var K=WT(M,l[8]);if(null!==K){if("all"===K){j=UT(t,n,I.lastIndex),I.lastIndex=j;continue}_=!1}if(!C||(k=t.getElementRule(f))){if(_=!0,C&&(S=k.attributes,N=k.attributePatterns),(E=l[8])?(v=-1!==E.indexOf("data-mce-type"),v&&y&&(_=!1),p=[],p.map={},E.replace(M,Y)):(p=[],p.map={}),C&&!v){if(D=k.attributesRequired,R=k.attributesDefault,A=k.attributesForced,P=k.removeEmptyAttrs,P&&!p.length&&(_=!1),A)for(h=A.length;h--;)T=A[h],g=T.name,F=T.value,"{$uid}"===F&&(F="mce_"+W++),p.map[g]=F,p.push({name:g,value:F});if(R)for(h=R.length;h--;)T=R[h],(g=T.name)in p.map||(F=T.value,"{$uid}"===F&&(F="mce_"+W++),p.map[g]=F,p.push({name:g,value:F}));if(D){for(h=D.length;h--&&!(D[h]in p.map););-1===h&&(_=!1)}if(T=p.map["data-mce-bogus"]){if("all"===T){j=UT(t,n,I.lastIndex),I.lastIndex=j;continue}_=!1}}_&&a(f,p,w)}else _=!1;if(d=L[f]){d.lastIndex=j=l.index+l[0].length,(l=d.exec(n))?(_&&(m=n.substr(j,l.index-j)),j=l.index+l[0].length):(m=n.substr(j),j=n.length),_&&(m.length>0&&o(m,!0),s(f)),I.lastIndex=j;continue}w||(E&&E.indexOf("/")===E.length-1?_&&s(f):U.push({name:f,valid:_}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?i(HT(f)):(f=l[3])?c(f):(f=l[4])&&u(f,l[5]);j=l.index+l[0].length}for(j<n.length&&o($(n.substr(j))),h=U.length-1;h>=0;h--)f=U[h],f.valid&&s(f.name)}}}function K(e){var t,n,r=this,i=0,o=[],a=0,s=function(){return 0===a},u=function(e){s()&&(r.typing=e)},c=function(t){e.setDirty(t)},l=function(e){u(!1),r.add({},e)},f=function(){r.typing&&(u(!1),r.add())};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var i=t.keyCode;t.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||t.ctrlKey)&&(l(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),n&&r.typing&&!1===gE.isEq(gE.createFromEditor(e),o[0])&&(!1===e.isDirty()&&(c(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(r.typing&&l(e));var i=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||i||(r.beforeChange(),u(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)});var d=function(e){return"insertReplacementText"===e.inputType},p=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(d(e)||p(e))&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:o,typing:!1,beforeChange:function(){s()&&(t=$l.getUndoBookmark(e.selection))},add:function(n,r){var a,u,l,f=e.settings;if(l=gE.createFromEditor(e),n=n||{},n=vr.extend(n,l),!1===s()||e.removed)return null;if(u=o[i],e.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:r}).isDefaultPrevented())return null;if(u&&gE.isEq(u,n))return null;if(o[i]&&(o[i].beforeBookmark=t),f.custom_undo_redo_levels&&o.length>f.custom_undo_redo_levels){for(a=0;a<o.length-1;a++)o[a]=o[a+1];o.length--,i=o.length}n.bookmark=$l.getUndoBookmark(e.selection),i<o.length-1&&(o.length=i+1),o.push(n),i=o.length-1;var d={level:n,lastLevel:u,originalEvent:r};return e.fire("AddUndo",d),i>0&&(c(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,u(!1)),i>0&&(t=o[--i],gE.applyToEditor(e,t,!0),c(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return i<o.length-1&&(t=o[++i],gE.applyToEditor(e,t,!1),c(!0),e.fire("redo",{level:t})),t},clear:function(){o=[],i=0,r.typing=!1,r.data=o,e.fire("ClearUndos")},hasUndo:function(){return i>0||r.typing&&o[0]&&!gE.isEq(gE.createFromEditor(e),o[0])},hasRedo:function(){return i<o.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;r.transact(t)&&(s=o[i].bookmark,a=o[i-1],gE.applyToEditor(e,a,!0),r.transact(n)&&(o[i-1].beforeBookmark=s))}}}function X(e){var t={},n=function(e){return e?t[e]:t},r=function(e,n){e&&("string"!=typeof e?vr.each(e,function(e,t){r(t,e)}):(n=n.length?n:[n],vr.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return r(dS.get(e.dom)),r(e.settings.formats),{get:n,register:r,unregister:i}}function G(e){var t=X(e),n=nu(null);return _S.setup(e),Qb(e),{get:t.get,register:t.register,unregister:t.unregister,apply:i(oS.applyFormat,e),remove:i(FE.remove,e),toggle:i(CS.toggle,e,t),match:i(Bb.match,e),matchAll:i(Bb.matchAll,e),matchNode:i(Bb.matchNode,e),canApply:i(Bb.canApply,e),formatChanged:i(lS.formatChanged,e,n),getCssText:i(xS.getCssText,e)}}function J(e,t){void 0===t&&(t=w());var n={},r=[],i={},o={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,i,o,a,u,c,l,f,d,p,h,m,g,v,y;for(h=ZS("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),p=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(o=[r],i=r.parent;i&&!t.isValidChild(i.name,r.name)&&!h[i.name];i=i.parent)o.push(i);if(i&&o.length>1){for(o.reverse(),a=u=s(o[0].clone()),f=0;f<o.length-1;f++){for(t.isValidChild(u.name,o[f].name)?(c=s(o[f].clone()),u.append(c)):c=u,l=o[f].firstChild;l&&l!==o[f+1];)y=l.next,c.append(l),l=y;u=c}XS(t,d,p,a)?i.insert(r,o[0],!0):(i.insert(a,o[0],!0),i.insert(r,a)),i=o[0],(XS(t,d,p,i)||YS(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(s(new zS("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new zS("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,s;a=e.name,a in n&&(s=i[a],s?s.push(e):i[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&(s=o[a],s?s.push(e):o[a]=[e]);return e},u=function(e,t){QS(eN(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},c=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){QS(eN(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},f=function(){return[].concat(r)},d=function(s,u){var c,l,f,d,p,h,m,g,v,y,b,x=[];u=u||{},i={},o={},v=tN(ZS("script,style,head,html,body,title,meta,param"),t.getBlockElements());var w=t.getNonEmptyElements(),C=t.children,k=e.validate,_="forced_root_block"in u?u.forced_root_block:e.forced_root_block,T=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,S=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/;y=T.hasOwnProperty(u.context)||T.hasOwnProperty(e.root_name);var R=function(e,t){var r,o=new zS(e,t);return e in n&&(r=i[e],r?r.push(o):i[e]=[o]),o},A=function(e){var n,r,i,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(i=n.value.replace(S,""),i.length>0)return void(n.value=i);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};c=$T({validate:k,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){b.append(R("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(N," "),GS(b.lastChild,v)&&(e=e.replace(E,""))),0!==e.length&&(n=R("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(R("#comment",8)).value=e},pi:function(e,t){b.append(R(e,7)).value=t,A(b)},doctype:function(e){var t;t=b.append(R("#doctype",10)),t.value=e,A(b)},start:function(e,n,i){var a,s,u,c,l;if(u=k?t.getElementRule(e):{}){for(a=R(u.outputName||e,1),a.attributes=n,a.shortEnded=i,b.append(a),l=C[b.name],l&&C[a.name]&&!l[a.name]&&x.push(a),s=r.length;s--;)(c=r[s].name)in n.map&&(m=o[c],m?m.push(a):o[c]=[a]);v[e]&&A(a),i||(b=a),!y&&T[e]&&(y=!0)}},end:function(n){var r,i,o,a,s;if(i=k?t.getElementRule(n):{}){if(v[n]&&!y){if((r=b.firstChild)&&3===r.type)if(o=r.value.replace(E,""),o.length>0)r.value=o,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.next,(0===o.length||D.test(o))&&(r.remove(),r=a),r=a;if((r=b.lastChild)&&3===r.type)if(o=r.value.replace(S,""),o.length>0)r.value=o,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.prev,(0===o.length||D.test(o))&&(r.remove(),r=a),r=a}if(y&&T[n]&&(y=!1),i.removeEmpty&&XS(t,w,T,b)&&!b.attributes.map.name&&!b.attr("id"))return s=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=s);i.paddEmpty&&(VS(b)||XS(t,w,T,b))&&qS(e,u,v,b),b=b.parent}}},t);var O=b=new zS(u.context||e.root_name,11);if(c.parse(s),k&&x.length&&(u.context?u.invalid=!0:a(x)),_&&("body"===O.name||u.isRootContent)&&function(){var n,r,i=O.firstChild,o=function(e){e&&(i=e.firstChild,i&&3===i.type&&(i.value=i.value.replace(E,"")),(i=e.lastChild)&&3===i.type&&(i.value=i.value.replace(S,"")))};if(t.isValidChild(O.name,_.toLowerCase())){for(;i;)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?r?r.append(i):(r=R(_,1),r.attr(e.forced_root_block_attrs),O.insert(r,i),r.append(i)):(o(r),r=null),i=n;o(r)}}(),!u.invalid){for(g in i){for(m=n[g],l=i[g],p=l.length;p--;)l[p].parent||l.splice(p,1);for(f=0,d=m.length;f<d;f++)m[f](l,g,u)}for(f=0,d=r.length;f<d;f++)if(m=r[f],m.name in o){for(l=o[m.name],p=l.length;p--;)l[p].parent||l.splice(p,1);for(p=0,h=m.callbacks.length;p<h;p++)m.callbacks[p](l,m.name,u)}}return O},p={schema:t,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:u,getNodeFilters:c,filterNode:s,parse:d};return JS(p,e),jS.register(p,e),p}function Z(e,t){var n,r,o,a=["data-mce-selected"];n=t&&t.dom?t.dom:Ls.DOM,r=t&&t.schema?t.schema:w(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,o=J(e,r),RS.register(o,e,n);var s=function(i,a){var s=SS({format:"html"},a||{}),u=BS.process(t,i,s),c=iN(n,u,s),l=oN(o,c,s);return"tree"===s.format?l:sN(t,e,r,l,s)};return{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:s,addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)},addTempAttr:i(nN,o,a),getTempAttrs:function(){return a}}}function Q(e,t){var n=Z(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function ee(e){return{getBookmark:i(Md.getBookmark,e),moveToBookmark:i(Md.moveToBookmark,e)}}function te(e){var t=vr.each,n=A_.BACKSPACE,i=A_.DELETE,o=e.dom,a=e.selection,s=e.settings,u=e.parser,c=Tt.gecko,l=Tt.ie,f=Tt.webkit,d=l?"Text":"URL",p=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},h=function(e){return e.isDefaultPrevented()},m=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},g=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!h(e)&&e.keyCode===n&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},x=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(Tt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},w=function(){},C=function(){var t;return!c||e.removed?0:!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount};return function(){e.on("keydown",function(t){var n,r,i,s,u;if(!h(t)&&t.keyCode===A_.BACKSPACE&&(n=a.getRng(),r=n.startContainer,i=n.startOffset,s=o.getRoot(),u=r,n.collapsed&&0===i)){for(;u&&u.parentNode&&u.parentNode.firstChild===u&&u.parentNode!==s;)u=u.parentNode;"BLOCKQUOTE"===u.tagName&&(e.formatter.toggle("blockquote",null,u),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}})}(),function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},r=function(n){var r=t(n),i=o.createRng();return i.selectNode(e.getBody()),r===t(i)};e.on("keydown",function(t){var a,s,u=t.keyCode;if(!h(t)&&(u===i||u===n)){if(a=e.selection.isCollapsed(),s=e.getBody(),a&&!o.isEmpty(s))return;if(!a&&!r(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&o.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}})}(),Tt.windowsPhone||function(){e.on("keyup focusin mouseup",function(e){A_.modifierPressed(e)||a.normalize()},!0)}(),f&&(function(){e.settings.content_editable||o.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Ku(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})}(),function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))})}(),function(){s.forced_root_block&&e.on("init",function(){p("DefaultParagraphSeparator",s.forced_root_block)})}(),function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})}(),b(),function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})}(),Tt.iOS?(function(){e.inline||e.on("keydown",function(){r.document.activeElement===r.document.body&&e.getWin().focus()})}(),x(),function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):y()),Tt.ie>=11&&(x(),b()),Tt.ie&&(y(),function(){p("AutoUrlDetect",!1)}(),function(){e.on("dragstart",function(e){m(e)}),e.on("drop",function(t){if(!h(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var r=bN.fromPoint(t.x,t.y,e.getDoc());a.setRng(r),v(n.html,!0)}}})}()),c&&(!function(){e.on("keydown",function(t){if(!h(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var r=a.getNode(),i=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void t.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(o.remove(i),t.preventDefault())}}})}(),function(){r.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!h(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Pt.setEditorTimeout(e,function(){n.focus()})}})}(),function(){var n=function(){var n=o.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock)};e.on("keypress",function(t){var i;if(!h(t)&&(8===t.keyCode||46===t.keyCode)&&r())return i=n(),e.getDoc().execCommand("delete",!1,null),i(),t.preventDefault(),!1}),o.bind(e.getDoc(),"cut",function(t){var i;!h(t)&&r()&&(i=n(),Pt.setEditorTimeout(e,function(){i()}))})}(),function(){var t=function(){p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),s.object_resizing||p("enableObjectResizing",!1)};s.readonly||e.on("BeforeExecCommand MouseDown",t)}(),function(){var n=function(){t(o.select("a"),function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){for(;t&&!o.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})}(),function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){Tt.mac&&e.on("keydown",function(t){!A_.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})}(),b()),{refreshContentEditable:w,isHidden:C}}function ne(e){return{walk:function(t,n){return hp.walk(e,t,n)},split:Lb.split,normalize:function(t){return uw.normalize(e,t).fold(ye(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var re,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,me,ge=function(){},ve=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ye=function(e){return function(){return e}},be=function(e){return e},xe=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},we=function(e){return function(){throw new Error(e)}},Ce=ye(!1),ke=ye(!0),_e=function(){return Te},Te=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:Ce,isSome:Ce,isNone:ke,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ye(null),getOrUndefined:ye(void 0),or:n,orThunk:t,map:_e,each:ge,bind:_e,exists:Ce,forall:ke,filter:_e,equals:e,equals_:e,toArray:function(){return[]},toString:ye("none()")};return Object.freeze&&Object.freeze(r),r}(),Ee=function(e){var t=ye(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:ke,isNone:Ce,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return Ee(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:Te},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(Ce,function(t){return n(e,t)})}};return i},Se=function(e){return null===e||void 0===e?Te:Ee(e)},Ne={some:Ee,none:_e,from:Se},De=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Re=function(e){return function(t){return De(t)===e}},Ae=Re("string"),Oe=Re("object"),Pe=Re("array"),Be=Re("null"),Ie=Re("boolean"),Me=Re("function"),Le=Re("number"),Fe=Array.prototype.slice,He=Array.prototype.indexOf,je=Array.prototype.push,Ue=function(e,t){return He.call(e,t)},We=function(e,t){var n=Ue(e,t);return-1===n?Ne.none():Ne.some(n)},$e=function(e,t){return Ue(e,t)>-1},ze=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},qe=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},Ve=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ye=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ke=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},Xe=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Ge=function(e,t,n){return Ye(e,function(e){n=t(n,e)}),n},Je=function(e,t,n){return Ve(e,function(e){n=t(n,e)}),n},Ze=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return Ne.some(i)}return Ne.none()},Qe=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return Ne.some(n)}return Ne.none()},et=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);je.apply(t,e[n])}return t},tt=function(e,t){var n=qe(e,t);return et(n)},nt=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},rt=function(e){var t=Fe.call(e,0);return t.reverse(),t},it=function(e,t){return Xe(e,function(e){return!$e(t,e)})},ot=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},at=function(e,t){var n=Fe.call(e,0);return n.sort(t),n},st=function(e){return 0===e.length?Ne.none():Ne.some(e[0])},ut=function(e){return 0===e.length?Ne.none():Ne.some(e[e.length-1])},ct=Me(Array.from)?Array.from:function(e){return Fe.call(e)},lt=void 0!==r.window?r.window:Function("return this;")(),ft=function(e,t){for(var n=void 0!==t&&null!==t?t:lt,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},dt=function(e,t){var n=e.split(".");return ft(n,t)},pt=function(e,t){return dt(e,t)},ht=function(e,t){var n=pt(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},mt={getOrDie:ht},gt=function(){return mt.getOrDie("URL")},vt=function(e){return gt().createObjectURL(e)},yt=function(e){gt().revokeObjectURL(e)},bt={createObjectURL:vt,revokeObjectURL:yt},xt=r.navigator,wt=xt.userAgent,Ct=function(e){return"matchMedia"in r.window&&r.matchMedia(e).matches};re=!1,fe=/Android/.test(wt),ie=/WebKit/.test(wt),oe=!ie&&!re&&/MSIE/gi.test(wt)&&/Explorer/gi.test(xt.appName),oe=oe&&/MSIE (\w+)\./.exec(wt)[1],ae=-1!==wt.indexOf("Trident/")&&(-1!==wt.indexOf("rv:")||-1!==xt.appName.indexOf("Netscape"))&&11,se=-1!==wt.indexOf("Edge/")&&!oe&&!ae&&12,oe=oe||ae||se,ue=!ie&&!ae&&/Gecko/.test(wt),ce=-1!==wt.indexOf("Mac"),le=/(iPad|iPhone)/.test(wt),de="FormData"in r.window&&"FileReader"in r.window&&"URL"in r.window&&!!bt.createObjectURL,pe=Ct("only screen and (max-device-width: 480px)")&&(fe||le),he=Ct("only screen and (min-width: 800px)")&&(fe||le),me=-1!==wt.indexOf("Windows Phone"),se&&(ie=!1);var kt,_t=!le||de||parseInt(wt.match(/AppleWebKit\/(\d*)/)[1],10)>=534,Tt={opera:re,webkit:ie,ie:oe,gecko:ue,mac:ce,iOS:le,android:fe,contentEditable:_t,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==oe,range:r.window.getSelection&&"Range"in r.window,documentMode:oe&&!se?r.document.documentMode||7:10,fileApi:de,ceFalse:!1===oe||oe>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===oe||oe>11,desktop:!pe&&!he,windowsPhone:me},Et=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))},l=c.immediateFn||"function"==typeof t&&t||function(e){setTimeout(e,1)};return c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var r=this;return new c(function(i,o){n.call(r,new a(e,t,i,o))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},c}(),St=function(e,t){var n,i=r.window.requestAnimationFrame,o=["ms","moz","webkit"],a=function(e){r.window.setTimeout(e,0)};for(n=0;n<o.length&&!i;n++)i=r.window[o[n]+"RequestAnimationFrame"];i||(i=a),i(e,t)},Nt=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Dt=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Rt=function(e){return clearTimeout(e)},At=function(e){return clearInterval(e)},Ot=function(e,t){var n,r;return r=function(){var r=arguments;clearTimeout(n),n=Nt(function(){e.apply(this,r)},t)},r.stop=function(){clearTimeout(n)},r},Pt={requestAnimationFrame:function(e,t){if(kt)return void kt.then(e);kt=new Et(function(e){t||(t=r.document.body),St(e,t)}).then(e)},setTimeout:Nt,setInterval:Dt,setEditorTimeout:function(e,t,n){return Nt(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=Dt(function(){e.removed?clearInterval(r):t()},n)},debounce:Ot,throttle:Ot,clearInterval:At,clearTimeout:Rt},Bt=/^(?:mouse|contextmenu)|click/,It={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Mt=function(e){return e.isDefaultPrevented===Ft||e.isDefaultPrevented===Lt},Lt=function(){return!1},Ft=function(){return!0},Ht=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},jt=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Ut=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Wt=function(e,t){var n,i=t||{};for(n in e)It[n]||(i[n]=e[n]);if(i.target||(i.target=i.srcElement||r.document),Tt.experimentalShadowDom&&(i.target=Ut(e,i.target)),e&&Bt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=i.target.ownerDocument||r.document,a=o.documentElement,s=o.body;i.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),i.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Ft,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Ft,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Ft,i.stopPropagation()},!1===Mt(i)&&(i.isDefaultPrevented=Lt,i.isPropagationStopped=Lt,i.isImmediatePropagationStopped=Lt),void 0===i.metaKey&&(i.metaKey=!1),i},$t=function(e,t,n){var r=e.document,i={type:"ready"};if(n.domLoaded)return void t(i);var o=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(i))},s=function(){o()&&(jt(r,"readystatechange",s),a())},u=function(){try{r.documentElement.doScroll("left")}catch(e){return void Pt.setTimeout(u)}a()};!r.addEventListener||Tt.ie&&Tt.ie<11?(Ht(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&u()):o()?a():Ht(e,"DOMContentLoaded",a),Ht(e,"load",a)},zt=function(){var e,t,n,i,o,a=this,s={};t="mce-data-"+(+new Date).toString(32),i="onmouseenter"in r.document.documentElement,n="onfocusin"in r.document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,a.domLoaded=!1,a.events=s;var u=function(e,t){var n,r,i,o,a=s[t];if(n=a&&a[e.type])for(r=0,i=n.length;r<i;r++)if(o=n[r],o&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};a.bind=function(c,l,f,d){var p,h,m,g,v,y,b,x=r.window,w=function(e){u(Wt(e||x.event),p)};if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[t]?p=c[t]:(p=e++,c[t]=p,s[p]={}),d=d||c,l=l.split(" "),m=l.length;m--;)g=l[m],y=w,v=b=!1,"DOMContentLoaded"===g&&(g="ready"),a.domLoaded&&"ready"===g&&"complete"===c.readyState?f.call(d,Wt({type:g})):(i||(v=o[g])&&(y=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Wt(e||x.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,u(e,p))}),n||"focusin"!==g&&"focusout"!==g||(b=!0,v="focusin"===g?"focus":"blur",y=function(e){e=Wt(e||x.event),e.type="focus"===e.type?"focusin":"focusout",u(e,p)}),h=s[p][g],h?"ready"===g&&a.domLoaded?f({type:g}):h.push({func:f,scope:d}):(s[p][g]=h=[{func:f,scope:d}],h.fakeName=v,h.capture=b,h.nativeHandler=y,"ready"===g?$t(c,y,a):Ht(c,v||g,y,b)));return c=h=0,f}},a.unbind=function(e,n,r){var i,o,u,c,l,f;if(!e||3===e.nodeType||8===e.nodeType)return a;if(i=e[t]){if(f=s[i],n){for(n=n.split(" "),u=n.length;u--;)if(l=n[u],o=f[l]){if(r)for(c=o.length;c--;)if(o[c].func===r){var d=o.nativeHandler,p=o.fakeName,h=o.capture;o=o.slice(0,c).concat(o.slice(c+1)),o.nativeHandler=d,o.fakeName=p,o.capture=h,f[l]=o}r&&0!==o.length||(delete f[l],jt(e,o.fakeName||l,o.nativeHandler,o.capture))}}else{for(l in f)o=f[l],jt(e,o.fakeName||l,o.nativeHandler,o.capture);f={}}for(l in f)return a;delete s[i];try{delete e[t]}catch(n){e[t]=null}}return a},a.fire=function(e,n,r){var i;if(!e||3===e.nodeType||8===e.nodeType)return a;r=Wt(null,r),r.type=n,r.target=e;do{i=e[t],i&&u(r,i),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return a},a.clean=function(e){var n,r,i=a.unbind;if(!e||3===e.nodeType||8===e.nodeType)return a;if(e[t]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[t]&&i(e);return a},a.destroy=function(){s={}},a.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};zt.Event=new zt,zt.Event.bind(r.window,"ready",function(){});var qt,Vt,Yt,Kt,Xt,Gt,Jt,Zt,Qt,en,tn,nn,rn,on,an,sn,un,cn,ln,fn="sizzle"+-new Date,dn=r.window.document,pn=0,hn=0,mn=o(),gn=o(),vn=o(),yn=function(e,t){return e===t&&(tn=!0),0},bn="undefined",xn=1<<31,wn={}.hasOwnProperty,Cn=[],kn=Cn.pop,_n=Cn.push,Tn=Cn.push,En=Cn.slice,Sn=Cn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Nn="[\\x20\\t\\r\\n\\f]",Dn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Rn="\\["+Nn+"*("+Dn+")(?:"+Nn+"*([*^$|!~]?=)"+Nn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Dn+"))|)"+Nn+"*\\]",An=":("+Dn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Rn+")*)|.*)\\)|)",On=new RegExp("^"+Nn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Nn+"+$","g"),Pn=new RegExp("^"+Nn+"*,"+Nn+"*"),Bn=new RegExp("^"+Nn+"*([>+~]|"+Nn+")"+Nn+"*"),In=new RegExp("="+Nn+"*([^\\]'\"]*?)"+Nn+"*\\]","g"),Mn=new RegExp(An),Ln=new RegExp("^"+Dn+"$"),Fn={ID:new RegExp("^#("+Dn+")"),CLASS:new RegExp("^\\.("+Dn+")"),TAG:new RegExp("^("+Dn+"|[*])"),ATTR:new RegExp("^"+Rn),PSEUDO:new RegExp("^"+An),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Nn+"*(even|odd|(([+-]|)(\\d*)n|)"+Nn+"*(?:([+-]|)"+Nn+"*(\\d+)|))"+Nn+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Nn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Nn+"*((?:-\\d)?\\d*)"+Nn+"*\\)|)(?=[^-]|$)","i")},Hn=/^(?:input|select|textarea|button)$/i,jn=/^h\d$/i,Un=/^[^{]+\{\s*\[native \w/,Wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$n=/[+~]/,zn=/'|\\/g,qn=new RegExp("\\\\([\\da-f]{1,6}"+Nn+"?|("+Nn+")|.)","ig"),Vn=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Tn.apply(Cn=En.call(dn.childNodes),dn.childNodes),Cn[dn.childNodes.length].nodeType}catch(e){Tn={apply:Cn.length?function(e,t){_n.apply(e,En.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Yn=function(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:dn)!==rn&&nn(t),t=t||rn,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(an&&!r){if(i=Wn.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&ln(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Tn.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&Vt.getElementsByClassName)return Tn.apply(n,t.getElementsByClassName(a)),n}if(Vt.qsa&&(!sn||!sn.test(e))){if(p=d=fn,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=Gt(e),(d=t.getAttribute("id"))?p=d.replace(zn,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=$n.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Tn.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return Zt(e.replace(On,"$1"),t,n,r)};Vt=Yn.support={},Xt=Yn.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},nn=Yn.setDocument=function(e){var t,n=e?e.ownerDocument||e:dn,r=n.defaultView;return n!==rn&&9===n.nodeType&&n.documentElement?(rn=n,on=n.documentElement,an=!Xt(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){nn()},!1):r.attachEvent&&r.attachEvent("onunload",function(){nn()})),Vt.attributes=!0,Vt.getElementsByTagName=!0,Vt.getElementsByClassName=Un.test(n.getElementsByClassName),Vt.getById=!0,Yt.find.ID=function(e,t){if(typeof t.getElementById!==bn&&an){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Yt.filter.ID=function(e){var t=e.replace(qn,Vn);return function(e){return e.getAttribute("id")===t}},Yt.find.TAG=Vt.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==bn)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},Yt.find.CLASS=Vt.getElementsByClassName&&function(e,t){if(an)return t.getElementsByClassName(e)},un=[],sn=[],Vt.disconnectedMatch=!0,sn=sn.length&&new RegExp(sn.join("|")),un=un.length&&new RegExp(un.join("|")),t=Un.test(on.compareDocumentPosition),ln=t||Un.test(on.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},yn=t?function(e,t){if(e===t)return tn=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!Vt.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===dn&&ln(dn,e)?-1:t===n||t.ownerDocument===dn&&ln(dn,t)?1:en?Sn.call(en,e)-Sn.call(en,t):0:4&r?-1:1)}:function(e,t){if(e===t)return tn=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],c=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:en?Sn.call(en,e)-Sn.call(en,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===dn?-1:c[i]===dn?1:0},n):rn},Yn.matches=function(e,t){return Yn(e,null,null,t)},Yn.matchesSelector=function(e,t){if((e.ownerDocument||e)!==rn&&nn(e),t=t.replace(In,"='$1']"),Vt.matchesSelector&&an&&(!un||!un.test(t))&&(!sn||!sn.test(t)))try{var n=cn.call(e,t);if(n||Vt.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return Yn(t,rn,null,[e]).length>0},Yn.contains=function(e,t){return(e.ownerDocument||e)!==rn&&nn(e),ln(e,t)},Yn.attr=function(e,t){(e.ownerDocument||e)!==rn&&nn(e);var n=Yt.attrHandle[t.toLowerCase()],r=n&&wn.call(Yt.attrHandle,t.toLowerCase())?n(e,t,!an):void 0;return void 0!==r?r:Vt.attributes||!an?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Yn.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Yn.uniqueSort=function(e){var t,n=[],r=0,i=0;if(tn=!Vt.detectDuplicates,en=!Vt.sortStable&&e.slice(0),e.sort(yn),tn){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return en=null,e},Kt=Yn.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Kt(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=Kt(t);return n},Yt=Yn.selectors={cacheLength:50,createPseudo:a,match:Fn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(qn,Vn),e[3]=(e[3]||e[4]||e[5]||"").replace(qn,Vn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Yn.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Yn.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Fn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Mn.test(n)&&(t=Gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(qn,Vn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=mn[e+" "];return t||(t=new RegExp("(^|"+Nn+")"+e+"("+Nn+"|$)"))&&mn(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==bn&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=Yn.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(l=g[fn]||(g[fn]={}),c=l[e]||[],p=c[0]===pn&&c[1],d=c[0]===pn&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[pn,p,d];break}}else if(y&&(c=(t[fn]||(t[fn]={}))[e])&&c[0]===pn)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[fn]||(f[fn]={}))[e]=[pn,d]),f!==t)););return(d-=i)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=Yt.pseudos[e]||Yt.setFilters[e.toLowerCase()]||Yn.error("unsupported pseudo: "+e);return r[fn]?r(t):r.length>1?(n=[e,e,"",t],Yt.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=Sn.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:a(function(e){var t=[],n=[],r=Jt(e.replace(On,"$1"));return r[fn]?a(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:a(function(e){return function(t){return Yn(e,t).length>0}}),contains:a(function(e){return e=e.replace(qn,Vn),function(t){return(t.textContent||t.innerText||Kt(t)).indexOf(e)>-1}}),lang:a(function(e){return Ln.test(e||"")||Yn.error("unsupported lang: "+e),e=e.replace(qn,Vn).toLowerCase(),function(t){var n;do{if(n=an?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.window.location&&r.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===on},focus:function(e){return e===rn.activeElement&&(!rn.hasFocus||rn.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Yt.pseudos.empty(e)},header:function(e){return jn.test(e.nodeName)},input:function(e){return Hn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Yt.pseudos.nth=Yt.pseudos.eq;for(qt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Yt.pseudos[qt]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(qt);for(qt in{submit:!0,reset:!0})Yt.pseudos[qt]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(qt);l.prototype=Yt.filters=Yt.pseudos,Yt.setFilters=new l,Gt=Yn.tokenize=function(e,t){var n,r,i,o,a,s,u,c=gn[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=Yt.preFilter;a;){n&&!(r=Pn.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=Bn.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(On," ")}),a=a.slice(n.length));for(o in Yt.filter)!(r=Fn[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Yn.error(e):gn(e,s).slice(0)},Jt=Yn.compile=function(e,t){var n,r=[],i=[],o=vn[e+" "];if(!o){for(t||(t=Gt(e)),n=t.length;n--;)o=v(t[n]),o[fn]?r.push(o):i.push(o);o=vn(e,y(i,r)),o.selector=e}return o},Zt=Yn.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&Gt(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&Vt.getById&&9===t.nodeType&&an&&Yt.relative[o[1].type]){if(!(t=(Yt.find.ID(a.matches[0].replace(qn,Vn),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Fn.needsContext.test(e)?0:o.length;i--&&(a=o[i],!Yt.relative[s=a.type]);)if((u=Yt.find[s])&&(r=u(a.matches[0].replace(qn,Vn),$n.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Tn.apply(n,r),n;break}}return(l||Jt(e,d))(r,t,!an,n,$n.test(e)&&c(t.parentNode)||t),n},Vt.sortStable=fn.split("").sort(yn).join("")===fn,Vt.detectDuplicates=!!tn,nn(),Vt.sortDetached=!0;var Kn=Array.isArray,Xn=function(e){var t,n,r=e;if(!Kn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},Gn=function(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},Jn=function(e,t){var n=[];return Gn(e,function(r,i){n.push(t(r,i,e))}),n},Zn=function(e,t){var n=[];return Gn(e,function(r,i){t&&!t(r,i,e)||n.push(r)}),n},Qn=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},er=function(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n},tr=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},nr=function(e,t,n){var r=tr(e,t,n);if(-1!==r)return e[r]},rr=function(e){return e[e.length-1]},ir={isArray:Kn,toArray:Xn,each:Gn,map:Jn,filter:Zn,indexOf:Qn,reduce:er,findIndex:tr,find:nr,last:rr},or=/^\s*|\s*$/g,ar=function(e){return null===e||void 0===e?"":(""+e).replace(or,"")},sr=function(e,t){return t?!("array"!==t||!ir.isArray(e))||typeof e===t:void 0!==e},ur=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},cr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},lr=function(e,t,n){var r,i,o,a,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],i=u.createNS(e[3].replace(/\.\w+$/,""),n),!i[o]){if("static"===e[2])return i[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[o]));t[o]||(t[o]=function(){},c=1),i[o]=t[o],u.extend(i[o].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],u.each(r,function(e,t){i[o].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==o&&(i[o].prototype[t]=e)})),u.each(t.static,function(e,t){i[o][t]=e})}},fr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i,o,a,s,u=arguments;for(i=1,o=u.length;i<o;i++){t=u[i];for(a in t)t.hasOwnProperty(a)&&void 0!==(s=t[a])&&(e[a]=s)}return e},dr=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ir.each(e,function(e,i){if(!1===t.call(r,e,i,n))return!1;dr(e,t,n,r)}))},pr=function(e,t){var n,i;for(t=t||r.window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t},hr=function(e,t){var n,i;for(t=t||r.window,e=e.split("."),n=0,i=e.length;n<i&&(t=t[e[n]]);n++);return t},mr=function(e,t){return!e||sr(e,"array")?e:ir.map(e.split(t||","),ar)},gr=function(e){var t=Tt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},vr={trim:ar,isArray:ir.isArray,is:sr,toArray:ir.toArray,makeMap:ur,each:ir.each,map:ir.map,grep:ir.filter,inArray:ir.indexOf,hasOwn:cr,extend:fr,create:lr,walk:dr,createNS:pr,resolve:hr,explode:mr,_addCacheSuffix:gr},yr=r.document,br=Array.prototype.push,xr=Array.prototype.slice,wr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Cr=zt.Event,kr=vr.makeMap("children,contents,next,prev"),_r=function(e){return void 0!==e},Tr=function(e){return"string"==typeof e},Er=function(e){return e&&e===e.window},Sr=function(e,t){var n,r,i;for(t=t||yr,i=t.createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n},Nr=function(e,t,n,r){var i;if(Tr(t))t=Sr(t,$r(e[0]));else if(t.length&&!t.nodeType){if(t=Lr.makeArray(t),r)for(i=t.length-1;i>=0;i--)Nr(e,t[i],n,r);else for(i=0;i<t.length;i++)Nr(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e},Dr=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Rr=function(e,t,n){var r,i;return t=Lr(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e},Ar=vr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Or=vr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Pr={for:"htmlFor",class:"className",readonly:"readOnly"},Br={float:"cssFloat"},Ir={},Mr={},Lr=function(e,t){return new Lr.fn.init(e,t)},Fr=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},Hr=/^\s*|\s*$/g,jr=function(e){return null===e||void 0===e?"":(""+e).replace(Hr,"")},Ur=function(e,t){var n,r,i,o;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===t.call(o,r,o)))break}else for(i=0;i<n&&(o=e[i],!1!==t.call(o,i,o));i++);return e},Wr=function(e,t){var n=[];return Ur(e,function(e,r){t(r,e)&&n.push(r)}),n},$r=function(e){return e?9===e.nodeType?e:e.ownerDocument:yr};Lr.fn=Lr.prototype={constructor:Lr,selector:"",context:null,length:0,init:function(e,t){var n,i,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Lr(e).attr(t);o.context=t=r.document}if(Tr(e)){if(o.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:wr.exec(e)))return Lr(t).find(e);if(n[1])for(i=Sr(e,$r(t)).firstChild;i;)br.call(o,i),i=i.nextSibling;else{if(!(i=$r(t).getElementById(n[2])))return o;if(i.id!==n[2])return o.find(e);o.length=1,o[0]=i}}else this.add(e,!1);return o},toArray:function(){return vr.toArray(this)},add:function(e,t){var n,r,i=this;if(Tr(e))return i.add(Lr(e));if(!1!==t)for(n=Lr.unique(i.toArray().concat(Lr.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else br.apply(i,Lr.makeArray(e));return i},attr:function(e,t){var n,r=this;if("object"==typeof e)Ur(e,function(e,t){r.attr(e,t)});else{if(!_r(t)){if(r[0]&&1===r[0].nodeType){if((n=Ir[e])&&n.get)return n.get(r[0],e);if(Or[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Ir[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Pr[e]||e))Ur(e,function(e,t){n.prop(e,t)});else{if(!_r(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,i=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Ur(e,function(e,t){i.css(e,t)});else if(_r(t))e=o(e),"number"!=typeof t||Ar[e]||(t=t.toString()+"px"),i.each(function(){var n=this.style;if((r=Mr[e])&&r.set)return void r.set(this,t);try{this.style[Br[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=i[0],(r=Mr[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return i},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Cr.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(_r(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){Lr(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(_r(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Nr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Nr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Nr(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Nr(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return Lr(e).append(this),this},prependTo:function(e){return Lr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Rr(this,e)},wrapAll:function(e){return Rr(this,e,!0)},wrapInner:function(e){return this.each(function(){Lr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Lr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Lr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?Ur(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;(o=Dr(r,e))!==t&&(i=r.className,o?r.className=jr((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return Dr(this[0],e)},each:function(e){return Ur(this,e)},on:function(e,t){return this.each(function(){Cr.bind(this,e,t)})},off:function(e,t){return this.each(function(){Cr.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Cr.fire(this,e.type,e):Cr.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Lr(xr.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Lr.find(e,this[t],r);return Lr(r)},filter:function(e){return Lr("function"==typeof e?Wr(this.toArray(),function(t,n){return e(n,t)}):Lr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Lr&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&Lr(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),Lr(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(i=t.getBoundingClientRect(),o=i.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:br,sort:[].sort,splice:[].splice},vr.extend(Lr,{extend:vr.extend,makeArray:function(e){return Er(e)||e.nodeType?[e]:vr.toArray(e)},inArray:Fr,isArray:vr.isArray,each:Ur,trim:jr,grep:Wr,find:Yn,expr:Yn.selectors,unique:Yn.uniqueSort,text:Yn.getText,contains:Yn.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Lr.find.matchesSelector(t[0],e)?[t[0]]:[]:Lr.find.matches(e,t)}});var zr=function(e,t,n){var r=[],i=e[t];for("string"!=typeof n&&n instanceof Lr&&(n=n[0]);i&&9!==i.nodeType;){if(void 0!==n){if(i===n)break;if("string"==typeof n&&Lr(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r},qr=function(e,t,n,r){var i=[];for(r instanceof Lr&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Lr(e).is(r))break}i.push(e)}return i},Vr=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Ur({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return zr(e,"parentNode")},next:function(e){return Vr(e,"nextSibling",1)},prev:function(e){return Vr(e,"previousSibling",1)},children:function(e){return qr(e.firstChild,"nextSibling",1)},contents:function(e){return vr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Lr.fn[e]=function(n){var r=this,i=[];return r.each(function(){var e=t.call(i,this,n,i);e&&(Lr.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(kr[e]||(i=Lr.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=Lr(i),n?i.filter(n):i}}),Ur({parentsUntil:function(e,t){return zr(e,"parentNode",t)},nextUntil:function(e,t){return qr(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return qr(e,"previousSibling",1,t).slice(1)}},function(e,t){Lr.fn[e]=function(n,r){var i=this,o=[];return i.each(function(){var e=t.call(o,this,n,o);e&&(Lr.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=Lr.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=Lr(o),r?o.filter(r):o}}),Lr.fn.is=function(e){return!!e&&this.filter(e).length>0},Lr.fn.init.prototype=Lr.fn,Lr.overrideDefaults=function(e){var t,n=function(r,i){return t=t||e(),0===arguments.length&&(r=t.element),i||(i=t.context),new n.fn.init(r,i)};return Lr.extend(n,this),n};var Yr=function(e,t,n){Ur(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};Tt.ie&&Tt.ie<8&&(Yr(Ir,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),Yr(Ir,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),Tt.ie&&Tt.ie<9&&(Br.float="styleFloat",Yr(Mr,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Lr.attrHooks=Ir,Lr.cssHooks=Mr;var Kr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Xr=function(e,t){var n=Kr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Zr(r(1),r(2))},Gr=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Jr():Xr(e,n)},Jr=function(){return Zr(0,0)},Zr=function(e,t){return{major:e,minor:t}},Qr={nu:Zr,detect:Gr,unknown:Jr},ei=function(e,t){return function(){return t===e}},ti=function(){return ni({current:void 0,version:Qr.unknown()})},ni=function(e){var t=e.current;return{current:t,version:e.version,isEdge:ei("Edge",t),isChrome:ei("Chrome",t),isIE:ei("IE",t),isOpera:ei("Opera",t),isFirefox:ei("Firefox",t),isSafari:ei("Safari",t)}},ri={unknown:ti,nu:ni,edge:ye("Edge"),chrome:ye("Chrome"),ie:ye("IE"),opera:ye("Opera"),firefox:ye("Firefox"),safari:ye("Safari")},ii=function(e,t){return function(){return t===e}},oi=function(){return ai({current:void 0,version:Qr.unknown()})},ai=function(e){var t=e.current;return{current:t,version:e.version,isWindows:ii("Windows",t),isiOS:ii("iOS",t),isAndroid:ii("Android",t),isOSX:ii("OSX",t),isLinux:ii("Linux",t),isSolaris:ii("Solaris",t),isFreeBSD:ii("FreeBSD",t)}},si={unknown:oi,nu:ai,windows:ye("Windows"),ios:ye("iOS"),android:ye("Android"),linux:ye("Linux"),osx:ye("OSX"),solaris:ye("Solaris"),freebsd:ye("FreeBSD")},ui=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,o=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||o||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:ye(r),isiPhone:ye(i),isTablet:ye(s),isPhone:ye(c),isTouch:ye(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ye(l)}},ci=function(e,t){var n=String(t).toLowerCase();return Ze(e,function(e){return e.search(n)})},li=function(e,t){return ci(e,t).map(function(e){var n=Qr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},fi=function(e,t){return ci(e,t).map(function(e){var n=Qr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},di={detectBrowser:li,detectOs:fi},pi=function(e,t){return-1!==e.indexOf(t)},hi=function(e){return e.replace(/^\s+|\s+$/g,"")},mi=function(e){return e.replace(/^\s+/g,"")},gi=function(e){return e.replace(/\s+$/g,"")},vi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yi=function(e){return function(t){return pi(t,e)}},bi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return pi(e,"edge/")&&pi(e,"chrome")&&pi(e,"safari")&&pi(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vi],search:function(e){return pi(e,"chrome")&&!pi(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return pi(e,"msie")||pi(e,"trident")}},{name:"Opera",versionRegexes:[vi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yi("firefox")},{name:"Safari",versionRegexes:[vi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(pi(e,"safari")||pi(e,"mobile/"))&&pi(e,"applewebkit")}}],xi=[{name:"Windows",search:yi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return pi(e,"iphone")||pi(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yi("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yi("linux"),versionRegexes:[]},{name:"Solaris",search:yi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yi("freebsd"),versionRegexes:[]}],wi={browsers:ye(bi),oses:ye(xi)},Ci=function(e){var t=wi.browsers(),n=wi.oses(),r=di.detectBrowser(t,e).fold(ri.unknown,ri.nu),i=di.detectOs(n,e).fold(si.unknown,si.nu);return{browser:r,os:i,deviceType:ui(i,r,e)}},ki={detect:Ci},_i=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}}(function(){var e=r.navigator.userAgent;return ki.detect(e)}),Ti={detect:_i},Ei=function(e,t){var n=t||r.document,i=n.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw r.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Di(i.childNodes[0])},Si=function(e,t){var n=t||r.document,i=n.createElement(e);return Di(i)},Ni=function(e,t){var n=t||r.document,i=n.createTextNode(e);return Di(i)},Di=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ye(e)}},Ri=function(e,t,n){var r=e.dom();return Ne.from(r.elementFromPoint(t,n)).map(Di)},Ai={fromHtml:Ei,fromTag:Si,fromText:Ni,fromDom:Di,fromPoint:Ri},Oi=(r.Node.ATTRIBUTE_NODE,r.Node.CDATA_SECTION_NODE,r.Node.COMMENT_NODE,r.Node.DOCUMENT_NODE),Pi=(r.Node.DOCUMENT_TYPE_NODE,r.Node.DOCUMENT_FRAGMENT_NODE,r.Node.ELEMENT_NODE),Bi=r.Node.TEXT_NODE,Ii=(r.Node.PROCESSING_INSTRUCTION_NODE,r.Node.ENTITY_REFERENCE_NODE,r.Node.ENTITY_NODE,r.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),Mi=function(e){return e.dom().nodeType},Li=function(e){return function(t){return Mi(t)===e}},Fi=Li(Pi),Hi=Li(Bi),ji=Object.keys,Ui=Object.hasOwnProperty,Wi=function(e,t){for(var n=ji(e),r=0,i=n.length;r<i;r++){var o=n[r];t(e[o],o)}},$i=function(e,t){return zi(e,function(e,n){return{k:n,v:t(e,n)}})},zi=function(e,t){var n={};return Wi(e,function(e,r){var i=t(e,r);n[i.k]=i.v}),n},qi=function(e,t){var n={},r={};return Wi(e,function(e,i){(t(e,i)?n:r)[i]=e}),{t:n,f:r}},Vi=function(e,t){return Ui.call(e,t)},Yi=function(e){return void 0!==e.style&&Me(e.style.getPropertyValue)},Ki=function(e){var t=Hi(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Xi=function(e,t,n){if(!(Ae(n)||Ie(n)||Le(n)))throw r.console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Gi=function(e,t,n){Xi(e.dom(),t,n)},Ji=function(e,t){var n=e.dom();Wi(t,function(e,t){Xi(n,t,e)})},Zi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Qi=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},eo=function(e,t){e.dom().removeAttribute(t)},to=function(e,t,n){if(!Ae(n))throw r.console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Yi(e)&&e.style.setProperty(t,n)},no=function(e,t){var n=e.dom();Wi(t,function(e,t){to(n,t,e)})},ro=function(e,t){var n=e.dom(),i=r.window.getComputedStyle(n),o=i.getPropertyValue(t),a=""!==o||Ki(e)?o:io(n,t);return null===a?void 0:a},io=function(e,t){return Yi(e)?e.style.getPropertyValue(t):""},oo=function(e,t){var n=e.dom(),r=io(n,t);return Ne.from(r).filter(function(e){return e.length>0})},ao=function(e){var t={},n=e.dom();if(Yi(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Ve(e,function(e,n){r[e]=ye(t[n])}),r}},uo=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n},co={toArray:uo},lo=function(){return mt.getOrDie("Node")},fo=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},po=function(e,t){return fo(e,t,lo().DOCUMENT_POSITION_PRECEDING)},ho=function(e,t){return fo(e,t,lo().DOCUMENT_POSITION_CONTAINED_BY)},mo={documentPositionPreceding:po,documentPositionContainedBy:ho},go=Pi,vo=Oi,yo=function(e,t){var n=e.dom();if(n.nodeType!==go)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},bo=function(e){return e.nodeType!==go&&e.nodeType!==vo||0===e.childElementCount},xo=function(e,t){var n=void 0===t?r.document:t.dom();return bo(n)?[]:qe(n.querySelectorAll(e),Ai.fromDom)},wo=function(e,t){var n=void 0===t?r.document:t.dom();return bo(n)?Ne.none():Ne.from(n.querySelector(e)).map(Ai.fromDom)},Co=function(e,t){return e.dom()===t.dom()},ko=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},_o=function(e,t){return mo.documentPositionContainedBy(e.dom(),t.dom())},To=Ti.detect().browser,Eo=To.isIE()?_o:ko,So=function(e){return Ai.fromDom(e.dom().ownerDocument)},No=function(e){return Ai.fromDom(e.dom().ownerDocument.documentElement)},Do=function(e){return Ai.fromDom(e.dom().ownerDocument.defaultView)},Ro=function(e){return Ne.from(e.dom().parentNode).map(Ai.fromDom)},Ao=function(e,t){for(var n=Me(t)?t:Ce,r=e.dom(),i=[];null!==r.parentNode&&void 0!==r.parentNode;){var o=r.parentNode,a=Ai.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},Oo=function(e){return Ne.from(e.dom().previousSibling).map(Ai.fromDom)},Po=function(e){return Ne.from(e.dom().nextSibling).map(Ai.fromDom)},Bo=function(e){return rt(co.toArray(e,Oo))},Io=function(e){return co.toArray(e,Po)},Mo=function(e){return qe(e.dom().childNodes,Ai.fromDom)},Lo=function(e,t){var n=e.dom().childNodes;return Ne.from(n[t]).map(Ai.fromDom)},Fo=function(e){return Lo(e,0)},Ho=function(e){return Lo(e,e.dom().childNodes.length-1)},jo=function(e){return e.dom().childNodes.length},Uo=(so("element","offset"),Ti.detect().browser),Wo=function(e){return Ze(e,Fi)},$o=function(e){return Uo.isFirefox()&&"table"===Ii(e)?Wo(Mo(e)).filter(function(e){return"caption"===Ii(e)}).bind(function(e){return Wo(Io(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,i=e.dom().offsetHeight;return n<=r?-i:0})}).getOr(0):0},zo=function(e,t,n){var r,i,o=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ro(Ai.fromDom(e),"position"))return i=t.getBoundingClientRect(),o=i.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,a=i.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:o,y:a};for(r=t;r&&r!==n&&r.nodeType;)o+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)o-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=$o(Ai.fromDom(t))}return{x:o,y:a}},qo={getPos:zo},Vo={},Yo={exports:Vo};!function(e,t,r,i){!function(i){if("object"==typeof t&&void 0!==r)r.exports=i();else if("function"==typeof e&&e.amd)e([],i);else{var o;o="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=i()}}(function(){return function(){function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return o(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[t]=!0,o(function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,Vo,Yo,void 0);var Ko,Xo,Go,Jo=Yo.exports.boltExport,Zo=function(e){var t=Ne.none(),n=[],i=function(e){return Zo(function(t){o(function(n){t(e(n))})})},o=function(e){s()?c(e):n.push(e)},a=function(e){t=Ne.some(e),u(n),n=[]},s=function(){return t.isSome()},u=function(e){Ve(e,c)},c=function(e){t.each(function(t){r.setTimeout(function(){e(t)},0)})};return e(a),{get:o,map:i,isReady:s}},Qo=function(e){return Zo(function(t){t(e)})},ea={nu:Zo,pure:Qo},ta=function(e){r.setTimeout(function(){throw e},0)},na=function(e){var t=function(t){e().then(t,ta)};return{map:function(t){return na(function(){return e().then(t)})},bind:function(t){return na(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return na(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return ea.nu(t)},toCached:function(){var t=null;return na(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},ra=function(e){return na(function(){return new Jo(e)})},ia=function(e){return na(function(){return Jo.resolve(e)})},oa={nu:ra,pure:ia},aa=function(e,t){return t(function(t){var n=[],r=0,i=function(i){return function(o){n[i]=o,++r>=e.length&&t(n)}};0===e.length?t([]):Ve(e,function(e,t){e.get(i(t))})})},sa=function(e){return aa(e,oa.nu)},ua=function(e){var t=function(t){return e===t},n=function(t){return ua(e)},r=function(t){return ua(e)},i=function(t){return ua(t(e))},o=function(t){return ua(e)},a=function(t){t(e)},s=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Ne.some(e)};return{is:t,isValue:ke,isError:Ce,getOr:ye(e),getOrThunk:ye(e),getOrDie:ye(e),or:n,orThunk:r,fold:u,map:i,mapError:o,each:a,bind:s,exists:c,forall:l,toOption:f}},ca=function(e){var t=function(e){return e()},n=function(){return we(String(e))()},r=function(e){return e},i=function(e){return e()},o=function(t){return ca(e)},a=function(t){return ca(t(e))},s=function(t){return ca(e)};return{is:Ce,isValue:Ce,isError:ke,getOr:be,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:function(t,n){return t(e)},map:o,mapError:a,each:ge,bind:s,exists:Ce,forall:ke,toOption:Ne.none}},la=function(e,t){return e.fold(function(){return ca(t)},ua)},fa={value:ua,error:ca,fromOption:la},da=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],pa=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],ha=["td","th"],ma=["thead","tbody","tfoot"],ga=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],va=["h1","h2","h3","h4","h5","h6"],ya=["li","dd","dt"],ba=["ul","ol","dl"],xa=["pre","script","textarea","style"],wa=function(e){var t;return function(n){return t=t||ot(e,ye(!0)),t.hasOwnProperty(Ii(n))}},Ca=wa(va),ka=wa(da),_a=function(e){return Fi(e)&&!ka(e)},Ta=function(e){return Fi(e)&&"br"===Ii(e)},Ea=wa(ga),Sa=wa(ba),Na=wa(ya),Da=wa(pa),Ra=wa(ma),Aa=wa(ha),Oa=wa(xa),Pa=function(e){return function(t){return!!t&&t.nodeType===e}},Ba=function(e){return!!e&&!Object.getPrototypeOf(e)},Ia=Pa(1),Ma=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},La=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(Ia(t))for(r=0;r<n.length;r++){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===n[r])return!0}return!1}},Fa=function(e,t){return function(n){return Ia(n)&&n[e]===t}},Ha=function(e,t){return function(t){return Ia(t)&&t.hasAttribute(e)}},ja=function(e,t){return function(n){return Ia(n)&&n.getAttribute(e)===t}},Ua=function(e){return Ia(e)&&e.hasAttribute("data-mce-bogus")},Wa=function(e){return Ia(e)&&"all"===e.getAttribute("data-mce-bogus")},$a=function(e){return Ia(e)&&"TABLE"===e.tagName},za=function(e){return function(t){if(Ia(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},qa=Pa(3),Va=Pa(8),Ya=Pa(9),Ka=Pa(11),Xa=Ma("br"),Ga=za("true"),Ja=za("false"),Za={isText:qa,isElement:Ia,isComment:Va,isDocument:Ya,isDocumentFragment:Ka,isBr:Xa,isContentEditableTrue:Ga,isContentEditableFalse:Ja,isRestrictedNode:Ba,matchNodeNames:Ma,hasPropValue:Fa,hasAttribute:Ha,hasAttributeValue:ja,matchStyleValues:La,isBogus:Ua,isBogusAll:Wa,isTable:$a},Qa=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},es=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},ts=function(e,t){var n,r=t.childNodes;if(!Za.isElement(t)||!es(t)){for(n=r.length-1;n>=0;n--)ts(e,r[n]);if(!1===Za.isDocument(t)){if(Za.isText(t)&&t.nodeValue.length>0){var i=vr.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||i>0)return;if(0===i&&Qa(t))return}else if(Za.isElement(t)&&(r=t.childNodes,1===r.length&&es(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Da(Ai.fromDom(t))))return;e.remove(t)}return t}},ns={trimNode:ts},rs=vr.makeMap,is=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,os=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,as=/[<>&\"\']/g,ss=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,us={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};Xo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Go={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var cs=function(e){var t;return t=Ai.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},ls=function(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Xo[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}};Ko=ls("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var fs=function(e,t){return e.replace(t?is:os,function(e){return Xo[e]||e})},ds=function(e){return(""+e).replace(as,function(e){return Xo[e]||e})},ps=function(e,t){return e.replace(t?is:os,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Xo[e]||"&#"+e.charCodeAt(0)+";"})},hs=function(e,t,n){return n=n||Ko,e.replace(t?is:os,function(e){return Xo[e]||n[e]||e})},ms=function(e,t){var n=ls(t)||Ko,r=function(e,t){return e.replace(t?is:os,function(e){return void 0!==Xo[e]?Xo[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},i=function(e,t){return hs(e,t,n)},o=rs(e.replace(/\+/g,","));return o.named&&o.numeric?r:o.named?t?i:hs:o.numeric?ps:fs},gs=function(e){return e.replace(ss,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):us[t]||String.fromCharCode(t)):Go[e]||Ko[e]||cs(e)})},vs={encodeRaw:fs,encodeAllRaw:ds,encodeNumeric:ps,encodeNamed:hs,getEncodeFunc:ms,decode:gs},ys={},bs={},xs=vr.makeMap,ws=vr.each,Cs=vr.extend,ks=vr.explode,_s=vr.inArray,Ts=function(e,t){return e=vr.trim(e),e?e.split(t||" "):[]},Es=function(e){var t,n,r,i,o,a,s={},u=function(e,n,r){var i,o,a,u=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i};for(r=r||[],n=n||"","string"==typeof r&&(r=Ts(r)),e=Ts(e),i=e.length;i--;)o=Ts([t,n].join(" ")),a={attributes:u(o),attributesOrder:o,children:u(r,bs)},s[e[i]]=a},c=function(e,t){var n,r,i,o;for(e=Ts(e),n=e.length,t=Ts(t);n--;)for(r=s[e[n]],i=0,o=t.length;i<o;i++)r.attributes[t[i]]={},r.attributesOrder.push(t[i])};return ys[e]?ys[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),ws(Ts(a),function(e){u(e,"",r)}),o="center dir isindex noframes",n=[n,o].join(" "),i=[n,r].join(" "),ws(Ts(o),function(e){u(e,"",i)})),i=i||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),u("address dt dd div caption","",i),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",i),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",i),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",i),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",i),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),u("param","name value"),u("map","name",[i,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",i),u("th","colspan rowspan headers scope abbr",i),u("form","accept-charset action autocomplete enctype method name novalidate target",i),u("fieldset","disabled form name",[i,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[i,"li"].join(" ")),u("noscript","",i),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",i),u("mark rt rp summary bdi","",r),u("canvas","width height",i),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",i),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[i,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",i),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[i,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),ws(Ts("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,ys[e]=s,s)},Ss=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),ws(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?xs(e,/[, ]/):ks(e,/[, ]/)})),n},Ns=function(e,t,n,r){var i=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)},Ds=vr.each,Rs=vr.grep,As=Tt.ie,Os=/^([a-z0-9],?)+$/i,Ps=/^[ \t\r\n]*$/,Bs=function(e,t,n){var r={},i=t.keep_values,o={set:function(e,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,i,e[0])),e.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return r={style:{set:function(e,t){if(null!==t&&"object"==typeof t)return void e.css(t);i&&e.attr("data-mce-style",t),e.attr("style",t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}},i&&(r.href=r.src=o),r},Is=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Ms=function(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(i++,n=r);return i};!function(e){e.DOM=e(r.document),e.nodeIndex=Ms}(k||(k={}));var Ls=k,Fs=Ls.DOM,Hs=vr.each,js=vr.grep,Us=function(e){return"function"==typeof e},Ws=function(){var e={},t=[],n={},i=[],o=0,a=function(e,t,n){var i,o,a=Fs,s=function(){a.remove(o),i&&(i.onreadystatechange=i.onload=i=null),t()},u=function(){Us(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)};o=a.uniqueId(),i=r.document.createElement("script"),i.id=o,i.type="text/javascript",i.src=vr._addCacheSuffix(e),i.onload=s,i.onerror=u,(r.document.getElementsByTagName("head")[0]||r.document.body).appendChild(i)};this.isDone=function(t){return 2===e[t]},this.markDone=function(t){e[t]=2},this.add=this.load=function(r,i,o,a){void 0===e[r]&&(t.push(r),e[r]=0),i&&(n[r]||(n[r]=[]),n[r].push({success:i,failure:a,scope:o||this}))},this.remove=function(t){delete e[t],delete n[t]},this.loadQueue=function(e,n,r){this.loadScripts(t,e,n,r)},this.loadScripts=function(t,r,s,u){var c,l=[],f=function(e,t){Hs(n[t],function(t){Us(t[e])&&t[e].call(t.scope)}),n[t]=void 0};i.push({success:r,failure:u,scope:s||this}),(c=function(){var n=js(t);if(t.length=0,Hs(n,function(t){return 2===e[t]?void f("success",t):3===e[t]?void f("failure",t):void(1!==e[t]&&(e[t]=1,o++,a(t,function(){e[t]=2,o--,f("success",t),c()},function(){e[t]=3,o--,l.push(t),f("failure",t),c()})))}),!o){var r=i.slice(0);i.length=0,Hs(r,function(e){0===l.length?Us(e.success)&&e.success.call(e.scope):Us(e.failure)&&e.failure.call(e.scope,l)})}})()}};Ws.ScriptLoader=new Ws;var $s=vr.each;!function(e){e.PluginManager=e(),e.ThemeManager=e()}(_||(_={}));var zs=function(e,t){Ro(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},qs=function(e,t){Po(e).fold(function(){Ro(e).each(function(e){Ys(e,t)})},function(e){zs(e,t)})},Vs=function(e,t){Fo(e).fold(function(){Ys(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Ys=function(e,t){e.dom().appendChild(t.dom())},Ks=function(e,t){zs(e,t),Ys(t,e)},Xs=function(e,t){Ve(t,function(t){zs(e,t)})},Gs=function(e,t){Ve(t,function(t){Ys(e,t)})},Js=function(e){e.dom().textContent="",Ve(Mo(e),function(e){Zs(e)})},Zs=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Qs=function(e){var t=Mo(e);t.length>0&&Xs(e,t),Zs(e)},eu=function(e,t){var n=null;return{cancel:function(){null!==n&&(r.clearTimeout(n),n=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null===n&&(n=r.setTimeout(function(){e.apply(null,i),n=null},t))}}},tu=function(e,t){var n=null;return{cancel:function(){null!==n&&(r.clearTimeout(n),n=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==n&&r.clearTimeout(n),n=r.setTimeout(function(){e.apply(null,i),n=null},t)}}},nu=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return nu(n())}}},ru=function(e,t){var n=Zi(e,t);return void 0===n||""===n?[]:n.split(" ")},iu=function(e,t,n){var r=ru(e,t),i=r.concat([n]);return Gi(e,t,i.join(" ")),!0},ou=function(e,t,n){var r=Xe(ru(e,t),function(e){return e!==n});return r.length>0?Gi(e,t,r.join(" ")):eo(e,t),!1},au=function(e){return void 0!==e.dom().classList},su=function(e){return ru(e,"class")},uu=function(e,t){return iu(e,"class",t)},cu=function(e,t){return ou(e,"class",t)},lu=function(e,t){au(e)?e.dom().classList.add(t):uu(e,t)},fu=function(e){0===(au(e)?e.dom().classList:su(e)).length&&eo(e,"class")},du=function(e,t){if(au(e)){e.dom().classList.remove(t)}else cu(e,t);fu(e)},pu=function(e,t){return au(e)&&e.dom().classList.contains(t)},hu=function(e,t){var n=[];return Ve(Mo(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(hu(e,t))}),n},mu=function(e,t){return xo(t,e)},gu=function(e,t,n){for(var r=e.dom(),i=Me(n)?n:ye(!1);r.parentNode;){r=r.parentNode;var o=Ai.fromDom(r);if(t(o))return Ne.some(o);if(i(o))break}return Ne.none()},vu=function(e,t,n){return T(function(e,t){return t(e)},gu,e,t,n)},yu=function(e,t,n){return gu(e,function(e){return yo(e,t)},n)},bu=function(e,t){return wo(t,e)},xu=function(e,t,n){return T(yo,yu,e,t,n)},wu=ye("mce-annotation"),Cu=ye("data-mce-annotation"),ku=ye("data-mce-annotation-uid"),_u=function(e,t){var n=e.selection.getRng(),r=Ai.fromDom(n.startContainer),i=Ai.fromDom(e.getBody()),o=t.fold(function(){return"."+wu()},function(e){return"["+Cu()+'="'+e+'"]'}),a=Lo(r,n.startOffset).getOr(r),s=xu(a,o,function(e){return Co(e,i)}),u=function(e,t){return Qi(e,t)?Ne.some(Zi(e,t)):Ne.none()};return s.bind(function(t){return u(t,""+ku()).bind(function(n){return u(t,""+Cu()).map(function(t){var r=Eu(e,n);return{uid:n,name:t,elements:r}})})})},Tu=function(e){return Fi(e)&&pu(e,wu())},Eu=function(e,t){var n=Ai.fromDom(e.getBody());return mu(n,"["+ku()+'="'+t+'"]')},Su=function(e,t){var n=Ai.fromDom(e.getBody()),r=mu(n,"["+Cu()+'="'+t+'"]'),i={};return Ve(r,function(e){var t=Zi(e,ku()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])}),i},Nu=function(e,t){var n=nu({}),r=function(){return{listeners:[],previous:nu(Ne.none())}},i=function(e,t){o(e,function(e){return t(e),e})},o=function(e,t){var i=n.get(),o=i.hasOwnProperty(e)?i[e]:r(),a=t(o);i[e]=a,n.set(i)},a=function(e,t,n){i(e,function(r){Ve(r.listeners,function(r){return r(!0,e,{uid:t,nodes:qe(n,function(e){return e.dom()})})})})},s=function(e){i(e,function(t){Ve(t.listeners,function(t){return t(!1,e)})})},u=tu(function(){var t=n.get(),r=at(ji(t));Ve(r,function(t){o(t,function(n){var r=n.previous.get();return _u(e,Ne.some(t)).fold(function(){r.isSome()&&(s(t),n.previous.set(Ne.none()))},function(e){var t=e.uid,i=e.name,o=e.elements;r.is(t)||(a(i,t,o),n.previous.set(Ne.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){u.cancel()}),e.on("nodeChange",function(){u.throttle()}),{addListener:function(e,t){o(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Du=function(e,t){var n=function(e){return Ne.from(e.attributes.map[Cu()]).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Ve(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Ru=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?Ne.from(e[t]).map(function(e){return e.settings}):Ne.none()}}},Au=function(){return Au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Au.apply(this,arguments)},Ou=0,Pu=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Ou++,e+"_"+r+Ou+String(n)},Bu=function(e,t){Ve(t,function(t){lu(e,t)})},Iu=function(e,t){return Ai.fromDom(e.dom().cloneNode(t))},Mu=function(e){return Iu(e,!1)},Lu=function(e){return Iu(e,!0)},Fu=function(e,t){var n=t||r.document,i=n.createElement("div");return i.innerHTML=e,Mo(Ai.fromDom(i))},Hu=function(e){return e.dom().innerHTML},ju=function(e,t){var n=So(e),r=n.dom(),i=Ai.fromDom(r.createDocumentFragment()),o=Fu(t,r);Gs(i,o),Js(e),Ys(e,i)},Uu=function(e){return"\ufeff"===e},Wu=function(e){return e.replace(new RegExp("\ufeff","g"),"")},$u={isZwsp:Uu,ZWSP:"\ufeff",trim:Wu},zu=Za.isElement,qu=Za.isText,Vu=function(e){return qu(e)&&(e=e.parentNode),zu(e)&&e.hasAttribute("data-mce-caret")},Yu=function(e){return qu(e)&&$u.isZwsp(e.data)},Ku=function(e){return Vu(e)||Yu(e)},Xu=function(e){return e.firstChild!==e.lastChild||!Za.isBr(e.firstChild)},Gu=function(e,t){var n,r,i,o;if(n=e.ownerDocument,i=n.createTextNode($u.ZWSP),o=e.parentNode,t){if(r=e.previousSibling,qu(r)){if(Ku(r))return r;if(nc(r))return r.splitText(r.data.length-1)}o.insertBefore(i,e)}else{if(r=e.nextSibling,qu(r)){if(Ku(r))return r;if(tc(r))return r.splitText(1),r}e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i)}return i},Ju=function(e){var t=e.container();return!(!e||!Za.isText(t))&&(t.data.charAt(e.offset())===$u.ZWSP||e.isAtStart()&&Yu(t.previousSibling))},Zu=function(e){var t=e.container();return!(!e||!Za.isText(t))&&(t.data.charAt(e.offset()-1)===$u.ZWSP||e.isAtEnd()&&Yu(t.nextSibling))},Qu=function(){var e=r.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},ec=function(e,t,n){var r,i,o;return r=t.ownerDocument,i=r.createElement(e),i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Qu()),o=t.parentNode,n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i},tc=function(e){return qu(e)&&e.data[0]===$u.ZWSP},nc=function(e){return qu(e)&&e.data[e.data.length-1]===$u.ZWSP},rc=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Za.isBogus(n)&&n.parentNode.removeChild(n)},ic=function(e){return e&&e.hasAttribute("data-mce-caret")?(rc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},oc=function(e){return Vu(e.startContainer)},ac=Za.isContentEditableTrue,sc=Za.isContentEditableFalse,uc=Za.isBr,cc=Za.isText,lc=Za.matchNodeNames("script style textarea"),fc=Za.matchNodeNames("img input textarea hr iframe video audio object"),dc=Za.matchNodeNames("table"),pc=Ku,hc=function(e){return!pc(e)&&(cc(e)?!lc(e.parentNode):fc(e)||uc(e)||dc(e)||gc(e))},mc=function(e){return Za.isElement(e)&&"true"===e.getAttribute("unselectable")},gc=function(e){return!1===mc(e)&&sc(e)},vc=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(gc(e))return!1;if(ac(e))return!0}return!0},yc=function(e){return!!gc(e)&&!0!==Je(ct(e.getElementsByTagName("*")),function(e,t){return e||ac(t)},!1)},bc=function(e){return fc(e)||yc(e)},xc=function(e,t){return hc(e)&&vc(e,t)},wc=Math.round,Cc=function(e){return e?{left:wc(e.left),top:wc(e.top),bottom:wc(e.bottom),right:wc(e.right),width:wc(e.width),height:wc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},kc=function(e,t){return e=Cc(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},_c=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Tc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Ec=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Tc(t.top-e.bottom,e,t)},Sc=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Tc(t.bottom-e.top,e,t)},Nc=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Dc=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},Rc=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},Ac=function(e,t){return{x:Dc(e,t),y:Rc(e,t)}},Oc=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Pc=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Bc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ic=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Bc.test(e)},Mc=function(e,t,n){return e.isSome()&&t.isSome()?Ne.some(n(e.getOrDie(),t.getOrDie())):Ne.none()},Lc=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?Ne.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Ne.none()},Fc=[].slice,Hc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Fc.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},jc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Fc.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Uc={and:jc,or:Hc},Wc=Za.isElement,$c=hc,zc=Za.matchStyleValues("display","block table"),qc=Za.matchStyleValues("float","left right"),Vc=Uc.and(Wc,$c,xe(qc)),Yc=xe(Za.matchStyleValues("white-space","pre pre-line pre-wrap")),Kc=Za.isText,Xc=Za.isBr,Gc=Ls.nodeIndex,Jc=Pc,Zc=function(e){return"createRange"in e?e.createRange():Ls.DOM.createRng()},Qc=function(e){return e&&/[\r\n\t ]/.test(e)},el=function(e){return!!e.setStart&&!!e.setEnd},tl=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Qc(e.toString())&&Yc(n.parentNode)&&Za.isText(n)&&(t=n.data,Qc(t[r-1])||Qc(t[r+1])))},nl=function(e){var t,n=e.ownerDocument,r=Zc(n),i=n.createTextNode(" "),o=e.parentNode;return o.insertBefore(i,e),r.setStart(i,0),r.setEnd(i,1),t=Cc(r.getBoundingClientRect()),o.removeChild(i),t},rl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&Za.isText(n)&&0===r&&1===i){var o=e.cloneRange();return o.setEndAfter(n),ol(o)}return null},il=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},ol=function(e){var t,n;return n=e.getClientRects(),t=Cc(n.length>0?n[0]:e.getBoundingClientRect()),!el(e)&&Xc(e)&&il(t)?nl(e):il(t)&&el(e)?rl(e):t},al=function(e,t){var n=kc(e,t);return n.width=1,n.right=n.left+1,n},sl=function(e){var t,n,r=[],i=function(e){0!==e.height&&(r.length>0&&_c(e,r[r.length-1])||r.push(e))},o=function(e,t){var n=Zc(e.ownerDocument);if(t<e.data.length){if(Ic(e.data[t]))return r;if(Ic(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!tl(n)))return i(al(ol(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),tl(n)||i(al(ol(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),tl(n)||i(al(ol(n),!0)))};if(Kc(e.container()))return o(e.container(),e.offset()),r;if(Wc(e.container()))if(e.isAtEnd())n=Jc(e.container(),e.offset()),Kc(n)&&o(n,n.data.length),Vc(n)&&!Xc(n)&&i(al(ol(n),!1));else{if(n=Jc(e.container(),e.offset()),Kc(n)&&o(n,0),Vc(n)&&e.isAtEnd())return i(al(ol(n),!1)),r;t=Jc(e.container(),e.offset()-1),Vc(t)&&!Xc(t)&&(zc(t)||zc(n)||!Vc(n))&&i(al(ol(t),!1)),Vc(n)&&i(al(ol(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Gc(t)+1)},e.before=function(t){return e(t.parentNode,Gc(t))},e.isAbove=function(e,t){return Mc(st(t.getClientRects()),ut(e.getClientRects()),Ec).getOr(!1)},e.isBelow=function(e,t){return Mc(ut(t.getClientRects()),st(e.getClientRects()),Sc).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Za.isText(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(N||(N={}));var ul,cl=N,ll=Za.isText,fl=Za.isBogus,dl=Ls.nodeIndex,pl=function(e){var t=e.parentNode;return fl(t)?pl(t):t},hl=function(e){return e?ir.reduce(e.childNodes,function(e,t){return fl(t)&&"BR"!==t.nodeName?e=e.concat(hl(t)):e.push(t),e},[]):[]},ml=function(e,t){for(;(e=e.previousSibling)&&ll(e);)t+=e.data.length;return t},gl=function(e){return function(t){return e===t}},vl=function(e){var t,n,r;return t=hl(pl(e)),n=ir.findIndex(t,gl(e),e),t=t.slice(0,n+1),r=ir.reduce(t,function(e,n,r){return ll(n)&&ll(t[r-1])&&e++,e},0),t=ir.filter(t,Za.matchNodeNames(e.nodeName)),(n=ir.findIndex(t,gl(e),e))-r},yl=function(e){return(ll(e)?"text()":e.nodeName.toLowerCase())+"["+vl(e)+"]"},bl=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},xl=function(e,t){var n,r,i,o,a,s=[];return n=t.container(),r=t.offset(),ll(n)?i=ml(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),s.push(yl(n)),a=bl(e,n),a=ir.filter(a,xe(Za.isBogus)),s=s.concat(ir.map(a,function(e){return yl(e)})),s.reverse().join("/")+","+i},wl=function(e,t,n){var r=hl(e);return r=ir.filter(r,function(e,t){return!ll(e)||!ll(r[t-1])}),r=ir.filter(r,Za.matchNodeNames(t)),r[n]},Cl=function(e,t){for(var n,r=e,i=0;ll(r);){if(n=r.data.length,t>=i&&t<=i+n){e=r,t-=i;break}if(!ll(r.nextSibling)){e=r,t=n;break}i+=n,r=r.nextSibling}return ll(e)&&t>e.data.length&&(t=e.data.length),cl(e,t)},kl=function(e,t){var n,r,i;return t?(n=t.split(","),t=n[0].split("/"),i=n.length>1?n[1]:"before",r=ir.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),wl(e,t[1],parseInt(t[2],10))):null},e),r?ll(r)?Cl(r,parseInt(i,10)):(i="after"===i?dl(r)+1:dl(r),cl(r.parentNode,i)):null):null},_l=function(e,t){Za.isText(t)&&0===t.data.length&&e.remove(t)},Tl=function(e,t,n){t.insertNode(n),_l(e,n.previousSibling),_l(e,n.nextSibling)},El=function(e,t,n){var r=Ne.from(n.firstChild),i=Ne.from(n.lastChild);t.insertNode(n),r.each(function(t){return _l(e,t.previousSibling)}),i.each(function(t){return _l(e,t.nextSibling)})},Sl=function(e,t,n){Za.isDocumentFragment(n)?El(e,t,n):Tl(e,t,n)},Nl=Za.isContentEditableFalse,Dl=function(e,t,n){var r,i;for(i=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Za.isText(r);r=r.previousSibling)i+=e(r.data).length;return i},Rl=function(e,t,n,r,i){var o,a=r[i?"startContainer":"endContainer"],s=r[i?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Za.isText(a)?u.push(n?Dl(t,a,s):s):(o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),u.push(e.nodeIndex(o[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Al=function(e,t,n,r){var i=t.dom,o={};return o.start=Rl(i,e,n,r,!0),t.isCollapsed()||(o.end=Rl(i,e,n,r,!1)),o},Ol=function(e,t,n){var r=0;return vr.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Pl=function(e,t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],Za.isElement(n)&&"TR"===n.nodeName&&(i=n.childNodes,(n=i[Math.min(t?r:r-1,i.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Bl=function(e){return Pl(e,!0),Pl(e,!1),e},Il=function(e,t){var n;if(Za.isElement(e)&&(e=Pc(e,t),Nl(e)))return e;if(Ku(e)){if(Za.isText(e)&&Vu(e)&&(e=e.parentNode),n=e.previousSibling,Nl(n))return n;if(n=e.nextSibling,Nl(n))return n}},Ml=function(e){return Il(e.startContainer,e.startOffset)||Il(e.endContainer,e.endOffset)},Ll=function(e,t,n){var r=n.getNode(),i=r?r.nodeName:null,o=n.getRng();if(Nl(r)||"IMG"===i)return{name:i,index:Ol(n.dom,i,r)};var a=Ml(o);return a?(i=a.tagName,{name:i,index:Ol(n.dom,i,a)}):Al(e,n,t,o)},Fl=function(e){var t=e.getRng();return{start:xl(e.dom.getRoot(),cl.fromRangeStart(t)),end:xl(e.dom.getRoot(),cl.fromRangeEnd(t))}},Hl=function(e){return{rng:e.getRng()}},jl=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ul=function(e,t){var n=e.dom,r=e.getRng(),i=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ol(n,s,a)};var u=Bl(r.cloneRange());if(!o){u.collapse(!1);var c=jl(n,i+"_end",t);Sl(n,u,c)}r=Bl(r),r.collapse(!0);var l=jl(n,i+"_start",t);return Sl(n,r,l),e.moveToBookmark({id:i,keep:1}),{id:i}},Wl=function(e,t,n){return 2===t?Ll($u.trim,n,e):3===t?Fl(e):t?Hl(e):Ul(e,!1)},$l={getBookmark:Wl,getUndoBookmark:i(Ll,be,!0),getPersistentBookmark:Ul},zl=function(e){return Za.isElement(e)&&"_mce_caret"===e.id},ql=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},Vl=Za.isElement,Yl=Za.isText,Kl=function(e){var t=e.parentNode;t&&t.removeChild(e)},Xl=function(e){try{return e.nodeValue}catch(e){return""}},Gl=function(e,t){0===t.length?Kl(e):e.nodeValue=t},Jl=function(e){var t=$u.trim(e);return{count:e.length-t.length,text:t}},Zl=function(e,t){return of(e),t},Ql=function(e,t){var n=Jl(e.data.substr(0,t.offset())),r=Jl(e.data.substr(t.offset())),i=n.text+r.text;return i.length>0?(Gl(e,i),cl(e,t.offset()-n.count)):t},ef=function(e,t){var n=t.container(),r=We(ct(n.childNodes),e).map(function(e){return e<t.offset()?cl(n,t.offset()-1):t}).getOr(t);return of(e),r},tf=function(e,t){return Yl(e)&&t.container()===e?Ql(e,t):Zl(e,t)},nf=function(e,t){return t.container()===e.parentNode?ef(e,t):Zl(e,t)},rf=function(e,t){return cl.isTextPosition(t)?tf(e,t):nf(e,t)},of=function(e){if(Vl(e)&&Ku(e)&&(Xu(e)?e.removeAttribute("data-mce-caret"):Kl(e)),Yl(e)){var t=$u.trim(Xl(e));Gl(e,t)}},af={removeAndReposition:rf,remove:of},sf=Ti.detect().browser,uf=Za.isContentEditableFalse,cf=function(e){return Za.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},lf=function(e,t,n){var r,i,o,a,s,u=kc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,i=e.scrollLeft||r.scrollLeft,o=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),i=e.scrollLeft-s.left,o=e.scrollTop-s.top),u.left+=i,u.right+=i,u.top+=o,u.bottom+=o,u.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),u.left+=a,u.right+=a),u},ff=function(e){var t,n,r,i,o;for(t=Lr("*[contentEditable=false]",e),i=0;i<t.length;i++)n=t[i],r=n.previousSibling,nc(r)&&(o=r.data,1===o.length?r.parentNode.removeChild(r):r.deleteData(o.length-1,1)),r=n.nextSibling,tc(r)&&(o=r.data,1===o.length?r.parentNode.removeChild(r):r.deleteData(0,1))},df=function(e,t,n){var r,i,o=nu(Ne.none()),a=function(n,r){var a,c;if(s(),cf(r))return null;if(!t(r))return i=Gu(r,n),c=r.ownerDocument.createRange(),uf(i.nextSibling)?(c.setStart(i,0),c.setEnd(i,0)):(c.setStart(i,1),c.setEnd(i,1)),c;i=ec("p",r,n),a=lf(e,r,n),Lr(i).css("top",a.top);var l=Lr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(e)[0];return o.set(Ne.some({caret:l,element:r,before:n})),o.get().each(function(e){n&&Lr(e.caret).addClass("mce-visual-caret-before")}),u(),c=r.ownerDocument.createRange(),c.setStart(i,0),c.setEnd(i,0),c},s=function(){ff(e),i&&(af.remove(i),i=null),o.get().each(function(e){Lr(e.caret).remove(),o.set(Ne.none())}),clearInterval(r)},u=function(){r=Pt.setInterval(function(){n()?Lr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Lr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},c=function(){o.get().each(function(t){var n=lf(e,t.element,t.before);Lr(t.caret).css(n)})},l=function(){return Pt.clearInterval(r)};return{show:a,hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:c,destroy:l}},pf=function(){return sf.isIE()||sf.isEdge()||sf.isFirefox()},hf=function(e){return uf(e)||Za.isTable(e)&&pf()},mf=Za.isContentEditableFalse,gf=Za.matchStyleValues("display","block table table-cell table-caption list-item"),vf=Ku,yf=Vu,bf=Za.isElement,xf=hc,wf=function(e){return e>0},Cf=function(e){return e<0},kf=function(e,t){for(var n;n=e(t);)if(!yf(n))return n;return null},_f=function(e,t,n,r,i){var o=new x(e,r);if(Cf(t)){if((mf(e)||yf(e))&&(e=kf(o.prev,!0),n(e)))return e;for(;e=kf(o.prev,i);)if(n(e))return e}if(wf(t)){if((mf(e)||yf(e))&&(e=kf(o.next,!0),n(e)))return e;for(;e=kf(o.next,i);)if(n(e))return e}return null},Tf=function(e,t){for(;e&&e!==t;){if(gf(e))return e;e=e.parentNode}return null},Ef=function(e,t,n){return Tf(e.container(),n)===Tf(t.container(),n)},Sf=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),bf(n)?n.childNodes[r+e]:null):null},Nf=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Df=function(e,t,n){return Tf(t,e)===Tf(n,e)},Rf=function(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[i],vf(r)&&(r=r[i]),mf(r)){if(Df(t,r,n))return r;break}if(xf(r))break;n=n.parentNode}return null},Af=i(Nf,!0),Of=i(Nf,!1),Pf=function(e,t,n){var r,o,a,s,u=i(Rf,!0,t),c=i(Rf,!1,t);if(o=n.startContainer,a=n.startOffset,Vu(o)){if(bf(o)||(o=o.parentNode),"before"===(s=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,hf(r)))return Af(r);if("after"===s&&(r=o.previousSibling,hf(r)))return Of(r)}if(!n.collapsed)return n;if(Za.isText(o)){if(vf(o)){if(1===e){if(r=c(o))return Af(r);if(r=u(o))return Of(r)}if(-1===e){if(r=u(o))return Of(r);if(r=c(o))return Af(r)}return n}if(nc(o)&&a>=o.data.length-1)return 1===e&&(r=c(o))?Af(r):n;if(tc(o)&&a<=1)return-1===e&&(r=u(o))?Of(r):n;if(a===o.data.length)return r=c(o),r?Af(r):n;if(0===a)return r=u(o),r?Of(r):n}return n},Bf=function(e,t){return Ne.from(Sf(e?0:-1,t)).filter(mf)},If=function(e,t,n){var r=Pf(e,t,n);return-1===e?N.fromRangeStart(r):N.fromRangeEnd(r)},Mf=function(e){return Ne.from(e.getNode()).map(Ai.fromDom)},Lf=function(e){return Ne.from(e.getNode(!0)).map(Ai.fromDom)},Ff=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Hf=function(e,t){var n=Ef(e,t);return!(n||!Za.isBr(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(ul||(ul={}));var jf=Za.isContentEditableFalse,Uf=Za.isText,Wf=Za.isElement,$f=Za.isBr,zf=hc,qf=bc,Vf=xc,Yf=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Kf=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Xf=function(e,t){if(wf(e)){if(zf(t.previousSibling)&&!Uf(t.previousSibling))return cl.before(t);if(Uf(t))return cl(t,0)}if(Cf(e)){if(zf(t.nextSibling)&&!Uf(t.nextSibling))return cl.after(t);if(Uf(t))return cl(t,t.data.length)}return Cf(e)?$f(t)?cl.before(t):cl.after(t):cl.before(t)},Gf=function(e,t){var n=t.nextSibling;return n&&zf(n)?Uf(n)?cl(n,0):cl.before(n):Jf(ul.Forwards,cl.after(t),e)},Jf=function(e,t,n){var r,i,o,a,s;if(!Wf(n)||!t)return null;if(t.isEqual(cl.after(n))&&n.lastChild){if(s=cl.after(n.lastChild),Cf(e)&&zf(n.lastChild)&&Wf(n.lastChild))return $f(n.lastChild)?cl.before(n.lastChild):s}else s=t;var u=s.container(),c=s.offset();if(Uf(u)){if(Cf(e)&&c>0)return cl(u,--c);if(wf(e)&&c<u.length)return cl(u,++c);r=u}else{if(Cf(e)&&c>0&&(i=Kf(u,c-1),zf(i)))return!qf(i)&&(o=_f(i,e,Vf,i))?Uf(o)?cl(o,o.data.length):cl.after(o):Uf(i)?cl(i,i.data.length):cl.before(i);if(wf(e)&&c<u.childNodes.length&&(i=Kf(u,c),zf(i)))return $f(i)?Gf(n,i):!qf(i)&&(o=_f(i,e,Vf,i))?Uf(o)?cl(o,0):cl.before(o):Uf(i)?cl(i,0):cl.after(i);r=i||s.getNode()}return(wf(e)&&s.isAtEnd()||Cf(e)&&s.isAtStart())&&(r=_f(r,e,ye(!0),n,!0),Vf(r,n))?Xf(e,r):(i=_f(r,e,Vf,n),a=ir.last(Xe(Yf(u,n),jf)),!a||i&&a.contains(i)?i?Xf(e,i):null:s=wf(e)?cl.after(a):cl.before(a))},Zf=function(e){return{next:function(t){return Jf(ul.Forwards,t,e)},prev:function(t){return Jf(ul.Backwards,t,e)}}},Qf=function(e,t,n){var r=e?cl.before(n):cl.after(n);return ad(e,t,r)},ed=function(e){return Za.isBr(e)?cl.before(e):cl.after(e)},td=function(e){return cl.isTextPosition(e)?0===e.offset():hc(e.getNode())},nd=function(e){if(cl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return hc(e.getNode(!0))},rd=function(e,t){return!cl.isTextPosition(e)&&!cl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},id=function(e){return!cl.isTextPosition(e)&&Za.isBr(e.getNode())},od=function(e,t,n){return e?!rd(t,n)&&!id(t)&&nd(t)&&td(n):!rd(n,t)&&td(t)&&nd(n)},ad=function(e,t,n){var r=Zf(t);return Ne.from(e?r.next(n):r.prev(n))},sd=function(e,t,n){return ad(e,t,n).bind(function(r){return Ef(n,r,t)&&od(e,n,r)?ad(e,t,r):Ne.some(r)})},ud=function(e,t,n,r){return sd(e,t,n).bind(function(n){return r(n)?ud(e,t,n,r):Ne.some(n)})},cd=function(e,t){var n=e?t.firstChild:t.lastChild;return Za.isText(n)?Ne.some(cl(n,e?0:n.data.length)):n?hc(n)?Ne.some(e?cl.before(n):ed(n)):Qf(e,t,n):Ne.none()},ld=i(ad,!0),fd=i(ad,!1),dd={fromPosition:ad,nextPosition:ld,prevPosition:fd,navigate:sd,navigateIgnore:ud,positionIn:cd,firstPositionIn:i(cd,!0),lastPositionIn:i(cd,!1)},pd=function(e){return"string"==typeof e.start},hd=function(e){return e.hasOwnProperty("rng")},md=function(e){return e.hasOwnProperty("id")},gd=function(e){return e.hasOwnProperty("name")},vd=function(e){return vr.isArray(e.start)},yd=function(e,t){return Za.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!Tt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},bd=function(e,t){var n,r;return n=e.createRng(),r=kl(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=kl(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},xd=function(e,t){var n=e.ownerDocument.createTextNode($u.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},wd=function(e){return!1===e.hasChildNodes()},Cd=function(e,t){return dd.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},kd=function(e,t,n){return!(!wd(t)||!ql(e,t))&&(xd(t,n),!0)},_d=function(e,t,n,r){var i,o,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],o=c,i=u.length-1;i>=1;i--){if(s=o.childNodes,kd(c,o,r))return!0;if(u[i]>s.length-1)return!!kd(c,o,r)||Cd(o,r);o=s[u[i]]}3===o.nodeType&&(a=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(u[0],o.childNodes.length)),t?r.setStart(o,a):r.setEnd(o,a)}return!0},Td=function(e){return Za.isText(e)&&e.data.length>0},Ed=function(e,t,n){var r,i,o,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,i=1):Td(c.nextSibling)?(r=c.nextSibling,i=0):Td(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)+1):i=e.nodeIndex(c),s=r,u=i):(l?c.hasChildNodes()?(r=c.firstChild,i=1):Td(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)):i=e.nodeIndex(c),s=r,u=i),!l){for(a=c.previousSibling,o=c.nextSibling,vr.each(vr.grep(c.childNodes),function(e){Za.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&Za.isText(a)&&!Tt.opera&&(i=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,u=i)}return Ne.some(cl(s,u))}return Ne.none()},Sd=function(e,t){return e.isSome()?e:t},Nd=function(e,t){var n=e.createRng();return _d(e,!0,t,n)&&_d(e,!1,t,n)?Ne.some(n):Ne.none()},Dd=function(e,t){var n=Ed(e,"start",t),r=Ed(e,"end",t);return Mc(n,Sd(r,n),function(t,n){var r=e.createRng();return r.setStart(yd(e,t.container()),t.offset()),r.setEnd(yd(e,n.container()),n.offset()),r})},Rd=function(e,t){return Ne.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},Ad=function(e,t){var n=e.dom;if(t){if(vd(t))return Nd(n,t);if(pd(t))return Ne.some(bd(n,t));if(md(t))return Dd(n,t);if(gd(t))return Rd(n,t);if(hd(t))return Ne.some(t.rng)}return Ne.none()},Od={resolve:Ad},Pd=function(e,t,n){return $l.getBookmark(e,t,n)},Bd=function(e,t){Od.resolve(e,t).each(function(t){e.setRng(t)})},Id=function(e){return Za.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Md={getBookmark:Pd,moveToBookmark:Bd,isBookmarkNode:Id},Ld=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Fd=function(e,t,n){var r,i,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!Ld(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(o=s.childNodes,a<o.length?(s=o[a],r=new x(s,e.getParent(s,e.isBlock))):(s=o[o.length-1],r=new x(s,e.getParent(s,e.isBlock)),r.next(!0)),i=r.current();i;i=r.next())if(3===i.nodeType&&!Wd(i))return n.setStart(i,0),void t.setRng(n)},Hd=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Wd(e))return e},jd=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Ud=function(e,t,n){return e.schema.isValidChild(t,n)},Wd=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},$d=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},zd=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},qd=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Vd=function(e,t,n){return qd(e,e.getStyle(t,n),n)},Yd=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},Kd=function(e,t,n){return e.getParents(t,n,e.getRoot())},Xd={isInlineBlock:Ld,moveStart:Fd,getNonWhiteSpaceSibling:Hd,isTextBlock:jd,isValid:Ud,isWhiteSpaceNode:Wd,replaceVars:$d,isEq:zd,normalizeStyleValue:qd,getStyle:Vd,getTextDecoration:Yd,getParents:Kd},Gd=Md.isBookmarkNode,Jd=Xd.getParents,Zd=Xd.isWhiteSpaceNode,Qd=Xd.isTextBlock,ep=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},tp=function(e,t){var n=ep(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=ep(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},np=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},rp=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},ip=function(e,t,n,r){var i,o,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(i=a.lastIndexOf(" ",r),o=a.lastIndexOf(" ",r),-1!==(i=i>o?i:o)&&!t&&(i<r||!e)&&i<=a.length&&i++):(i=a.indexOf(" ",r),o=a.indexOf(" ",r),i=-1!==i&&(-1===o||i<o)?i:o),i},op=function(e,t,n,r,i,o){var a,s,u,c;if(3===n.nodeType){if(-1!==(u=ip(i,o,n,r)))return{container:n,offset:u};c=n}for(a=new x(n,e.getParent(n,e.isBlock)||t);s=a[i?"prev":"next"]();)if(3!==s.nodeType||Gd(s.parentNode)){if(e.isBlock(s)||Xd.isEq(s,"BR"))break}else if(c=s,-1!==(u=ip(i,o,s)))return{container:s,offset:u};if(c)return r=i?0:c.length,{container:c,offset:r}},ap=function(e,t,n,r,i){var o,a,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[i]&&(r=r[i]),o=Jd(e,r),a=0;a<o.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(u=t[s])&&u.collapsed!==n.collapsed)&&e.is(o[a],u.selector))return o[a];return r},sp=function(e,t,n,r){var i,o=e.dom,a=o.getRoot();if(t[0].wrapper||(i=o.getParent(n,t[0].block,a)),!i){var s=o.getParent(n,"LI,TD,TH");i=o.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&Qd(e,t)},s)}if(i&&t[0].wrapper&&(i=Jd(o,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i[r]&&!o.isBlock(i[r])&&(i=i[r],!Xd.isEq(i,"br")););return i||n},up=function(e,t,n,r,i,o,a){var s,u,c,l,f;if(s=u=a?n:i,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===s.nodeType&&!Zd(s)&&(a?r>0:o<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!Gd(c)&&!Zd(c)&&!np(c))return u;if(u===f||u.parentNode===f){s=u;break}u=u.parentNode}return s},cp=function(e,t,n,r){var i,o=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&(o=Pc(o,a),3===o.nodeType&&(a=0)),1===s.nodeType&&s.hasChildNodes()&&(s=Pc(s,t.collapsed?u:u-1),3===s.nodeType&&(u=s.nodeValue.length)),o=rp(c,o),s=rp(c,s),(Gd(o.parentNode)||Gd(o))&&(o=Gd(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,3===o.nodeType&&(a=t.collapsed?o.length:0)),(Gd(s.parentNode)||Gd(s))&&(s=Gd(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,3===s.nodeType&&(u=t.collapsed?0:s.length)),t.collapsed&&(i=op(c,e.getBody(),o,a,!0,r),i&&(o=i.container,a=i.offset),(i=op(c,e.getBody(),s,u,!1,r))&&(s=i.container,u=i.offset)),n[0].inline&&(s=r?s:tp(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=up(c,n,o,a,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=up(c,n,o,a,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=ap(c,n,t,o,"previousSibling"),s=ap(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=sp(e,n,o,"previousSibling"),s=sp(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=up(c,n,o,a,s,u,!0)),c.isBlock(s)||(s=up(c,n,o,a,s,u,!1)))),1===o.nodeType&&(a=c.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:u}},lp={expandRng:cp},fp=vr.each,dp=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},pp=function(e,t,n){var r,i,o,a,s,u,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,p=t.endOffset;if(c=e.select("td[data-mce-selected],th[data-mce-selected]"),c.length>0)return void fp(c,function(e){n([e])});var h=function(e){var t;return t=e[0],3===t.nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===p&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},m=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},g=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var i=r?"nextSibling":"previousSibling";for(a=e,s=a.parentNode;a&&a!==t;a=s)s=a.parentNode,u=m(a===e?a:a[i],i),u.length&&(r||u.reverse(),n(h(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(d=dp(d,p)),l===d)return n(h([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return v(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return v(d,r);if(a===r)break}i=g(l,r)||l,o=g(d,r)||d,v(l,i,!0),u=m(i===l?i:i.nextSibling,"nextSibling",o===d?o.nextSibling:o),u.length&&n(h(u)),v(d,o)},hp={walk:pp},mp=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?Ne.from(t.dom().nodeValue):Ne.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Hi,"text"),gp=function(e){return mp.get(e)},vp=function(e){return Hi(e)&&"\ufeff"===gp(e)},yp=function(e,t,n,r){return Ro(t).fold(function(){return"skipping"},function(i){return"br"===r||vp(t)?"valid":Tu(t)?"existing":zl(t)?"caret":Xd.isValid(e,n,r)&&Xd.isValid(e,Ii(i),n)?"valid":"invalid-child"})},bp=function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&" "===e.startContainer.nodeValue[e.startOffset]},xp=function(e,t){var n=lp.expandRng(e,t,[{inline:!0}],bp(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},wp=function(e,t,n,r){var i=t.uid,o=void 0===i?Pu("mce-annotation"):i,a=E(t,["uid"]),s=Ai.fromTag("span",e);lu(s,wu()),Gi(s,""+ku(),o),Gi(s,""+Cu(),n);var u=r(o,a),c=u.attributes,l=void 0===c?{}:c,f=u.classes,d=void 0===f?[]:f;return Ji(s,l),Bu(s,d),s},Cp=function(e,t,n,r,i){var o=[],a=wp(e.getDoc(),i,n,r),s=nu(Ne.none()),u=function(){s.set(Ne.none())},c=function(){return s.get().getOrThunk(function(){var e=Mu(a);return o.push(e),s.set(Ne.some(e)),e})},l=function(e){Ve(e,f)},f=function(t){switch(yp(e,t,"span",Ii(t))){case"invalid-child":u();var n=Mo(t);l(n),u();break;case"valid":var r=c();Ks(t,r)}},d=function(e){var t=qe(e,Ai.fromDom);l(t)};return hp.walk(e.dom,t,function(e){u(),d(e)}),o},kp=function(e,t,n,r){e.undoManager.transact(function(){var i=e.selection.getRng();if(i.collapsed&&xp(e,i),e.selection.getRng().collapsed){var o=wp(e.getDoc(),r,t,n.decorate);ju(o," "),e.selection.getRng().insertNode(o.dom()),e.selection.select(o.dom())}else{var a=$l.getPersistentBookmark(e.selection,!1),s=e.selection.getRng();Cp(e,s,t,n.decorate,r),e.selection.moveToBookmark(a)}})},_p=function(e){return e.firstChild&&e.firstChild===e.lastChild},Tp=function(e){return"br"===e.name||" "===e.value},Ep=function(e,t){return e.getBlockElements()[t.name]&&_p(t)&&Tp(t.firstChild)},Sp=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Ep(e,t))},Np=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Sp(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Dp=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Rp=function(e,t,n){var r=t.serialize(n),i=e.createFragment(r);return Dp(i)},Ap=function(e){return vr.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Op=function(e){return" "===e.data||Za.isBr(e)},Pp=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Op(e.firstChild)},Bp=function(e){return!e.firstChild||Pp(e)},Ip=function(e){return e.length>0&&Bp(e[e.length-1])?e.slice(0,-1):e},Mp=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Lp=function(e,t){return!!Mp(e,t)},Fp=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Hp=function(e,t){var n=cl.before(e),r=Zf(t),i=r.next(n);return i?i.toRange():null},jp=function(e,t){var n=cl.after(e),r=Zf(t),i=r.prev(n);return i?i.toRange():null},Up=function(e,t,n,r){var i=Fp(e,r),o=e.parentNode;return o.insertBefore(i[0],e),vr.each(t,function(t){o.insertBefore(t,e)}),o.insertBefore(i[1],e),o.removeChild(e),jp(t[t.length-1],n)},Wp=function(e,t,n){var r=e.parentNode;return vr.each(t,function(t){r.insertBefore(t,e)}),Hp(e,n)},$p=function(e,t,n,r){return r.insertAfter(t.reverse(),e),jp(t[0],n)},zp=function(e,t,n,r){var i=Rp(t,e,r),o=Mp(t,n.startContainer),a=Ip(Ap(i.firstChild)),s=t.getRoot(),u=function(e){var r=cl.fromRangeStart(n),i=Zf(t.getRoot()),a=1===e?i.prev(r):i.next(r);return!a||Mp(t,a.getNode())!==o};return u(1)?Wp(o,a,s):u(2)?$p(o,a,s,t):Up(o,a,s,n)},qp={isListFragment:Np,insertAtCaret:zp,isParentBlockLi:Lp,trimListItems:Ip,listItems:Ap},Vp=vr.each,Yp=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Vp(e.getAttribs(t),function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=e.getAttrib(t,i))}),n},i=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!i(r(t),r(n))&&(!!i(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Md.isBookmarkNode(t)&&!Md.isBookmarkNode(n)))}},Kp=function(e){for(var t=[],n=e.dom();n;)t.push(Ai.fromDom(n)),n=n.lastChild;return t},Xp=function(e){var t=mu(e,"br"),n=Xe(Kp(e).slice(-1),Ta);t.length===n.length&&Ve(n,Zs)},Gp=function(e){Js(e),Ys(e,Ai.fromHtml('<br data-mce-bogus="1">'))},Jp=function(e){return Hi(e)?" "===gp(e):Ta(e)},Zp=function(e){return 1===Xe(Mo(e),Jp).length},Qp=function(e){Ho(e).each(function(t){Oo(t).each(function(n){ka(e)&&Ta(t)&&ka(n)&&Zs(t)})})},eh={removeTrailingBr:Xp,fillWithPaddingBr:Gp,isPaddedElement:Zp,trimBlockTrailingBr:Qp},th=vr.makeMap,nh=function(e,t,n,i){var o=r.document.createRange();return o.setStart(e,t),o.setEnd(n,i),o},rh=function(e){var t=cl.fromRangeStart(e),n=cl.fromRangeEnd(e),r=e.commonAncestorContainer;return dd.fromPosition(!1,r,n).map(function(i){return!Ef(t,n,r)&&Ef(t,i,r)?nh(t.container(),t.offset(),i.container(),i.offset()):e}).getOr(e)},ih=function(e){return e.collapsed?e:rh(e)},oh={normalize:ih},ah=function(e,t){return Za.isText(e)&&" "===e.nodeValue[t-1]},sh=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var i=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):i("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},uh=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},ch=Za.matchNodeNames("td th"),lh=function(e,t){var n=e.selection.getRng(),r=n.startContainer,i=n.startOffset;n.collapsed&&ah(r,i)&&Za.isText(r)&&(r.insertData(i-1," "),r.deleteData(i,1),n.setStart(r,i),n.setEnd(r,i),e.selection.setRng(n)),e.selection.setContent(t)},fh=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):lh(e,t)}},dh=function(e,t){Ne.from(e.getParent(t,"td,th")).map(Ai.fromDom).each(eh.trimBlockTrailingBr)},ph=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var i=e.getBody(),o=new Yp(r);vr.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==i;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&r.remove(e,!0)})}},hh=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},mh=function(e){vr.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},gh=function(e){return!!e.getAttribute("data-mce-fragment")},vh=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},yh=function(e,t){var n,r,i,o,a,s=e.dom,u=e.selection;if(t){if(e.selection.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return s.remove(t),void u.select(n);var c=s.createRng();o=t.previousSibling,o&&3===o.nodeType?(c.setStart(o,o.nodeValue.length),Tt.ie||(a=t.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(t),c.setEndBefore(t));r=s.getParent(t,s.isBlock),s.remove(t),r&&s.isEmpty(r)&&(e.$(r).empty(),c.setStart(r,0),c.setEnd(r,0),ch(r)||gh(r)||!(i=function(t){var n=cl.fromRangeStart(t);if(n=Zf(e.getBody()).next(n))return n.toRange()}(c))?s.add(r,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(r))),u.setRng(c)}},bh=function(e,t,n){var r,i,o,a,s,u,c,l,f,d,p,h=e.selection,m=e.dom;if(/^ | $/.test(t)&&(t=sh(h.getRng(),t)),r=e.parser,p=n.merge,i=A({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:t,format:"html",selection:!0,paste:n.paste},u=e.fire("BeforeSetContent",u),u.isDefaultPrevented())return void e.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});t=u.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d),l=h.getRng();var g=l.startContainer||(l.parentElement?l.parentElement():null),v=e.getBody();g===v&&h.isCollapsed()&&m.isBlock(v.firstChild)&&vh(e,v.firstChild)&&m.isEmpty(v.firstChild)&&(l=m.createRng(),l.setStart(v.firstChild,0),l.setEnd(v.firstChild,0),h.setRng(l)),h.isCollapsed()||(e.selection.setRng(oh.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=uh(e.selection.getRng(),t)),o=h.getNode();var y={context:o.nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(t,y),!0===n.paste&&qp.isListFragment(e.schema,s)&&qp.isParentBlockLi(m,o))return l=qp.insertAtCaret(i,m,e.selection.getRng(),s),e.selection.setRng(l),void e.fire("SetContent",u);if(hh(s),f=s.lastChild,"mce_marker"===f.attr("id"))for(c=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!m.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),y.invalid){for(lh(e,d),o=h.getNode(),a=e.getBody(),9===o.nodeType?o=f=a:f=o;f!==a;)o=f,f=f.parentNode;t=o===a?a.innerHTML:m.getOuterHTML(o),t=i.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return i.serialize(s)}))),o===a?m.setHTML(a,t):m.setOuterHTML(o,t)}else t=i.serialize(s),fh(e,t,o);ph(e,p),yh(e,m.get("mce_marker")),mh(e.getBody()),dh(e.dom,e.selection.getStart()),e.fire("SetContent",u),e.addVisual()},xh=function(e){var t;return"string"!=typeof e?(t=vr.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},wh=function(e,t){var n=xh(t);bh(e,n.content,n.details)},Ch={insertAtCaret:wh},kh=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_h=function(e){return kh.test(e)},Th=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var i=e.getParam(t,"","hash");return i.hasOwnProperty(e.id)?i[e.id]:n}return r},Eh=function(e){return e.getParam("iframe_attrs",{})},Sh=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Nh=function(e){return e.getParam("document_base_url","")},Dh=function(e){return Th(e,"body_id","tinymce")},Rh=function(e){return Th(e,"body_class","")},Ah=function(e){return e.getParam("content_security_policy","")},Oh=function(e){return e.getParam("br_in_pre",!0)},Ph=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},Bh=function(e){return e.getParam("forced_root_block_attrs",{})},Ih=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Mh=function(e){return e.getParam("no_newline_selector","")},Lh=function(e){return e.getParam("keep_styles",!0)},Fh=function(e){return e.getParam("end_container_on_empty_block",!1)},Hh=function(e){return vr.explode(e.getParam("font_size_style_values",""))},jh=function(e){return vr.explode(e.getParam("font_size_classes",""))},Uh=function(e){return e.getParam("images_dataimg_filter",ye(!0),"function")},Wh=function(e){return e.getParam("automatic_uploads",!0,"boolean")},$h=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},zh=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},qh=function(e){return e.getParam("images_upload_url","","string")},Vh=function(e){return e.getParam("images_upload_base_path","","string")},Yh=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Kh=function(e){return e.getParam("images_upload_handler",null,"function")},Xh=function(e){return e.getParam("content_css_cors",!1,"boolean")},Gh=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Jh={getIframeAttrs:Eh,getDocType:Sh,getDocumentBaseUrl:Nh,getBodyId:Dh,getBodyClass:Rh,getContentSecurityPolicy:Ah,shouldPutBrInPre:Oh,getForcedRootBlock:Ph,getForcedRootBlockAttrs:Bh,getBrNewLineSelector:Ih,getNoNewLineSelector:Mh,shouldKeepStyles:Lh,shouldEndContainerOnEmptyBlock:Fh,getFontStyleValues:Hh,getFontSizeClasses:jh,getImagesDataImgFilter:Uh,isAutomaticUploadsEnabled:Wh,shouldReuseFileName:$h,shouldReplaceBlobUris:zh,getImageUploadUrl:qh,getImageUploadBasePath:Vh,getImagesUploadCredentials:Yh,getImagesUploadHandler:Kh,shouldUseContentCssCors:Xh,getInlineBoundarySelector:Gh},Zh=function(e,t){return yo(Ai.fromDom(t),Jh.getInlineBoundarySelector(e))},Qh=function(e){return"rtl"===Ls.DOM.getStyle(e,"direction",!0)||_h(e.textContent)},em=function(e,t,n){return Xe(Ls.DOM.getParents(n.container(),"*",t),e)},tm=function(e,t,n){var r=em(e,t,n);return Ne.from(r[r.length-1])},nm=function(e,t,n){var r=Tf(t,e),i=Tf(n,e);return r&&r===i},rm=function(e){return Ju(e)||Zu(e)},im=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Yu(n)?Za.isText(n.nextSibling)?cl(n.nextSibling,0):cl.after(n):Ju(t)?cl(n,r+1):t:Yu(n)?Za.isText(n.previousSibling)?cl(n.previousSibling,n.previousSibling.data.length):cl.before(n):Zu(t)?cl(n,r-1):t},om=i(im,!0),am=i(im,!1),sm={isInlineTarget:Zh,findRootInline:tm,isRtl:Qh,isAtZwsp:rm,normalizePosition:im,normalizeForwards:om,normalizeBackwards:am,hasSameParentBlock:nm},um=function(e){return function(t){return Co(e,Ai.fromDom(t.dom().parentNode))}},cm=function(e,t){return Eo(e,t)?vu(t,function(e){return Ea(e)||Na(e)},um(e)):Ne.none()},lm=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},fm=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),lm(e))},dm=function(e,t,n){return Mc(dd.firstPositionIn(n),dd.lastPositionIn(n),function(r,i){var o=sm.normalizePosition(!0,r),a=sm.normalizePosition(!1,i),s=sm.normalizePosition(!1,t);return e?dd.nextPosition(n,s).map(function(e){return e.isEqual(a)&&t.isEqual(o)}).getOr(!1):dd.prevPosition(n,s).map(function(e){return e.isEqual(o)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},pm={getParentBlock:cm,paddEmptyBody:fm,willDeleteLastPositionInElement:dm},hm=function(e,t,n){return yu(e,t,n).isSome()},mm=function(e,t){var n=Ai.fromDom(e),r=Ai.fromDom(t);return hm(r,"pre,code",i(Co,n))},gm=function(e,t){return Za.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===mm(e,t)},vm=function(e){return Za.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},ym=function(e,t){return hc(t)&&!1===gm(e,t)||vm(t)||bm(t)},bm=Za.hasAttribute("data-mce-bookmark"),xm=Za.hasAttribute("data-mce-bogus"),wm=Za.hasAttributeValue("data-mce-bogus","all"),Cm=function(e){var t,n,r=0;if(ym(e,e))return!1;if(!(n=e.firstChild))return!0;t=new x(n,e);do{if(wm(n))n=t.next(!0);else if(xm(n))n=t.next();else if(Za.isBr(n))r++,n=t.next();else{if(ym(e,n))return!1;n=t.next()}}while(n);return r<=1},km=function(e){return Cm(e.dom())},_m={isEmpty:km},Tm=so("block","position"),Em=so("from","to"),Sm=function(e,t){var n=Ai.fromDom(e),r=Ai.fromDom(t.container());return pm.getParentBlock(n,r).map(function(e){return Tm(e,t)})},Nm=function(e){return!1===Co(e.from().block(),e.to().block())},Dm=function(e){return Ro(e.from().block()).bind(function(t){return Ro(e.to().block()).filter(function(e){return Co(t,e)})}).isSome()},Rm=function(e){return!1===Za.isContentEditableFalse(e.from().block().dom())&&!1===Za.isContentEditableFalse(e.to().block().dom())},Am=function(e,t,n){return Za.isBr(n.position().getNode())&&!1===_m.isEmpty(n.block())?dd.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?dd.fromPosition(t,e,r).bind(function(t){return Sm(e,t)}):Ne.some(n)}).getOr(n):n},Om=function(e,t,n){var r=Sm(e,cl.fromRangeStart(n)),i=r.bind(function(n){return dd.fromPosition(t,e,n.position()).bind(function(n){return Sm(e,n).map(function(n){return Am(e,t,n)})})});return Mc(r,i,Em).filter(function(e){return Nm(e)&&Dm(e)&&Rm(e)})},Pm=function(e,t,n){return n.collapsed?Om(e,t,n):Ne.none()},Bm={read:Pm},Im=function(e){return e.slice(0,-1)},Mm=function(e,t,n){return Eo(t,e)?Im(Ao(e,function(e){return n(e)||Co(e,t)})):[]},Lm=function(e,t){return Mm(e,t,ye(!1))},Fm=function(e,t){return[e].concat(Lm(e,t))},Hm={parentsUntil:Mm,parents:Lm,parentsAndSelf:Fm},jm=function(e){var t=Mo(e);return Qe(t,ka).fold(function(){return t},function(e){return t.slice(0,e)})},Um=function(e){var t=jm(e);return Ve(t,Zs),t},Wm=function(e,t){var n=Hm.parentsAndSelf(t,e);return Ze(n.reverse(),_m.isEmpty).each(Zs)},$m=function(e){return 0===Xe(Bo(e),function(e){return!_m.isEmpty(e)}).length},zm=function(e,t,n,r){if(_m.isEmpty(n))return eh.fillWithPaddingBr(n),dd.firstPositionIn(n.dom());$m(r)&&_m.isEmpty(t)&&zs(r,Ai.fromTag("br"));var i=dd.prevPosition(n.dom(),cl.before(r.dom()));return Ve(Um(t),function(e){zs(r,e)}),Wm(e,t),i},qm=function(e,t,n){if(_m.isEmpty(n))return Zs(n),_m.isEmpty(t)&&eh.fillWithPaddingBr(t),dd.firstPositionIn(t.dom());var r=dd.lastPositionIn(n.dom());return Ve(Um(t),function(e){Ys(n,e)}),Wm(e,t),r},Vm=function(e,t){var n=Hm.parentsAndSelf(t,e);return Ne.from(n[n.length-1])},Ym=function(e,t){return Eo(t,e)?Vm(t,e):Ne.none()},Km=function(e,t){dd.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(Ai.fromDom).filter(Ta).each(Zs)},Xm=function(e,t,n){return Km(!0,t),Km(!1,n),Ym(t,n).fold(i(qm,e,t,n),i(zm,e,t,n))},Gm=function(e,t,n,r){return t?Xm(e,r,n):Xm(e,n,r)},Jm={mergeBlocks:Gm},Zm=function(e,t){var n,r=Ai.fromDom(e.getBody());return n=Bm.read(r.dom(),t,e.selection.getRng()).bind(function(e){return Jm.mergeBlocks(r,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},Qm={backspaceDelete:Zm},eg=function(e,t){var n=t.getRng();return Mc(pm.getParentBlock(e,Ai.fromDom(n.startContainer)),pm.getParentBlock(e,Ai.fromDom(n.endContainer)),function(r,i){return!1===Co(r,i)&&(n.deleteContents(),Jm.mergeBlocks(e,!0,r,i).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},tg=function(e,t){var n=Ai.fromDom(t),r=i(Co,e);return gu(n,Aa,r).isSome()},ng=function(e,t){return tg(e,t.startContainer)||tg(e,t.endContainer)},rg=function(e,t){var n=dd.prevPosition(e.dom(),cl.fromRangeStart(t)).isNone(),r=dd.nextPosition(e.dom(),cl.fromRangeEnd(t)).isNone();return!ng(e,t)&&n&&r},ig=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},og=function(e){var t=Ai.fromDom(e.getBody()),n=e.selection.getRng();return rg(t,n)?ig(e):eg(t,e.selection)},ag=function(e,t){return!e.selection.isCollapsed()&&og(e)},sg={backspaceDelete:ag},ug=function(e){if(!Pe(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Ve(e,function(i,o){var a=ji(i);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!Pe(u))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+n);for(var i=new Array(n),a=0;a<i.length;a++)i[a]=arguments[a];var c=function(e){var n=ji(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!nt(t,function(e){return $e(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,i)},match:c,log:function(e){r.console.log(e,{constructors:t,constructor:s,params:i})}}}}),n},cg={generate:ug},lg=function(e){return Mf(e).exists(Ta)},fg=function(e,t,n){var r=Xe(Hm.parentsAndSelf(Ai.fromDom(n.container()),t),ka),i=st(r).getOr(t);return dd.fromPosition(e,i.dom(),n).filter(lg)},dg=function(e,t){return Mf(t).exists(Ta)||fg(!0,e,t).isSome()},pg=function(e,t){return Lf(t).exists(Ta)||fg(!1,e,t).isSome()},hg=i(fg,!1),mg=i(fg,!0),gg=function(e){return function(t){return e===t}}(" "),vg=function(e){return/^[\r\n\t ]$/.test(e)},yg=function(e){return!vg(e)&&!gg(e)},bg=function(e,t,n){return Ne.from(n.container()).filter(Za.isText).exists(function(r){var i=e?0:-1;return t(r.data.charAt(n.offset()+i))})},xg=i(bg,!0,vg),wg=i(bg,!1,vg),Cg=function(e){var t=e.container();return Za.isText(t)&&0===t.data.length},kg=function(e,t){var n=Sf(e,t);return Za.isContentEditableFalse(n)&&!Za.isBogusAll(n)},_g=i(kg,0),Tg=i(kg,-1),Eg=function(e,t){return Za.isTable(Sf(e,t))},Sg=i(Eg,0),Ng=i(Eg,-1),Dg=function(e){return Aa(Ai.fromDom(e))||Na(Ai.fromDom(e))},Rg=cg.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ag=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Za.isElement(n)&&n.getAttribute("data-mce-caret")===r},Og=function(e,t,n,r){var i=function(t){return _a(Ai.fromDom(t))&&!Ef(n,r,e)};return Bf(!t,n).fold(function(){return Bf(t,r).fold(ye(!1),i)},i)},Pg=function(e,t,n,r){var i=r.getNode(!1===t);return pm.getParentBlock(Ai.fromDom(e),Ai.fromDom(n.getNode())).map(function(e){return _m.isEmpty(e)?Rg.remove(e.dom()):Rg.moveToElement(i)}).orThunk(function(){return Ne.some(Rg.moveToElement(i))})},Bg=function(e,t,n){return dd.fromPosition(t,e,n).bind(function(r){return Dg(r.getNode())?Ne.none():Og(e,t,n,r)?Ne.none():t&&Za.isContentEditableFalse(r.getNode())?Pg(e,t,n,r):!1===t&&Za.isContentEditableFalse(r.getNode(!0))?Pg(e,t,n,r):t&&Tg(n)?Ne.some(Rg.moveToPosition(r)):!1===t&&_g(n)?Ne.some(Rg.moveToPosition(r)):Ne.none()})},Ig=function(e,t){return e&&Za.isContentEditableFalse(t.nextSibling)?Ne.some(Rg.moveToElement(t.nextSibling)):!1===e&&Za.isContentEditableFalse(t.previousSibling)?Ne.some(Rg.moveToElement(t.previousSibling)):Ne.none()},Mg=function(e,t,n){return n.fold(function(e){return Ne.some(Rg.remove(e))},function(e){return Ne.some(Rg.moveToElement(e))},function(n){return Ef(t,n,e)?Ne.none():Ne.some(Rg.moveToPosition(n))})},Lg=function(e,t,n){return Ag(t,n)?Ig(t,n.getNode(!1===t)).fold(function(){return Bg(e,t,n)},Ne.some):Bg(e,t,n).bind(function(t){return Mg(e,n,t)})},Fg=function(e,t,n){var r=Pf(t?1:-1,e,n),i=cl.fromRangeStart(r),o=Ai.fromDom(e);return!1===t&&Tg(i)?Ne.some(Rg.remove(i.getNode(!0))):t&&_g(i)?Ne.some(Rg.remove(i.getNode())):!1===t&&_g(i)&&pg(o,i)?hg(o,i).map(function(e){return Rg.remove(e.getNode())}):t&&Tg(i)&&dg(o,i)?mg(o,i).map(function(e){return Rg.remove(e.getNode())}):Lg(e,t,i)},Hg=function(e){return-1!==" \f\n\r\t\v".indexOf(e)},jg=function(e,t,n){return Je(e.split(""),function(r,i){return Hg(i)||" "===i?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+i}},{previousCharIsSpace:!1,str:""}).str},Ug=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),i=t+n>=e.data.length,o=0===t;e.replaceData(t,n,jg(r,o,i))}},Wg=function(e,t){var n=e.data.slice(t),r=n.length-mi(n).length;return Ug(e,t,r)},$g=function(e,t){var n=e.data.slice(0,t),r=n.length-gi(n).length;return Ug(e,t-r,r)},zg=function(e,t,n){var r=gi(e.data).length;return e.appendData(t.data),Zs(Ai.fromDom(t)),n&&Wg(e,r),e},qg=function(e,t){var n=e.container(),r=e.offset();return!1===cl.isTextPosition(e)&&n===t.parentNode&&r>cl.before(t).offset()},Vg=function(e,t){return qg(t,e)?cl(t.container(),t.offset()-1):t},Yg=function(e){return Za.isText(e)?cl(e,0):cl.before(e)},Kg=function(e){return Za.isText(e)?cl(e,e.data.length):cl.after(e)},Xg=function(e){return hc(e.previousSibling)?Ne.some(Kg(e.previousSibling)):e.previousSibling?dd.lastPositionIn(e.previousSibling):Ne.none()},Gg=function(e){return hc(e.nextSibling)?Ne.some(Yg(e.nextSibling)):e.nextSibling?dd.firstPositionIn(e.nextSibling):Ne.none()},Jg=function(e,t){var n=cl.before(t.previousSibling?t.previousSibling:t.parentNode);return dd.prevPosition(e,n).fold(function(){return dd.nextPosition(e,cl.after(t))},Ne.some)},Zg=function(e,t){return dd.nextPosition(e,cl.after(t)).fold(function(){return dd.prevPosition(e,cl.before(t))},Ne.some)},Qg=function(e,t){return Xg(t).orThunk(function(){return Gg(t)}).orThunk(function(){return Jg(e,t)})},ev=function(e,t){return Gg(t).orThunk(function(){return Xg(t)}).orThunk(function(){return Zg(e,t)})},tv=function(e,t,n){return e?ev(t,n):Qg(t,n)},nv=function(e,t,n){return tv(e,t,n).map(i(Vg,n))},rv=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},iv=function(e){return function(t){return t.dom()===e}},ov=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Ii(t))},av=function(e){if(_m.isEmpty(e)){var t=Ai.fromHtml('<br data-mce-bogus="1">');return Js(e),Ys(e,t),Ne.some(cl.before(t.dom()))}return Ne.none()},sv=function(e,t,n){var r=Oo(e).filter(Hi),i=Po(e).filter(Hi);return Zs(e),Lc(r,i,t,function(e,t,r){var i=e.dom(),o=t.dom(),a=i.data.length;return zg(i,o,n),r.container()===o?cl(i,a):r}).orThunk(function(){return n&&(r.each(function(e){return $g(e.dom(),e.dom().length)}),i.each(function(e){return Wg(e.dom(),0)})),t})},uv=function(e,t){return Vi(e.schema.getTextInlineElements(),Ii(t))},cv=function(e,t,n,r){void 0===r&&(r=!0);var o=nv(t,e.getBody(),n.dom()),a=gu(n,i(ov,e),iv(e.getBody())),s=sv(n,o,uv(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(av).fold(function(){r&&rv(e,t,s)},function(n){r&&rv(e,t,Ne.some(n))})},lv={deleteElement:cv},fv=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),lv.deleteElement(e,t,Ai.fromDom(n)),!0}},dv=function(e,t){return function(n){var r=t?cl.before(n):cl.after(n);return e.selection.setRng(r.toRange()),!0}},pv=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},hv=function(e,t){return Fg(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(fv(e,t),dv(e,t),pv(e))}).getOr(!1)},mv=function(e){Ve(mu(e,".mce-offscreen-selection"),Zs)},gv=function(e,t){var n=e.selection.getNode();return!!Za.isContentEditableFalse(n)&&(mv(Ai.fromDom(e.getBody())),lv.deleteElement(e,t,Ai.fromDom(e.selection.getNode())),pm.paddEmptyBody(e),!0)},vv=function(e,t){for(;t&&t!==e;){if(Za.isContentEditableTrue(t)||Za.isContentEditableFalse(t))return t;t=t.parentNode}return null},yv=function(e){var t,n=vv(e.getBody(),e.selection.getNode());return Za.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(cl.before(t).toRange())),!0},bv=function(e,t){return e.selection.isCollapsed()?hv(e,t):gv(e,t)},xv={backspaceDelete:bv,paddEmptyElement:yv},wv=Za.isText,Cv=function(e){return wv(e)&&e.data[0]===$u.ZWSP},kv=function(e){return wv(e)&&e.data[e.data.length-1]===$u.ZWSP},_v=function(e){return e.ownerDocument.createTextNode($u.ZWSP)},Tv=function(e){if(wv(e.previousSibling))return kv(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData($u.ZWSP),e.previousSibling);if(wv(e))return Cv(e)?e:(e.insertData(0,$u.ZWSP),e);var t=_v(e);return e.parentNode.insertBefore(t,e),t},Ev=function(e){if(wv(e.nextSibling))return Cv(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,$u.ZWSP),e.nextSibling);if(wv(e))return kv(e)?e:(e.appendData($u.ZWSP),e);var t=_v(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Sv=function(e,t){return e?Tv(t):Ev(t)},Nv=i(Sv,!0),Dv=i(Sv,!1),Rv=function(e,t){return Za.isText(e.container())?Sv(t,e.container()):Sv(t,e.getNode())},Av=function(e,t){var n=t.get();return n&&e.container()===n&&Yu(n)},Ov=function(e,t){return t.fold(function(t){af.remove(e.get());var n=Nv(t);return e.set(n),Ne.some(cl(n,n.length-1))},function(t){return dd.firstPositionIn(t).map(function(t){if(Av(t,e))return cl(e.get(),1);af.remove(e.get());var n=Rv(t,!0);return e.set(n),cl(n,1)})},function(t){return dd.lastPositionIn(t).map(function(t){if(Av(t,e))return cl(e.get(),e.get().length-1);af.remove(e.get());var n=Rv(t,!1);return e.set(n),cl(n,n.length-1)})},function(t){af.remove(e.get());var n=Dv(t);return e.set(n),Ne.some(cl(n,1))})},Pv={renderCaret:Ov},Bv=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Ne.none()},Iv={evaluateUntil:Bv},Mv=cg.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Lv=function(e,t){var n=Tf(t,e);return n||e},Fv=function(e,t,n){var r=sm.normalizeForwards(n),o=Lv(t,r.container());return sm.findRootInline(e,o,r).fold(function(){return dd.nextPosition(o,r).bind(i(sm.findRootInline,e,o)).map(function(e){return Mv.before(e)})},Ne.none)},Hv=function(e,t){return null===ql(e,t)},jv=function(e,t,n){return sm.findRootInline(e,t,n).filter(i(Hv,t))},Uv=function(e,t,n){var r=sm.normalizeBackwards(n);return jv(e,t,r).bind(function(e){return dd.prevPosition(e,r).isNone()?Ne.some(Mv.start(e)):Ne.none()})},Wv=function(e,t,n){var r=sm.normalizeForwards(n);return jv(e,t,r).bind(function(e){return dd.nextPosition(e,r).isNone()?Ne.some(Mv.end(e)):Ne.none()})},$v=function(e,t,n){var r=sm.normalizeBackwards(n),o=Lv(t,r.container());return sm.findRootInline(e,o,r).fold(function(){return dd.prevPosition(o,r).bind(i(sm.findRootInline,e,o)).map(function(e){return Mv.after(e)})},Ne.none)},zv=function(e){return!1===sm.isRtl(Vv(e))},qv=function(e,t,n){return Iv.evaluateUntil([Fv,Uv,Wv,$v],[e,t,n]).filter(zv)},Vv=function(e){return e.fold(be,be,be,be)},Yv=function(e){return e.fold(ye("before"),ye("start"),ye("end"),ye("after"))},Kv=function(e){return e.fold(Mv.before,Mv.before,Mv.after,Mv.after)},Xv=function(e){return e.fold(Mv.start,Mv.start,Mv.end,Mv.end)},Gv=function(e,t){return Yv(e)===Yv(t)&&Vv(e)===Vv(t)},Jv=function(e,t,n,r,i,o){return Mc(sm.findRootInline(t,n,r),sm.findRootInline(t,n,i),function(t,r){return t!==r&&sm.hasSameParentBlock(n,t,r)?Mv.after(e?t:r):o}).getOr(o)},Zv=function(e,t){return e.fold(ye(!0),function(e){return!Gv(e,t)})},Qv=function(e,t,n,r,o){var a=sm.normalizePosition(e,o);return dd.fromPosition(e,n,a).map(i(sm.normalizePosition,e)).fold(function(){return r.map(Kv)},function(o){return qv(t,n,o).map(i(Jv,e,t,n,a,o)).filter(i(Zv,r))}).filter(zv)},ey=function(e,t){return e?t.fold(ve(Ne.some,Mv.start),Ne.none,ve(Ne.some,Mv.after),Ne.none):t.fold(Ne.none,ve(Ne.some,Mv.before),Ne.none,ve(Ne.some,Mv.end))},ty=function(e,t,n,r){var o=sm.normalizePosition(e,r),a=qv(t,n,o);return qv(t,n,o).bind(i(ey,e)).orThunk(function(){return Qv(e,t,n,a,r)})},ny={readLocation:qv,findLocation:ty,prevLocation:i(ty,!1),nextLocation:i(ty,!0),getElement:Vv,outside:Kv,inside:Xv},ry=function(e){return Me(e.selection.getSel().modify)},iy=function(e,t,n){var r=e?1:-1;return t.setRng(cl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},oy=function(e,t){var n=t.selection.getRng(),r=e?cl.fromRangeEnd(n):cl.fromRangeStart(n);return!!ry(t)&&(e&&Ju(r)?iy(!0,t.selection,r):!(e||!Zu(r))&&iy(!1,t.selection,r))},ay={hasSelectionModifyApi:ry,moveByWord:oy},sy=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},uy=function(e){return!1!==e.settings.inline_boundaries},cy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},ly=function(e,t,n){return Pv.renderCaret(t,n).map(function(t){return sy(e,t),n})},fy=function(e,t,n){var r=e.getBody(),o=cl.fromRangeStart(e.selection.getRng()),a=i(sm.isInlineTarget,e);return ny.findLocation(n,a,r,o).bind(function(n){return ly(e,t,n)})},dy=function(e,t,n){var r=Xe(t.select('*[data-mce-selected="inline-boundary"]'),e),o=Xe(n,e);Ve(it(r,o),i(cy,!1)),Ve(it(o,r),i(cy,!0))},py=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=cl.fromRangeStart(e.selection.getRng());cl.isTextPosition(n)&&!1===sm.isAtZwsp(n)&&(sy(e,af.removeAndReposition(t.get(),n)),t.set(null))}},hy=function(e,t,n,r){if(t.selection.isCollapsed()){var i=Xe(r,e);Ve(i,function(r){var i=cl.fromRangeStart(t.selection.getRng());ny.readLocation(e,t.getBody(),i).bind(function(e){return ly(t,n,e)})})}},my=function(e,t,n){return function(){return!!uy(e)&&fy(e,t,n).isSome()}},gy=function(e,t,n){return function(){return!!uy(t)&&ay.moveByWord(e,t)}},vy=function(e){var t=nu(null),n=i(sm.isInlineTarget,e);return e.on("NodeChange",function(r){uy(e)&&(dy(n,e.dom,r.parents),py(e,t),hy(n,e,t,r.parents))}),t},yy=i(gy,!0),by=i(gy,!1),xy={move:my,moveNextWord:yy,movePrevWord:by,setupSelectedState:vy,setCaretPosition:sy},wy=function(e){return!1!==e.settings.inline_boundaries},Cy=function(e,t){var n=r.document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},ky=function(e){return Mc(dd.firstPositionIn(e),dd.lastPositionIn(e),function(t,n){var r=sm.normalizePosition(!0,t),i=sm.normalizePosition(!1,n);return dd.nextPosition(e,r).map(function(e){return e.isEqual(i)}).getOr(!0)}).getOr(!0)},_y=function(e,t){return function(n){return Pv.renderCaret(t,n).map(function(t){return xy.setCaretPosition(e,t),!0}).getOr(!1)}},Ty=function(e,t,n,r){var o=e.getBody(),a=i(sm.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(Cy(n,r)),e.execCommand("Delete"),ny.readLocation(a,o,cl.fromRangeStart(e.selection.getRng())).map(ny.inside).map(_y(e,t))}),e.nodeChanged()},Ey=function(e,t){var n=Tf(t,e);return n||e},Sy=function(e,t,n,r){var o=Ey(e.getBody(),r.container()),a=i(sm.isInlineTarget,e),s=ny.readLocation(a,o,r);return s.bind(function(e){return n?e.fold(ye(Ne.some(ny.inside(e))),Ne.none,ye(Ne.some(ny.outside(e))),Ne.none):e.fold(Ne.none,ye(Ne.some(ny.outside(e))),Ne.none,ye(Ne.some(ny.inside(e))))}).map(_y(e,t)).getOrThunk(function(){var i=dd.navigate(n,o,r),u=i.bind(function(e){return ny.readLocation(a,o,e)});return s.isSome()&&u.isSome()?sm.findRootInline(a,o,r).map(function(t){return!!ky(t)&&(lv.deleteElement(e,n,Ai.fromDom(t)),!0)}).getOr(!1):u.bind(function(o){return i.map(function(i){return n?Ty(e,t,r,i):Ty(e,t,i,r),!0})}).getOr(!1)})},Ny=function(e,t,n){if(e.selection.isCollapsed()&&wy(e)){var r=cl.fromRangeStart(e.selection.getRng());return Sy(e,t,n,r)}return!1},Dy={backspaceDelete:Ny},Ry=so("start","end"),Ay=so("rng","table","cells"),Oy=cg.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),Py=function(e){return i(Co,e)},By=function(e,t){return xu(Ai.fromDom(e),"td,th",t)},Iy=function(e,t){return yu(e,"table",t)},My=function(e){return!1===Co(e.start(),e.end())},Ly=function(e,t){return Iy(e.start(),t).bind(function(n){return Iy(e.end(),t).bind(function(e){return Co(n,e)?Ne.some(n):Ne.none()})})},Fy=function(e){return mu(e,"td,th")},Hy=function(e,t){return Iy(e.start(),t).bind(function(t){return ut(Fy(t)).map(function(t){return Ry(e.start(),t)})})},jy=function(e,t){var n=By(t.startContainer,e),r=By(t.endContainer,e);return t.collapsed?Ne.none():Mc(n,r,Ry).fold(function(){return n.fold(function(){return r.bind(function(t){return Iy(t,e).bind(function(e){return st(Fy(e)).map(function(e){return Ry(e,t)})})})},function(t){return Iy(t,e).bind(function(e){return ut(Fy(e)).map(function(e){return Ry(t,e)})})})},function(t){return Uy(e,t)?Ne.none():Hy(t,e)})},Uy=function(e,t){return Ly(t,e).isSome()},Wy=function(e,t){var n=By(e.startContainer,t),r=By(e.endContainer,t);return Mc(n,r,Ry).filter(My).filter(function(e){return Uy(t,e)}).orThunk(function(){return jy(t,e)})},$y=function(e,t){return Ly(e,t).map(function(t){return Ay(e,t,Fy(t))})},zy=function(e,t){var n=Py(e);return Wy(t,n).bind(function(e){return $y(e,n)})},qy=function(e,t){return Qe(e,function(e){return Co(e,t)})},Vy=function(e){return Mc(qy(e.cells(),e.rng().start()),qy(e.cells(),e.rng().end()),function(t,n){return e.cells().slice(t,n+1)})},Yy=function(e){return Vy(e).map(function(t){var n=e.cells();return t.length===n.length?Oy.removeTable(e.table()):Oy.emptyCells(t)})},Ky=function(e){return Oy.emptyCells(e)},Xy=function(e,t){return zy(e,t).bind(Yy)},Gy={getActionFromRange:Xy,getActionFromCells:Ky},Jy=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Zy=function(e){return tt(e,function(e){var t=Oc(e);return t?[Ai.fromDom(t)]:[]})},Qy=function(e){return Jy(e).length>1},eb={getRanges:Jy,getSelectedNodes:Zy,hasMultipleRanges:Qy},tb=function(e){return Xe(eb.getSelectedNodes(e),Aa)},nb=function(e){return mu(e,"td[data-mce-selected],th[data-mce-selected]")},rb=function(e,t){var n=nb(t),r=tb(e);return n.length>0?n:r},ib=function(e){return rb(eb.getRanges(e.selection.getSel()),Ai.fromDom(e.getBody()))},ob={getCellsFromRanges:tb,getCellsFromElement:nb,getCellsFromElementOrRanges:rb,getCellsFromEditor:ib},ab=function(e,t){return Ve(t,eh.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},sb=function(e,t){return lv.deleteElement(e,!1,t),!0},ub=function(e,t,n){return Gy.getActionFromRange(t,n).map(function(t){return t.fold(i(sb,e),i(ab,e))})},cb=function(e,t){return mb(e,t)},lb=function(e,t,n,r){return pb(t,r).fold(function(){return ub(e,t,n)},function(t){return cb(e,t)}).getOr(!1)},fb=function(e,t){var n=Ai.fromDom(e.getBody()),r=e.selection.getRng(),i=ob.getCellsFromEditor(e);return 0!==i.length?ab(e,i):lb(e,n,r,t)},db=function(e,t){return Ze(Hm.parentsAndSelf(t,e),Aa)},pb=function(e,t){return Ze(Hm.parentsAndSelf(t,e),function(e){return"caption"===Ii(e)})},hb=function(e,t,n,r,i){return dd.navigate(n,e.getBody(),i).bind(function(e){return db(t,Ai.fromDom(e.getNode())).map(function(e){return!1===Co(e,r)})})},mb=function(e,t){return eh.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),Ne.some(!0)},gb=function(e,t,n,r){return dd.firstPositionIn(e.dom()).bind(function(i){return dd.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i)})}).getOr(!0)},vb=function(e,t){return mb(e,t)},yb=function(e,t,n){return pb(e,Ai.fromDom(n.getNode())).map(function(e){return!1===Co(e,t)})},bb=function(e,t,n,r,i){return dd.navigate(n,e.getBody(),i).bind(function(o){return gb(r,n,i,o)?vb(e,r):yb(t,r,o)}).or(Ne.some(!0))},xb=function(e,t,n,r){var i=cl.fromRangeStart(e.selection.getRng());return db(n,r).bind(function(r){return _m.isEmpty(r)?mb(e,r):hb(e,n,t,r,i)})},wb=function(e,t,n,r){var i=cl.fromRangeStart(e.selection.getRng());return _m.isEmpty(r)?mb(e,r):bb(e,n,t,r,i)},Cb=function(e,t,n){var r=Ai.fromDom(e.getBody());return pb(r,n).fold(function(){return xb(e,t,r,n)},function(n){return wb(e,t,r,n)}).getOr(!1)},kb=function(e,t){var n=Ai.fromDom(e.selection.getStart(!0)),r=ob.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===r.length?Cb(e,t,n):fb(e,n)},_b={backspaceDelete:kb},Tb=Xd.isEq,Eb=function(e,t,n){var r=e.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&e.dom.is(t,r[i].selector))return!0;return!1},Sb=function(e,t,n,r){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,function(t){return!!Eb(e,t,n)||(t.parentNode===i||!!Rb(e,t,n,r,!0))}),Rb(e,t,n,r))},Nb=function(e,t,n){return!!Tb(t,n.inline)||(!!Tb(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Db=function(e,t,n,r,i,o){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Xd.getStyle(e,t,a),i&&!s&&!n.exact)return;if((!i||n.exact)&&!Tb(s,Xd.normalizeStyleValue(e,Xd.replaceVars(c[a],o),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):Xd.getStyle(e,t,c[u]))return n;return n},Rb=function(e,t,n,r,i){var o,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(o=c[a],Nb(e.dom,t,o)&&Db(l,t,o,"attributes",i,r)&&Db(l,t,o,"styles",i,r)){if(u=o.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return o}},Ab=function(e,t,n,r){var i;return r?Sb(e,r,t,n):(r=e.selection.getNode(),!!Sb(e,r,t,n)||!((i=e.selection.getStart())===r||!Sb(e,i,t,n)))},Ob=function(e,t,n){var r,i=[],o={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,s;for(a=0;a<t.length;a++)s=t[a],!o[s]&&Rb(e,r,s,n)&&(o[s]=!0,i.push(s))},e.dom.getRoot()),i},Pb=function(e,t){var n,r,i,o,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=Xd.getParents(u,n),o=s.length-1;o>=0;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(i=r.length-1;i>=0;i--)if(u.is(r[i],a))return!0}return!1},Bb={matchNode:Rb,matchName:Nb,match:Ab,matchAll:Ob,canApply:Pb,matchesUnInheritedFormatSelector:Eb},Ib=function(e,t){return e.splitText(t)},Mb=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;return t===r&&Za.isText(t)?n>0&&n<t.nodeValue.length&&(r=Ib(t,n),t=r.previousSibling,i>n?(i-=n,t=r=Ib(r,i).previousSibling,i=r.nodeValue.length,n=0):i=0):(Za.isText(t)&&n>0&&n<t.nodeValue.length&&(t=Ib(t,n),n=0),Za.isText(r)&&i>0&&i<r.nodeValue.length&&(r=Ib(r,i).previousSibling,i=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},Lb={split:Mb},Fb=$u.ZWSP,Hb=function(e,t){return e.importNode(t,!0)},jb=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Fb||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},Ub=function(e){return jb(e).length>0},Wb=function(e){var t;if(e)for(t=new x(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},$b=function(e){var t=Ai.fromTag("span");return Ji(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ys(t,Ai.fromText(Fb)),t},zb=function(e){var t=Wb(e);return t&&t.nodeValue.charAt(0)===Fb&&t.deleteData(0,1),t},qb=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(Ub(t))lv.deleteElement(e,!1,Ai.fromDom(t),n);else{var o=i.getRng(),a=r.getParent(t,r.isBlock),s=zb(t);o.startContainer===s&&o.startOffset>0&&o.setStart(s,o.startOffset-1),o.endContainer===s&&o.endOffset>0&&o.setEnd(s,o.endOffset-1),r.remove(t,!0),a&&r.isEmpty(a)&&eh.fillWithPaddingBr(Ai.fromDom(a)),i.setRng(o)}},Vb=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(t)qb(e,t,n);else if(!(t=ql(e.getBody(),i.getStart())))for(;t=r.get("_mce_caret");)qb(e,t,!1)},Yb=function(e,t,n){var r=e.dom,o=r.getParent(n,i(Xd.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(eh.removeTrailingBr(Ai.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},Kb=function(e,t){return e.appendChild(t),t},Xb=function(e,t){var n=Ge(e,function(e,t){return Kb(e,t.cloneNode(!1))},t);return Kb(n,n.ownerDocument.createTextNode(Fb))},Gb=function(e,t,n){var r,i,o,a,s,u,c,l=e.selection;r=l.getRng(!0),a=r.startOffset,u=r.startContainer,c=u.nodeValue,(i=ql(e.getBody(),l.getStart()))&&(o=Wb(i));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&a>0&&a<c.length&&f.test(c.charAt(a))&&f.test(c.charAt(a-1))?(s=l.getBookmark(),r.collapse(!0),r=lp.expandRng(e,r,e.formatter.get(t)),r=Lb.split(r),e.formatter.apply(t,n,r),l.moveToBookmark(s)):(i&&o.nodeValue===Fb?e.formatter.apply(t,n,i):(i=Hb(e.getDoc(),$b(!0).dom()),o=i.firstChild,r.insertNode(i),a=1,e.formatter.apply(t,n,i)),l.setCursorLocation(o,a))},Jb=function(e,t,n,r){var i,o,a,s,u,c,l,f=e.dom,d=e.selection,p=[],h=d.getRng();for(i=h.startContainer,o=h.startOffset,u=i,3===i.nodeType&&(o!==i.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(Bb.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),p.push(u),u=u.parentNode}if(c)if(s){a=d.getBookmark(),h.collapse(!0);var m=lp.expandRng(e,h,e.formatter.get(t),!0);m=Lb.split(m),e.formatter.remove(t,n,m),d.moveToBookmark(a)}else{l=ql(e.getBody(),c);var g=$b(!1).dom(),v=Xb(p,g);l?Yb(e,g,l):Yb(e,g,c),qb(e,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c)}},Zb=function(e,t){var n=e.selection,r=e.getBody();Vb(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Fb||Vb(e,ql(r,n.getStart())),37!==t&&39!==t||Vb(e,ql(r,n.getStart()))},Qb=function(e){e.on("mouseup keydown",function(t){Zb(e,t.keyCode)})},ex=function(e,t){var n=$b(!1),r=Xb(t,n.dom());return zs(Ai.fromDom(e),n),Zs(Ai.fromDom(e)),cl(r,0)},tx=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Ii(t))&&!zl(t.dom())&&!Za.isBogus(t.dom())},nx=function(e){return zl(e.dom())&&Ub(e.dom())},rx=function(e,t){var n=Hm.parentsAndSelf(t,e);return Qe(n,ka).fold(ye(n),function(e){return n.slice(0,e)})},ix=function(e){return 1===Mo(e).length},ox=function(e,t,n,r){var o=i(tx,t),a=qe(Xe(r,o),function(e){return e.dom()});if(0===a.length)lv.deleteElement(t,e,n);else{var s=ex(n.dom(),a);t.selection.setRng(s.toRange())}},ax=function(e,t){var n=Ai.fromDom(e.getBody()),r=Ai.fromDom(e.selection.getStart()),i=Xe(rx(n,r),ix);return ut(i).map(function(n){var r=cl.fromRangeStart(e.selection.getRng());return!(!pm.willDeleteLastPositionInElement(t,r,n.dom())||nx(n))&&(ox(t,e,n,i),!0)}).getOr(!1)},sx=function(e,t){return!!e.selection.isCollapsed()&&ax(e,t)},ux={backspaceDelete:sx},cx=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},lx=function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()},fx=function(e,t,n){var r,i,o,a,s=e.dom,u=s.getRoot(),c=0;if(!lx(e,t,n)&&Za.isElement(t)){if(!1===n&&(c=t.offsetHeight),"BODY"!==u.nodeName){var l=e.selection.getScrollContainer();if(l)return r=cx(t).y-cx(l).y+c,a=l.clientHeight,o=l.scrollTop,void((r<o||r+25>o+a)&&(l.scrollTop=r<o?r:r-a+25))}i=s.getViewPort(e.getWin()),r=s.getPos(t).y+c,o=i.y,a=i.h,(r<i.y||r+25>o+a)&&e.getWin().scrollTo(0,r<o?r:r-a+25)}},dx=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}},px=function(e,t,n){e.inline?(e.getBody().scrollLeft+=t,e.getBody().scrollTop+=n):e.getWin().scrollBy(t,n)},hx=function(e,t){st(N.fromRangeStart(t).getClientRects()).each(function(t){var n=dx(e),r=Ac(n,t),i=r.x>0?r.x+4:r.x-4,o=r.y>0?r.y+4:r.y-4;px(e,0!==r.x?i:0,0!==r.y?o:0)})},mx={scrollElementIntoView:fx,scrollRangeIntoView:hx},gx=Za.isContentEditableTrue,vx=Za.isContentEditableFalse,yx=function(e,t,n,r,i){return t._selectionOverrides.showCaret(e,n,r,i)},bx=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},xx=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:bx(t)},wx=function(e,t,n){var r=Pf(1,e.getBody(),t),i=cl.fromRangeStart(r),o=i.getNode();if(vx(o))return yx(1,e,o,!i.isAtEnd(),!1);var a=i.getNode(!0);if(vx(a))return yx(1,e,a,!1,!1);var s=e.dom.getParent(i.getNode(),function(e){return vx(e)||gx(e)});return vx(s)?yx(1,e,s,!1,n):null},Cx=function(e,t,n){if(!t||!t.collapsed)return t;var r=wx(e,t,n);return r||t},kx=function(e,t){e.selection.setRng(t),mx.scrollRangeIntoView(e,e.selection.getRng())},_x=function(e,t){Za.isText(t)&&0===t.data.length&&e.remove(t)},Tx=function(e,t,n,r,i,o){var a=yx(r,e,o.getNode(!i),i,!0);if(t.collapsed){var s=t.cloneRange();i?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else t.deleteContents();return e.selection.setRng(a),_x(e.dom,n),!0},Ex=function(e,t){var n=e.selection.getRng();if(!Za.isText(n.commonAncestorContainer))return!1;var r=t?ul.Forwards:ul.Backwards,o=Zf(e.getBody()),a=i(Ff,o.next),s=i(Ff,o.prev),u=t?a:s,c=t?_g:Tg,l=If(r,e.getBody(),n),f=sm.normalizePosition(t,u(l));if(!f)return!1;if(c(f))return Tx(e,n,l.getNode(),r,t,f);var d=u(f);return!!(d&&c(d)&&Hf(f,d))&&Tx(e,n,l.getNode(),r,t,d)},Sx=function(e,t){return Ex(e,t)},Nx={backspaceDelete:Sx},Dx=function(e,t){e.getDoc().execCommand(t,!1,null)},Rx=function(e){xv.backspaceDelete(e,!1)||Nx.backspaceDelete(e,!1)||Dy.backspaceDelete(e,!1)||Qm.backspaceDelete(e,!1)||_b.backspaceDelete(e)||sg.backspaceDelete(e,!1)||ux.backspaceDelete(e,!1)||(Dx(e,"Delete"),pm.paddEmptyBody(e))},Ax=function(e){xv.backspaceDelete(e,!0)||Nx.backspaceDelete(e,!0)||Dy.backspaceDelete(e,!0)||Qm.backspaceDelete(e,!0)||_b.backspaceDelete(e)||sg.backspaceDelete(e,!0)||ux.backspaceDelete(e,!0)||Dx(e,"ForwardDelete")},Ox={deleteCommand:Rx,forwardDeleteCommand:Ax},Px=function(e,t,n){var r=function(t){return oo(t,e)},i=function(e){return Co(Ai.fromDom(t),e)};return vu(Ai.fromDom(n),function(e){return r(e).isSome()},i).bind(r)},Bx=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Ix=function(e,t){return/[0-9.]+px$/.test(e)?Bx(72*parseInt(e,10)/96,t||0)+"pt":e},Mx=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Lx=function(e,t){return Ne.from(Ls.DOM.getStyle(t,e,!0))},Fx=function(e){return function(t,n){return Ne.from(n).map(Ai.fromDom).filter(Fi).bind(function(n){return Px(e,t,n.dom()).or(Lx(e,n.dom()))}).getOr("")}},Hx={getFontSize:Fx("font-size"),getFontFamily:ve(Mx,Fx("font-family")),toPt:Ix},jx=function(e){return dd.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return Za.isText(t)?t.parentNode:t})},Ux=function(e,t){return e.startContainer===t&&0===e.startOffset},Wx=function(e){return Ne.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return Ux(t,n)?Ne.none():Ne.from(e.selection.getStart(!0))})},$x=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=Jh.getFontStyleValues(e),i=Jh.getFontSizeClasses(e);return i?i[n-1]||t:r[n-1]||t}return t}return t},zx=function(e,t){e.formatter.toggle("fontname",{value:$x(e,t)}),e.nodeChanged()},qx=function(e){return Wx(e).fold(function(){return jx(e).map(function(t){return Hx.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return Hx.getFontFamily(e.getBody(),t)})},Vx=function(e,t){e.formatter.toggle("fontsize",{value:$x(e,t)}),e.nodeChanged()},Yx=function(e){return Wx(e).fold(function(){return jx(e).map(function(t){return Hx.getFontSize(e.getBody(),t)}).getOr("")},function(t){return Hx.getFontSize(e.getBody(),t)})},Kx=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Xx={isEq:Kx},Gx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Jx=function(e,t,n){return null!==Gx(e,t,n)},Zx=function(e,t,n){return Jx(e,t,function(e){return e.nodeName===n})},Qx=function(e){return e&&"TABLE"===e.nodeName},ew=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},tw=function(e,t){return Ku(e)&&!1===Jx(e,t,zl)},nw=function(e,t,n){for(var r=new x(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Za.isBr(t))return!0},rw=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},iw=function(e,t){for(;t&&t!==e;){if(Za.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},ow=function(e,t,n,r,i){var o,a,s,u,c=e.getRoot(),l=e.schema.getNonEmptyElements();if(s=e.getParent(i.parentNode,e.isBlock)||c,r&&Za.isBr(i)&&t&&e.isEmpty(s))return Ne.some(N(i.parentNode,e.nodeIndex(i)));for(o=new x(i,s);u=o[r?"prev":"next"]();){if("false"===e.getContentEditableParent(u)||tw(u,c))return Ne.none();if(Za.isText(u)&&u.nodeValue.length>0)return!1===Zx(u,c,"A")?Ne.some(N(u,r?u.nodeValue.length:0)):Ne.none();if(e.isBlock(u)||l[u.nodeName.toLowerCase()])return Ne.none();a=u}return n&&a?Ne.some(N(a,0)):Ne.none()},aw=function(e,t,n,r){var i,o,a,s,u,c,l,f=e.getRoot(),d=!1;if(i=r[(n?"start":"end")+"Container"],o=r[(n?"start":"end")+"Offset"],l=Za.isElement(i)&&o===i.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,Ku(i))return Ne.none();if(Za.isElement(i)&&o>i.childNodes.length-1&&(c=!1),Za.isDocument(i)&&(i=f,o=0),i===f){if(c&&(s=i.childNodes[o>0?o-1:0])){if(Ku(s))return Ne.none();if(u[s.nodeName]||Qx(s))return Ne.none()}if(i.hasChildNodes()){if(o=Math.min(!c&&o>0?o-1:o,i.childNodes.length-1),i=i.childNodes[o],o=Za.isText(i)&&l?i.data.length:0,!t&&i===f.lastChild&&Qx(i))return Ne.none();if(iw(f,i)||Ku(i))return Ne.none();if(i.hasChildNodes()&&!1===Qx(i)){s=i,a=new x(i,f);do{if(Za.isContentEditableFalse(s)||Ku(s)){d=!1;break}if(Za.isText(s)&&s.nodeValue.length>0){o=c?0:s.nodeValue.length,i=s,d=!0;break}if(u[s.nodeName.toLowerCase()]&&!ew(s)){o=e.nodeIndex(s),i=s.parentNode,c||o++,d=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(Za.isText(i)&&0===o&&ow(e,l,t,!0,i).each(function(e){i=e.container(),o=e.offset(),d=!0}),Za.isElement(i)&&(s=i.childNodes[o],s||(s=i.childNodes[o-1]),!s||!Za.isBr(s)||rw(s,"A")||nw(e,s,!1)||nw(e,s,!0)||ow(e,l,t,!0,s).each(function(e){i=e.container(),o=e.offset(),d=!0}))),c&&!t&&Za.isText(i)&&o===i.nodeValue.length&&ow(e,l,t,!1,i).each(function(e){i=e.container(),o=e.offset(),d=!0}),d?Ne.some(N(i,o)):Ne.none()},sw=function(e,t){var n=t.collapsed,r=t.cloneRange(),i=N.fromRangeStart(t);return aw(e,n,!0,r).each(function(e){n&&N.isAbove(i,e)||r.setStart(e.container(),e.offset())}),n||aw(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Xx.isEq(t,r)?Ne.none():Ne.some(r)},uw={normalize:sw},cw=function(e,t,n){for(var r,i=new x(t,n),o=e.getNonEmptyElements();r=i.next();)if(o[r.nodeName.toLowerCase()]||r.length>0)return!0},lw=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},fw=function(e,t,n,r){var i=e.createRng();r?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),t.setRng(i)},dw=function(e,t){var n,r,i=e.selection,o=e.dom,a=i.getRng();uw.normalize(o,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=o.getParent(u,o.isBlock),f=l?o.getParent(l.parentNode,o.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=t&&t.ctrlKey;"LI"!==d||p||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(cw(e.schema,u,l)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=o.create("br"),Sl(o,a,n),lw(o,i,n),fw(o,i,n,r),e.undoManager.add()},pw=function(e,t){var n=Ai.fromTag("br");zs(Ai.fromDom(t),n),e.undoManager.add()},hw=function(e,t){gw(e.getBody(),t)||qs(Ai.fromDom(t),Ai.fromTag("br"));var n=Ai.fromTag("br");qs(Ai.fromDom(t),n),lw(e.dom,e.selection,n.dom()),fw(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},mw=function(e){return Za.isBr(e.getNode())},gw=function(e,t){return!!mw(cl.after(t))||dd.nextPosition(e,cl.after(t)).map(function(e){return Za.isBr(e.getNode())}).getOr(!1)},vw=function(e){return e&&"A"===e.nodeName&&"href"in e},yw=function(e){return e.fold(ye(!1),vw,vw,ye(!1))},bw=function(e){var t=i(sm.isInlineTarget,e),n=cl.fromRangeStart(e.selection.getRng());return ny.readLocation(t,e.getBody(),n).filter(yw)},xw=function(e,t){t.fold(ge,i(pw,e),i(hw,e),ge)},ww=function(e,t){var n=bw(e);n.isSome()?n.each(i(xw,e)):dw(e,t)},Cw={insert:ww},kw=so("start","soffset","finish","foffset"),_w={create:kw},Tw=cg.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ew=function(e,t,n,r){return e.fold(t,n,r)},Sw=function(e){return e.fold(be,be,be)},Nw=Tw.before,Dw=Tw.on,Rw=Tw.after,Aw={before:Nw,on:Dw,after:Rw,cata:Ew,getStart:Sw},Ow=cg.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pw=function(e){return Ow.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Bw=function(e){return e.match({domRange:function(e){return Ai.fromDom(e.startContainer)},relative:function(e,t){return Aw.getStart(e)},exact:function(e,t,n,r){return e}})},Iw=Ow.domRange,Mw=Ow.relative,Lw=Ow.exact,Fw=function(e){var t=Bw(e);return Do(t)},Hw=_w.create,jw={domRange:Iw,relative:Mw,exact:Lw,exactFromRange:Pw,getWin:Fw,range:Hw},Uw=Ti.detect().browser,Ww=function(e,t){var n=Hi(t)?gp(t).length:Mo(t).length+1;return e>n?n:e<0?0:e},$w=function(e){return jw.range(e.start(),Ww(e.soffset(),e.start()),e.finish(),Ww(e.foffset(),e.finish()))},zw=function(e,t){return!Za.isRestrictedNode(t.dom())&&(Eo(e,t)||Co(e,t))},qw=function(e){return function(t){return zw(e,t.start())&&zw(e,t.finish())}},Vw=function(e){return!0===e.inline||Uw.isIE()},Yw=function(e){return jw.range(Ai.fromDom(e.startContainer),e.startOffset,Ai.fromDom(e.endContainer),e.endOffset)},Kw=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?Ne.from(t.getRangeAt(0)):Ne.none()).map(Yw)},Xw=function(e){var t=Do(e);return Kw(t.dom()).filter(qw(e))},Gw=function(e,t){return Ne.from(t).filter(qw(e)).map($w)},Jw=function(e){var t=r.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Ne.some(t)}catch(e){return Ne.none()}},Zw=function(e){var t=Vw(e)?Xw(Ai.fromDom(e.getBody())):Ne.none();e.bookmark=t.isSome()?t:e.bookmark},Qw=function(e,t){var n=Ai.fromDom(e.getBody()),r=Vw(e)?Ne.from(t):Ne.none(),i=r.map(Yw).filter(qw(n));e.bookmark=i.isSome()?i:e.bookmark},eC=function(e){return(e.bookmark?e.bookmark:Ne.none()).bind(i(Gw,Ai.fromDom(e.getBody()))).bind(Jw)},tC=function(e){eC(e).each(function(t){e.selection.setRng(t)})},nC={store:Zw,storeNative:Qw,readRange:Kw,restore:tC,getRng:eC,getBookmark:Xw,validate:Gw},rC=function(e,t,n,r,i,o){if("false"!==e.getContentEditable(o)){var a=n?"margin":"padding";if(a="TABLE"===o.nodeName?"margin":a,a+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(o.style[a]||0,10)-r);e.setStyle(o,a,s?s+i:"")}else{var s=parseInt(o.style[a]||0,10)+r+i;e.setStyle(o,a,s)}}},iC=function(e){return Sa(e)||Na(e)},oC=function(e){return Ro(e).map(iC).getOr(!1)},aC=function(e){return Xe(qe(e.selection.getSelectedBlocks(),Ai.fromDom),function(e){return!iC(e)&&!oC(e)})},sC=function(e,t){var n=e.settings,r=e.dom,i=e.selection,o=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),u=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||r.getParent(i.getNode(),r.isBlock)||o.apply("div"),Ve(aC(e),function(e){rC(r,t,u,s,a,e.dom())})},uC=vr.each,cC=vr.extend,lC=vr.map,fC=vr.inArray,dC=vr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),pC=function(e){var t,n,r=this,i={},o=function(){return!1},a=function(){return!0};e=e||{},t=e.scope||r,n=e.toggleEvent||o;var s=function(n,r){var s,u,l,f;if(n=n.toLowerCase(),r=r||{},r.type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=o,r.isPropagationStopped=o,r.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(r),s=i[n])for(u=0,l=s.length;u<l;u++){if(f=s[u],f.once&&c(n,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===f.func.call(t,r))return r.preventDefault(),r}return r},u=function(e,t,a,s){var u,c,l;if(!1===t&&(t=o),t)for(t={func:t},s&&vr.extend(t,s),c=e.toLowerCase().split(" "),l=c.length;l--;)e=c[l],u=i[e],u||(u=i[e]=[],n(e,!0)),a?u.unshift(t):u.push(t);return r},c=function(e,t){var o,a,s,u,c;if(e)for(u=e.toLowerCase().split(" "),o=u.length;o--;){if(e=u[o],a=i[e],!e){for(s in i)n(s,!1),delete i[s];return r}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),i[e]=a);else a.length=0;a.length||(n(e,!1),delete i[e])}}else{for(e in i)n(e,!1);i={}}return r},l=function(e,t,n){return u(e,t,n,{once:!0})},f=function(e){return e=e.toLowerCase(),!(!i[e]||0===i[e].length)};r.fire=s,r.on=u,r.off=c,r.once=l,r.has=f};pC.isNative=function(e){return!!dC[e.toLowerCase()]};var hC,mC=function(e){return e._eventDispatcher||(e._eventDispatcher=new pC({scope:e,toggleEvent:function(t,n){pC.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},gC={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;if(t=mC(r).fire(e,t,n),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return mC(this).on(e,t,n)},off:function(e,t){return mC(this).off(e,t)},once:function(e,t){return mC(this).once(e,t)},hasEventListeners:function(e){return mC(this).has(e)}},vC=function(e,t){return e.fire("PreProcess",t)},yC=function(e,t){return e.fire("PostProcess",t)},bC=function(e){return e.fire("remove")},xC=function(e){return e.fire("detach")},wC=function(e,t){return e.fire("SwitchMode",{mode:t})},CC=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},kC=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},_C={firePreProcess:vC,firePostProcess:yC,fireRemove:bC,fireDetach:xC,fireSwitchMode:wC,fireObjectResizeStart:CC,fireObjectResized:kC},TC=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},EC=function(e,t,n){pu(e,t)&&!1===n?du(e,t):n&&lu(e,t)},SC=function(e,t){EC(Ai.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",TC(e,"StyleWithCSS",!1),TC(e,"enableInlineTableEditing",!1),TC(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},NC=function(e,t){t!==DC(e)&&(e.initialized?SC(e,"readonly"===t):e.on("init",function(){SC(e,"readonly"===t)}),_C.fireSwitchMode(e,t))},DC=function(e){return e.readonly?"readonly":"design"},RC=function(e){return!0===e.readonly},AC=Ls.DOM,OC=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=AC.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},PC=function(e){return!e.hidden&&!e.readonly},BC=function(e,t,n){PC(e)?e.fire(t,n):RC(e)&&n.preventDefault()},IC=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=OC(e,t),e.settings.event_root){if(hC||(hC={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&hC){for(t in hC)e.dom.unbind(OC(e,t));hC=null}})),hC[t])return;r=function(n){for(var r=n.target,i=e.editorManager.get(),o=i.length;o--;){var a=i[o].getBody();(a===r||AC.isChildOf(r,a))&&BC(i[o],t,n)}},hC[t]=r,AC.bind(n,t,r)}else r=function(n){BC(e,t,n)},AC.bind(n,t,r),e.delegates[t]=r},MC={bindPendingEventDelegates:function(){var e=this;vr.each(e._pendingNativeEvents,function(t){IC(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?IC(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(OC(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(OC(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}};MC=vr.extend({},gC,MC);var LC,FC=MC,HC=so("sections","settings"),jC=Ti.detect(),UC=jC.deviceType.isTouch(),WC=["lists","autolink","autosave"],$C={theme:"mobile"},zC=function(e){var t=Pe(e)?e.join(" "):e,n=qe(Ae(t)?t.split(" "):[],hi);return Xe(n,function(e){return e.length>0})},qC=function(e){return Xe(e,i($e,WC))},VC=function(e,t){var n=qi(t,function(t,n){return $e(e,n)});return HC(n.t,n.f)},YC=function(e,t,n){var r=e.sections(),i=r.hasOwnProperty(t)?r[t]:{};return vr.extend({},n,i)},KC=function(e,t){return e.sections().hasOwnProperty(t)},XC=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},GC=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?vr.extend({},e.external_plugins,n):n},JC=function(e,t){return[].concat(zC(e)).concat(zC(t))},ZC=function(e,t,n,r){var i=zC(n.forced_plugins),o=zC(r.plugins),a=e&&KC(t,"mobile")?qC(o):o,s=JC(i,a);return vr.extend(r,{plugins:s.join(" ")})},QC=function(e,t){var n=t.settings().inline;return e&&KC(t,"mobile")&&!n},ek=function(e,t,n,r){var i=VC(["mobile"],r),o=vr.extend(t,n,i.settings(),QC(e,i)?YC(i,"mobile",$C):{},{validate:!0,content_editable:i.settings().inline,external_plugins:GC(n,i.settings())});return ZC(e,i,n,o)},tk=function(e,t,n,r,i){var o=XC(t,n,e);return ek(UC,o,r,i)},nk=function(e,t,n){return Ne.from(t.settings[n]).filter(e)},rk=function(e){var t={};return"string"==typeof e?Ve(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[vr.trim(n[0])]=vr.trim(n[1]):t[vr.trim(n[0])]=vr.trim(n)}):t=e,t},ik=function(e){return function(t){return Pe(t)&&nt(t,e)}},ok=function(e,t,n,r){var i=t in e.settings?e.settings[t]:n;return"hash"===r?rk(i):"string"===r?nk(Ae,e,t).getOr(n):"number"===r?nk(Le,e,t).getOr(n):"boolean"===r?nk(Ie,e,t).getOr(n):"object"===r?nk(Oe,e,t).getOr(n):"array"===r?nk(Pe,e,t).getOr(n):"string[]"===r?nk(ik(Ae),e,t).getOr(n):"function"===r?nk(Me,e,t).getOr(n):i},ak=vr.each,sk=vr.explode,uk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ck=vr.makeMap("alt,ctrl,shift,meta,access"),lk=function(e){var t=So(e).dom();return e.dom()===t.activeElement},fk=function(e){var t=void 0!==e?e.dom():r.document;return Ne.from(t.activeElement).map(Ai.fromDom)},dk=function(e){return fk(So(e)).filter(function(t){return e.dom().contains(t.dom())})},pk=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},hk=function(e){return e.collapsed?Ne.from(Pc(e.startContainer,e.startOffset)).map(Ai.fromDom):Ne.none()},mk=function(e,t){return hk(t).bind(function(t){return Ra(t)?Ne.some(t):!1===Eo(e,t)?Ne.some(e):Ne.none()})},gk=function(e,t){mk(Ai.fromDom(e.getBody()),t).bind(function(e){return dd.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},vk=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},yk=function(e){return lk(e)||dk(e).isSome()},bk=function(e){return e.iframeElement&&lk(Ai.fromDom(e.iframeElement))},xk=function(e){var t=e.getBody();return t&&yk(Ai.fromDom(t))},wk=function(e){return e.inline?xk(e):bk(e)},Ck=function(e){var t=e.selection,n=e.settings.content_editable,r=e.getBody(),i=t.getRng();e.quirks.refreshContentEditable();var o=pk(e,t.getNode());if(e.$.contains(r,o))return vk(o),gk(e,i),void kk(e);void 0!==e.bookmark&&!1===wk(e)&&nC.getRng(e).each(function(t){e.selection.setRng(t),i=t}),n||(Tt.opera||vk(r),e.getWin().focus()),(Tt.gecko||n)&&(vk(r),gk(e,i)),kk(e)},kk=function(e){return e.editorManager.setActive(e)},_k=function(e,t){e.removed||(t?kk(e):Ck(e))},Tk={focus:_k,hasFocus:wk},Ek=function(e,t){return t.dom()[e]},Sk=function(e,t){return parseInt(ro(t,e),10)},Nk=i(Ek,"clientWidth"),Dk=i(Ek,"clientHeight"),Rk=i(Sk,"margin-top"),Ak=i(Sk,"margin-left"),Ok=function(e){return e.dom().getBoundingClientRect()},Pk=function(e,t,n){var r=Nk(e),i=Dk(e);return t>=0&&n>=0&&t<=r&&n<=i},Bk=function(e,t,n,r){var i=Ok(t);return{x:n-(e?i.left+t.dom().clientLeft+Ak(t):0),y:r-(e?i.top+t.dom().clientTop+Rk(t):0)}},Ik=function(e,t,n){var r=Ai.fromDom(e.getBody()),i=e.inline?r:No(r),o=Bk(e.inline,i,t,n);return Pk(i,o.x,o.y)},Mk=function(e){return Ne.from(e).map(Ai.fromDom)},Lk=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return Mk(t).map(function(e){return Eo(So(e),e)}).getOr(!1)},Fk={isXYInContentArea:Ik,isEditorAttachedToDom:Lk},Hk={},jk="en",Uk={setCode:function(e){e&&(jk=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return jk},rtl:!1,add:function(e,t){var n=Hk[e];n||(Hk[e]=n={});for(var r in t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=Hk[jk]||{},n=function(e){return vr.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||vr.is(e,"undefined")},i=function(e){return e=n(e),vr.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(vr.is(e,"object")&&vr.hasOwn(e,"raw"))return n(e.raw);if(vr.is(e,"array")){var o=e.slice(1);e=i(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return vr.hasOwn(o,t)?n(o[t]):e})}return i(e).replace(/{context:\w+}$/,"")},data:Hk},Wk=_.PluginManager,$k=function(e,t){for(var n in Wk.urls){if(Wk.urls[n]+"/plugin"+t+".js"===e)return n}return null},zk=function(e,t){var n=$k(t,e.suffix);return n?Uk.translate(["Failed to load plugin: {0} from url {1}",n,t]):Uk.translate(["Failed to load plugin url: {0}",t])},qk=function(e,t){e.notificationManager.open({type:"error",text:t})},Vk=function(e,t){e._skinLoaded?qk(e,t):e.on("SkinLoaded",function(){qk(e,t)})},Yk=function(e,t){Vk(e,Uk.translate(["Failed to upload image: {0}",t]))},Kk=function(e,t){Vk(e,zk(e,t))},Xk=function(e,t,n){var r=Uk.translate(["Failed to initialize plugin: {0}",t]);Gk(r,n),Vk(e,r)},Gk=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},Jk={pluginLoadError:Kk,pluginInitError:Xk,uploadError:Yk,displayError:Vk,initError:Gk},Zk=_.PluginManager,Qk=_.ThemeManager,e_=function(e){mt.getOrDie("requestAnimationFrame")(e)},t_=function(e){return mt.getOrDie("atob")(e)},n_={atob:t_,requestAnimationFrame:e_},r_=function(e){return new Et(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=F();i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):r()},i.onerror=r,i.send()}catch(e){r()}})},i_=function(e){var t,n,r=decodeURIComponent(e).split(",");return n=/data:([^;]+)/.exec(r[0]),n&&(t=n[1]),{type:t,data:r[1]}},o_=function(e){return new Et(function(t){var n,i,o,a=i_(e);try{n=n_.atob(a.data)}catch(e){return void t(new r.Blob([]))}for(i=U(n.length),o=0;o<i.length;o++)i[o]=n.charCodeAt(o);t(new r.Blob([i],{type:a.type}))})},a_=function(e){return 0===e.indexOf("blob:")?r_(e):0===e.indexOf("data:")?o_(e):null},s_=function(e){return new Et(function(t){var n=j();n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},u_={uriToBlob:a_,blobToDataUri:s_,parseDataUri:i_},c_=0,l_=function(e){return(e||"blobid")+c_++},f_=function(e,t,n,r){var i,o;if(0===t.src.indexOf("blob:"))return o=e.getByUri(t.src),void(o?n({image:t,blobInfo:o}):u_.uriToBlob(t.src).then(function(r){u_.blobToDataUri(r).then(function(a){i=u_.parseDataUri(a).data,o=e.create(l_(),r,i),e.add(o),n({image:t,blobInfo:o})})},function(e){r(e)}));i=u_.parseDataUri(t.src).data,o=e.findFirst(function(e){return e.base64()===i}),o?n({image:t,blobInfo:o}):u_.uriToBlob(t.src).then(function(r){o=e.create(l_(),r,i),e.add(o),n({image:t,blobInfo:o})},function(e){r(e)})},d_=function(e){return e?ct(e.getElementsByTagName("img")):[]},p_=0,h_=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},m_=function(e){return e+p_+++h_()},g_={uuid:m_},v_=function(e,t){return e.hasOwnProperty(t.nodeName)},y_=function(e,t){return!!Za.isText(t)||!!Za.isElement(t)&&(!v_(e,t)&&!Md.isBookmarkNode(t))},b_=function(e,t,n){return ze(Hm.parents(Ai.fromDom(n),Ai.fromDom(t)),function(t){return v_(e,t.dom())})},x_=function(e,t){if(Za.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||v_(e,t.nextSibling)))return!0}return!1},w_=function(e){var t,n,r,i,o,a,s,u,c,l,f,d=e.settings,p=e.dom,h=e.selection,m=e.schema,g=m.getBlockElements(),v=h.getStart(),y=e.getBody();if(f=d.forced_root_block,v&&Za.isElement(v)&&f&&(l=y.nodeName.toLowerCase(),m.isValidChild(l,f.toLowerCase())&&!b_(g,y,v))){for(t=h.getRng(),n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,c=Tk.hasFocus(e),v=y.firstChild;v;)if(y_(g,v)){if(x_(g,v)){s=v,v=v.nextSibling,p.remove(s);continue}a||(a=p.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),u=!0),s=v,v=v.nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(i,o),h.setRng(t),e.nodeChanged())}},C_=function(e){e.settings.forced_root_block&&e.on("NodeChange",i(w_,e))},k_={setup:C_},__=function(e){var t=e.startContainer,n=e.startOffset;return Za.isText(t)?0===n?Ne.some(Ai.fromDom(t)):Ne.none():Ne.from(t.childNodes[n]).map(Ai.fromDom)},T_=function(e){var t=e.endContainer,n=e.endOffset;return Za.isText(t)?n===t.data.length?Ne.some(Ai.fromDom(t)):Ne.none():Ne.from(t.childNodes[n-1]).map(Ai.fromDom)},E_=function(e){return Fo(e).fold(ye([e]),function(t){return[e].concat(E_(t))})},S_=function(e){return Ho(e).fold(ye([e]),function(t){return"br"===Ii(t)?Oo(t).map(function(t){return[e].concat(S_(t))}).getOr([]):[e].concat(S_(t))})},N_=function(e,t){return Mc(__(t),T_(t),function(t,n){var r=Ze(E_(e),i(Co,t)),o=Ze(S_(e),i(Co,n));return r.isSome()&&o.isSome()}).getOr(!1)},D_=function(e,t,n,r){var i=n,o=new x(n,i),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==vr.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(Tt.ie&&Tt.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?o.next():o.prev());"BODY"===i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},R_=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},A_={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Tt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},O_=function(e){var t=function(t){return qe(t,function(t){return t=Cc(t),t.node=e,t})};if(Za.isElement(e))return t(e.getClientRects());if(Za.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},P_=function(e){return Je(e,function(e,t){return e.concat(O_(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(LC||(LC={}));var B_=function(e,t,n,r){for(;r=_f(r,e,xc,t);)if(n(r))return},I_=function(e,t,n,r,i,o){var a,s,u=0,c=[],l=function(r){var o,a,l;for(l=P_([r]),-1===e&&(l=l.reverse()),o=0;o<l.length;o++)if(a=l[o],!n(a,s)){if(c.length>0&&t(a,ir.last(c))&&u++,a.line=u,i(a))return!0;c.push(a)}};return(s=ir.last(o.getClientRects()))?(a=o.getNode(),l(a),B_(e,r,l,a),c):c},M_=function(e,t){return t.line>e},L_=function(e,t){return t.line===e},F_=i(I_,LC.Up,Ec,Sc),H_=i(I_,LC.Down,Sc,Ec),j_=function(e,t,n,r){var i,o,a,s,u,c,l=Zf(t),f=[],d=0,p=function(e){return ir.last(e.getClientRects())};1===e?(i=l.next,o=Sc,a=Ec,s=cl.after(r)):(i=l.prev,o=Ec,a=Sc,s=cl.before(r)),c=p(s);do{if(s.isVisible()&&(u=p(s),!a(u,c))){if(f.length>0&&o(u,ir.last(f))&&d++,u=Cc(u),u.position=s,u.line=d,n(u))return f;f.push(u)}}while(s=i(s));return f},U_=function(e){return function(t){return M_(e,t)}},W_=function(e){return function(t){return L_(e,t)}},$_=Za.isContentEditableFalse,z_=_f,q_=function(e,t){return Math.abs(e.left-t)},V_=function(e,t){return Math.abs(e.right-t)},Y_=function(e,t){return e>=t.left&&e<=t.right},K_=function(e,t){return ir.reduce(e,function(e,n){var r,i;return r=Math.min(q_(e,t),V_(e,t)),i=Math.min(q_(n,t),V_(n,t)),Y_(t,n)?n:Y_(t,e)?e:i===r&&$_(n.node)?n:i<r?n:e})},X_=function(e,t,n,r){for(;r=z_(r,e,xc,t);)if(n(r))return},G_=function(e,t){var n=[],r=function(e,r){var i;return i=Xe(P_([r]),function(n){return!e(n,t)}),n=n.concat(i),0===i.length};return n.push(t),X_(LC.Up,e,i(r,Ec),t.node),X_(LC.Down,e,i(r,Sc),t.node),n},J_=function(e){return Xe(ct(e.getElementsByTagName("*")),hf)},Z_=function(e,t){return{node:e.node,before:q_(e,t)<V_(e,t)}},Q_=function(e,t,n){var r,i=P_(J_(e)),o=Xe(i,function(e){return n>=e.top&&n<=e.bottom});return r=K_(o,t),r&&(r=K_(G_(e,r),t))&&hf(r.node)?Z_(r,t):null},eT=function(e,t,n){if(n.collapsed)return!1;if(Tt.ie&&Tt.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Za.isElement(r))return ze(r.getClientRects(),function(n){return Nc(n,e,t)})}return ze(n.getClientRects(),function(n){return Nc(n,e,t)})},tT={isXYWithinRange:eT},nT=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},rT=function(e){return e.inline?nT(e.getBody()):{left:0,top:0}},iT=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},oT=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},aT=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=nT(e.getContentAreaContainer()),r=oT(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},sT=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},uT=function(e,t){return sT(rT(e),iT(e),aT(e,t))},cT={calc:uT},lT=Za.isContentEditableFalse,fT=Za.isContentEditableTrue,dT=function(e,t){return lT(t)&&t!==e},pT=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!lT(t)},hT=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},mT=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},gT=function(e,t){e.parentNode!==t&&t.appendChild(e)},vT=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},yT=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},bT=function(e){return 0===e.button},xT=function(e){return e.element},wT=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},CT=function(e,t){return function(n){if(bT(n)){var r=Ze(t.dom.getParents(n.target),Uc.or(lT,fT)).getOr(null);if(dT(t.getBody(),r)){var i=t.dom.getPos(r),o=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-i.x,e.relY=n.pageY-i.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=mT(t,r,e.width,e.height)}}}},kT=function(e,t){var n=Pt.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(xT(e)&&!e.dragging&&i>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var o=wT(e,cT.calc(t,r));gT(e.ghost,t.getBody()),vT(e.ghost,o,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},_T=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},TT=function(e,t){return function(n){if(e.dragging&&pT(t,_T(t.selection),e.element)){var r=hT(e.element),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact(function(){yT(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}ST(e)}},ET=function(e,t){return function(){e.dragging&&t.fire("dragend"),ST(e)}},ST=function(e){e.dragging=!1,e.element=null,yT(e.ghost)},NT=function(e){var t,n,i,o,a,s,u={};t=Ls.DOM,s=r.document,n=CT(u,e),i=kT(u,e),o=TT(u,e),a=ET(u,e),e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o),t.bind(s,"mousemove",i),t.bind(s,"mouseup",a),e.on("remove",function(){t.unbind(s,"mousemove",i),t.unbind(s,"mouseup",a)})},DT=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(lT(n)||lT(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},RT=function(e){NT(e),DT(e)},AT={init:RT},OT=function(e){var t=eu(function(){if(!e.removed){if(e.selection.getRng().collapsed){var t=Cx(e,e.selection.getRng(),!1);e.selection.setRng(t)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},PT={setup:OT},BT=Za.isContentEditableTrue,IT=Za.isContentEditableFalse,MT=function(e,t){for(var n=e.getBody();t&&t!==n;){if(BT(t)||IT(t))return t;t=t.parentNode}return null},LT=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),i=df(e.getBody(),n,function(){return Tk.hasFocus(e)}),o="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},s=function(){var t=e.dom.get(o);return t?t.getElementsByTagName("*")[0]:t},u=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},l=function(t,n,r,o){void 0===o&&(o=!0);var a;return a=e.fire("ShowCaret",{target:n,direction:t,before:r}),a.isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(n,-1===t),i.show(r,n))},f=function(e,t){return t=Pf(e,r,t),-1===e?cl.fromRangeStart(t):cl.fromRangeEnd(t)},d=function(t){t.hasAttribute("data-mce-caret")&&(ic(t),u(c()),e.selection.scrollIntoView(t[0]))},p=function(e){return Ku(e)||tc(e)||nc(e)},h=function(e){return p(e.startContainer)||p(e.endContainer)},m=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),i=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset;return Vi(n,i.nodeName.toLowerCase())?0===o?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,o),Vi(n,a.nodeName.toLowerCase())?0===s?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,s),r},g=function(n,r){var i,a,s,u,c,d,p,m,g,v,y=e.$,x=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(!1===r){if(m=f(-1,n),hf(m.getNode(!0)))return l(-1,m.getNode(!0),!1,!1);if(hf(m.getNode()))return l(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=f(1,n),hf(m.getNode()))return l(1,m.getNode(),!m.isAtEnd(),!1);if(hf(m.getNode(!0)))return l(1,m.getNode(!0),!1,!1)}return null}return u=n.startContainer,c=n.startOffset,d=n.endOffset,3===u.nodeType&&0===c&&IT(u.parentNode)&&(u=u.parentNode,c=x.nodeIndex(u),u=u.parentNode),1!==u.nodeType?null:(d===c+1&&u===n.endContainer&&(i=u.childNodes[c]),IT(i)?(g=v=i.cloneNode(!0),p=e.fire("ObjectSelected",{target:i,targetClone:g}),p.isDefaultPrevented()?null:(a=bu(Ai.fromDom(e.getBody()),"#"+o).fold(function(){return y([])},function(e){return y([e.dom()])}),g=p.targetClone,0===a.length&&(a=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),a.appendTo(e.getBody())),n=e.dom.createRng(),g===v&&Tt.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(g),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(g)):(a.empty().append(" ").append(g).append(" "),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:x.getPos(i,e.getBody()).y}),a[0].focus(),s=e.selection.getSel(),s.removeAllRanges(),s.addRange(n),Ve(mu(Ai.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){eo(e,"data-mce-selected")}),i.setAttribute("data-mce-selected","1"),t=i,b(),n)):null)},v=function(){t&&(t.removeAttribute("data-mce-selected"),bu(Ai.fromDom(e.getBody()),"#"+o).each(Zs),t=null),bu(Ai.fromDom(e.getBody()),"#"+o).each(Zs),t=null},y=function(){i.destroy(),t=null},b=function(){i.hide()};return Tt.ceFalse&&(function(){e.on("mouseup",function(t){var n=c();n.collapsed&&Fk.isXYInContentArea(e,t.clientX,t.clientY)&&u(wx(e,n,!1))}),e.on("click",function(t){var n;(n=MT(e,t.target))&&(IT(n)&&(t.preventDefault(),e.focus()),BT(n)&&e.dom.isChildOf(n,e.selection.getNode())&&v())}),e.on("blur NewBlock",function(){v()}),e.on("ResizeWindow FullscreenStateChanged",function(){return i.reposition()});var n=function(e){var t=Zf(e);if(!e.firstChild)return!1;var n=cl.before(e.firstChild),r=t.next(n);return r&&!_g(r)&&!Tg(r)},o=function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)},f=function(t,r){var i=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(r,e.dom.isBlock);return!(!i||!e.dom.isChildOf(i,a)||!1!==IT(MT(e,i)))||i&&!o(i,a)&&n(i)};!function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var r=MT(e,n.target);IT(r)&&(t||(n.preventDefault(),g(xx(e,r))))})}(e),e.on("mousedown",function(t){var n,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&!1!==Fk.isXYInContentArea(e,t.clientX,t.clientY))if(n=MT(e,i))IT(n)?(t.preventDefault(),g(xx(e,n))):(v(),BT(n)&&t.shiftKey||tT.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(b(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===hf(i)){v(),b();var o=Q_(r,t.clientX,t.clientY);if(o&&!f(t.target,o.node)){t.preventDefault();var a=l(1,o.node,o.before,!1);e.getBody().focus(),u(a)}}}),e.on("keypress",function(t){A_.modifierPressed(t)||(t.keyCode,IT(e.selection.getNode())&&t.preventDefault())}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){e.range=m(e.range);var t=g(e.range,e.forward);t&&(e.range=t)});var d=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;h(t)||d(t.startContainer.parentNode)||b(),a(t.startContainer.parentNode)||v()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Tt.ie){var n=s();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),AT.init(e),PT.setup(e)}(),function(){var t=e.contentStyles;t.push(i.getCss()),t.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}()),{showCaret:l,showBlockCaretContainer:d,hideFakeCaret:b,destroy:y}},FT=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},HT=function(e){for(var t=e;/<!--|--!?>/g.test(t);)t=t.replace(/<!--|--!?>/g,"");return t},jT=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},UT=function(e,t,n){var r,i,o,a,s=1;for(a=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=r=n;i=o.exec(t);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r},WT=function(e,t){var n=e.exec(t);if(n){var r=n[1],i=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null};!function(e){e.findEndTag=UT}(Y||(Y={}));var $T=Y,zT=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},qT=function(e,t){var n,r,i,o,a,s=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=e.schema;for(s=zT(e.getTempAttrs(),s),a=c.getShortEndedElements();o=u.exec(s);)r=u.lastIndex,i=o[0].length,n=a[o[1]]?r:$T.findEndTag(c,s,r),s=s.substring(0,r-i)+s.substring(n),u.lastIndex=r-i;return $u.trim(s)},VT=qT,YT={trimExternal:VT,trimInternal:qT},KT=function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,i,o,s){var c=u(n,r,i,o);if(null===c||c.start===r&&c.diag===r-o||c.end===n&&c.diag===n-i)for(var l=n,f=i;l<r||f<o;)l<r&&f<o&&e[l]===t[f]?(s.push([0,e[l]]),++l,++f):r-n>o-i?(s.push([2,e[l]]),++l):(s.push([1,t[f]]),++f);else{a(n,c.start,i,c.start-c.diag,s);for(var d=c.start;d<c.end;++d)s.push([0,e[d]]);a(c.end,r,c.end-c.diag,o,s)}},s=function(n,r,i,a){for(var s=n;s-r<a&&s<i&&e[s]===t[s-r];)++s;return o(n,s,r)},u=function(n,o,a,u){var c=o-n,l=u-a;if(0===c||0===l)return null;var f=c-l,d=l+c,p=(d%2==0?d:d+1)/2;r[1+p]=n,i[1+p]=o+1;var h,m,g,v,y;for(h=0;h<=p;++h){for(m=-h;m<=h;m+=2){for(g=m+p,m===-h||m!==h&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],y=v-n+a-m;v<o&&y<u&&e[v]===t[y];)r[g]=++v,++y;if(f%2!=0&&f-h<=m&&m<=f+h&&i[g-f]<=r[g])return s(i[g-f],m+n-a,o,u)}for(m=f-h;m<=f+h;m+=2){for(g=m+p-f,m===f-h||m!==f+h&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],v=i[g]-1,y=v-n+a-m;v>=n&&y>=a&&e[v]===t[y];)i[g]=v--,y--;if(f%2==0&&-h<=m&&m<=h&&i[g]<=r[g+f])return s(i[g],m+n-a,o,u)}}},c=[];return a(0,e.length,0,t.length,c),c},XT={KEEP:0,DELETE:2,INSERT:1,diff:KT},GT=function(e){return Za.isElement(e)?e.outerHTML:Za.isText(e)?vs.encodeRaw(e.data,!1):Za.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},JT=function(e){var t,n,i;for(i=r.document.createElement("div"),t=r.document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},ZT=function(e,t,n){var r=JT(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(r,i)}else e.appendChild(r)},QT=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},eE=function(e,t){var n=0;Ve(e,function(e){e[0]===XT.KEEP?n++:e[0]===XT.INSERT?(ZT(t,e[1],n),n++):e[0]===XT.DELETE&&QT(t,n)})},tE=function(e){return Xe(qe(ct(e.childNodes),GT),function(e){return e.length>0})},nE=function(e,t){var n=qe(ct(t.childNodes),GT);return eE(XT.diff(n,e),t),t},rE={read:tE,write:nE},iE=nu(Ne.none()),oE=function(){return iE.get().getOrThunk(function(){var e=r.document.implementation.createHTMLDocument("undo");return iE.set(Ne.some(e)),e})},aE=function(e){return-1!==e.indexOf("</iframe>")},sE=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},uE=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},cE=function(e){var t,n,r;return t=rE.read(e.getBody()),r=tt(t,function(t){var n=YT.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),aE(n)?sE(r):uE(n)},lE=function(e,t,n){"fragmented"===t.type?rE.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},fE=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},dE=function(e){var t=Ai.fromTag("body",oE());return ju(t,fE(e)),Ve(mu(t,"*[data-mce-bogus]"),Qs),Hu(t)},pE=function(e,t){return fE(e)===fE(t)},hE=function(e,t){return dE(e)===dE(t)},mE=function(e,t){return!(!e||!t)&&(!!pE(e,t)||hE(e,t))},gE={createFragmentedLevel:sE,createCompleteLevel:uE,createFromEditor:cE,applyToEditor:lE,isEq:mE},vE={},yE=ir.filter,bE=ir.each,xE=function(e,t){bE(vE[e],function(e){e(t)})};!function(e,t){var n=vE[e];n||(vE[e]=n=[]),vE[e].push(t)}("pre",function(e){var t,n,r=e.selection.getRng(),i=function(e){return t(e.previousSibling)&&-1!==ir.indexOf(n,e.previousSibling)},o=function(e,t){Lr(t).remove(),Lr(e).append("<br><br>").append(t.childNodes)};t=Za.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),bE(yE(yE(n,t),i),function(e){o(e.previousSibling,e)}))});var wE={postProcess:xE},CE=/^(src|href|style)$/,kE=vr.each,_E=Xd.isEq,TE=function(e){return/^(TH|TD)$/.test(e.nodeName)},EE=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},SE=function(e,t,n){var r,i,o;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],Za.isElement(r)&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),Za.isText(r)&&n&&i>=r.nodeValue.length&&(r=new x(r,e.getBody()).next()||r),Za.isText(r)&&!n&&0===i&&(r=new x(r,e.getBody()).prev()||r),r},NE=function(e,t,n,r){var i=e.create(n,r);return t.parentNode.insertBefore(i,t),i.appendChild(t),i},DE=function(e,t,n,r,i){var o=Ai.fromDom(t),a=Ai.fromDom(e.create(r,i)),s=n?Io(o):Bo(o);return Gs(a,s),n?(zs(o,a),Vs(a,o)):(qs(o,a),Ys(a,o)),a.dom()},RE=function(e,t,n){return!!_E(t,n.inline)||(!!_E(t,n.block)||(n.selector?Za.isElement(t)&&e.is(t,n.selector):void 0))},AE=function(e,t){return t.links&&"A"===e.tagName},OE=function(e,t,n,r){return!(t=Xd.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},PE=function(e,t,n){var r,i=t.parentNode,o=e.dom,a=e.settings.forced_root_block;n.block&&(a?i===o.getRoot()&&(n.list_block&&_E(t,n.list_block)||kE(vr.grep(t.childNodes),function(t){Xd.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=NE(o,t,a),o.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):o.isBlock(t)&&!o.isBlock(i)&&(OE(o,t,!1)||OE(o,t.firstChild,!0,1)||t.insertBefore(o.create("br"),t.firstChild),OE(o,t,!0)||OE(o,t.lastChild,!1,1)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!_E(n.inline,t)||o.remove(t,1)},BE=function(e,t,n,r,i){var o,a,s,u=e.dom;if(!RE(u,r,t)&&!AE(r,t))return!1;if("all"!==t.remove)for(kE(t.styles,function(e,o){e=Xd.normalizeStyleValue(u,Xd.replaceVars(e,n),o),"number"==typeof o&&(o=e,i=0),(t.remove_similar||!i||_E(Xd.getStyle(u,i,o),e))&&u.setStyle(r,o,""),s=1}),s&&""===u.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),kE(t.attributes,function(e,t){var o;if(e=Xd.replaceVars(e,n),"number"==typeof t&&(t=e,i=0),!i||_E(u.getAttrib(i,t),e)){if("class"===t&&(e=u.getAttrib(r,t))&&(o="",kE(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void u.setAttrib(r,t,o);"class"===t&&r.removeAttribute("className"),CE.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),kE(t.classes,function(e){e=Xd.replaceVars(e,n),i&&!u.hasClass(i,e)||u.removeClass(r,e)}),a=u.getAttribs(r),o=0;o<a.length;o++){var c=a[o].nodeName;if(0!==c.indexOf("_")&&0!==c.indexOf("data-"))return!1}return"none"!==t.remove?(PE(e,r,t),!0):void 0},IE=function(e,t,n,r,i){var o;return kE(Xd.getParents(e.dom,t.parentNode).reverse(),function(t){var a;o||"_start"===t.id||"_end"===t.id||(a=Bb.matchNode(e,t,n,r,i))&&!1!==a.split&&(o=t)}),o},ME=function(e,t,n,r,i,o,a,s){var u,c,l,f,d,p,h=e.dom;if(n){for(p=n.parentNode,u=r.parentNode;u&&u!==p;u=u.parentNode){for(c=h.clone(u,!1),d=0;d<t.length;d++)if(BE(e,t[d],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),f||(f=c),l=c)}!o||a.mixed&&h.isBlock(n)||(r=h.split(n,r)),l&&(i.parentNode.insertBefore(l,i),f.appendChild(i))}return r},LE=function(e,t,n,r,i){var o,a,s=e.formatter.get(t),u=s[0],c=!0,l=e.dom,f=e.selection,d=function(r){var o=IE(e,r,t,n,i);return ME(e,s,o,r,r,!0,u,n)},p=function(e){return Md.isBookmarkNode(e)&&Za.isElement(e)&&("_start"===e.id||"_end"===e.id)},h=function(t){var r,i,o,a,f;if(Za.isElement(t)&&l.getContentEditable(t)&&(a=c,c="true"===l.getContentEditable(t),f=!0),r=vr.grep(t.childNodes),c&&!f)for(i=0,o=s.length;i<o&&!BE(e,s[i],n,t,t);i++);if(u.deep&&r.length){for(i=0,o=r.length;i<o;i++)h(r[i]);f&&(c=a)}},m=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return p(n)&&(n=n[e?"firstChild":"lastChild"]),Za.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},g=function(t){var n,r,i=t.commonAncestorContainer;if(t=lp.expandRng(e,t,s,!0),u.split){if(t=Lb.split(t),n=SE(e,t,!0),r=SE(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&TE(r)&&r.firstChild&&(r=r.firstChild||r),EE(l,n,r)){var o=Ne.from(n.firstChild).getOr(n);return d(DE(l,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(EE(l,r,n)){var o=Ne.from(r.lastChild).getOr(r);return d(DE(l,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=NE(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=NE(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=m(!0),r=m()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}hp.walk(l,t,function(t){kE(t,function(t){h(t),Za.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Xd.getTextDecoration(l,t.parentNode)&&BE(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)return void(r.nodeType?(a=l.createRng(),a.setStartBefore(r),a.setEndAfter(r),g(a)):g(r));if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&u.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?Jb(e,t,n,i):(o=$l.getPersistentBookmark(e.selection,!0),g(f.getRng()),f.moveToBookmark(o),u.inline&&Bb.match(e,t,n,f.getStart())&&Xd.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0,y=s.length;v<y&&(!s[v].ceFalseOverride||!BE(e,s[v],n,r,r));v++);}},FE={removeFormat:BE,remove:LE},HE=vr.each,jE=function(e){return e&&1===e.nodeType&&!Md.isBookmarkNode(e)&&!zl(e)&&!Za.isBogus(e)},UE=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Md.isBookmarkNode(n))return n}return e},WE=function(e,t,n){var r,i,o=new Yp(e);if(t&&n&&(t=UE(t,"previousSibling"),n=UE(n,"nextSibling"),o.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)i=r,r=r.nextSibling,t.appendChild(i);return e.remove(n),vr.each(vr.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},$E=function(e,t,n){HE(e.childNodes,function(e){jE(e)&&(t(e)&&n(e),e.hasChildNodes()&&$E(e,t,n))})},zE=function(e,t){return i(function(t,n){return!(!n||!Xd.getStyle(e,n,t))},t)},qE=function(e,t,n){return i(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),VE(e,r)},t,n)},VE=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},YE=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Xd.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},KE=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(vr.walk(r,i(YE,e),"childNodes"),YE(e,r))},XE=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&$E(r,zE(e,"fontSize"),qE(e,"backgroundColor",Xd.replaceVars(t.styles.backgroundColor,n)))},GE=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||($E(r,zE(e,"fontSize"),qE(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},JE=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=WE(e,Xd.getNonWhiteSpaceSibling(r),r),r=WE(e,r,Xd.getNonWhiteSpaceSibling(r,!0)))},ZE=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";HE(e.select(r,n),function(n){jE(n)&&HE(t.styles,function(t,r){e.setStyle(n,r,"")})})}},QE=function(e,t,n,r){HE(t,function(t){HE(e.dom.select(t.inline,r),function(r){jE(r)&&FE.removeFormat(e,t,n,r,t.exact?r:null)}),ZE(e.dom,t,r)})},eS=function(e,t,n,r,i){Bb.matchNode(e,i.parentNode,n,r)&&FE.removeFormat(e,t,r,i)||t.merge_with_parents&&e.dom.getParent(i.parentNode,function(o){if(Bb.matchNode(e,o,n,r))return FE.removeFormat(e,t,r,i),!0})},tS={mergeWithChildren:QE,mergeUnderlineAndColor:KE,mergeBackgroundColorAndFontSize:XE,mergeSubSup:GE,mergeSiblings:JE,mergeWithParents:eS},nS=vr.each,rS=function(e){return e&&1===e.nodeType&&!Md.isBookmarkNode(e)&&!zl(e)&&!Za.isBogus(e)},iS=function(e,t,n,r){var i,o,a=e.formatter.get(t),s=a[0],u=!r&&e.selection.isCollapsed(),c=e.dom,l=e.selection,f=function(e,t){if(t=t||s,e){if(t.onformat&&t.onformat(e,t,n,r),nS(t.styles,function(t,r){c.setStyle(e,r,Xd.replaceVars(t,n))}),t.styles){var i=c.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}nS(t.attributes,function(t,r){c.setAttrib(e,r,Xd.replaceVars(t,n))}),nS(t.classes,function(t){t=Xd.replaceVars(t,n),c.hasClass(e,t)||c.addClass(e,t)})}},d=function(e,t){var n=!1;return!!s.selector&&(nS(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return c.is(t,e.selector)&&!zl(t)?(f(t,e),n=!0,!1):void 0}),n)},p=function(r,i,o,u){var c,l,p=[],h=!0;c=s.inline||s.block,l=r.create(c),f(l),hp.walk(r,i,function(i){var o,m=function(i){var g,v,y,b;if(b=h,g=i.nodeName.toLowerCase(),v=i.parentNode.nodeName.toLowerCase(),1===i.nodeType&&r.getContentEditable(i)&&(b=h,h="true"===r.getContentEditable(i),y=!0),Xd.isEq(g,"br"))return o=0,void(s.block&&r.remove(i));if(s.wrapper&&Bb.matchNode(e,i,t,n))return void(o=0);if(h&&!y&&s.block&&!s.wrapper&&Xd.isTextBlock(e,g)&&Xd.isValid(e,v,c))return i=r.rename(i,c),f(i),p.push(i),void(o=0);if(s.selector){var x=d(a,i);if(!s.inline||x)return void(o=0)}!h||y||!Xd.isValid(e,c,g)||!Xd.isValid(e,v,c)||!u&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||zl(i)||s.inline&&r.isBlock(i)?(o=0,nS(vr.grep(i.childNodes),m),y&&(h=b),o=0):(o||(o=r.clone(l,!1),i.parentNode.insertBefore(o,i),p.push(o)),o.appendChild(i))};nS(i,m)}),!0===s.links&&nS(p,function(e){var t=function(e){"A"===e.nodeName&&f(e,s),nS(vr.grep(e.childNodes),t)};t(e)}),nS(p,function(i){var o,u=function(e){var t=!1;return nS(e.childNodes,function(e){if(rS(e))return t=e,!1}),t};if(o=function(e){var t=0;return nS(e.childNodes,function(e){Xd.isWhiteSpaceNode(e)||Md.isBookmarkNode(e)||t++}),t}(i),(p.length>1||!r.isBlock(i))&&0===o)return void r.remove(i,1);(s.inline||s.wrapper)&&(s.exact||1!==o||(i=function(e){var t,n;return t=u(e),t&&!Md.isBookmarkNode(t)&&Bb.matchName(r,t,s)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e}(i)),tS.mergeWithChildren(e,a,n,i),tS.mergeWithParents(e,s,t,n,i),tS.mergeBackgroundColorAndFontSize(r,s,n,i),tS.mergeSubSup(r,s,n,i),tS.mergeSiblings(r,s,n,i))})};if("false"!==c.getContentEditable(l.getNode())){if(s){if(r)r.nodeType?d(a,r)||(o=c.createRng(),o.setStartBefore(r),o.setEndAfter(r),p(c,lp.expandRng(e,o,a),0,!0)):p(c,r,0,!0);else if(u&&s.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)Gb(e,t,n);else{var h=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||c.getParent(h,c.isBlock)||iS(e,a[0].defaultBlock),e.selection.setRng(oh.normalize(e.selection.getRng())),i=$l.getPersistentBookmark(e.selection,!0),p(c,lp.expandRng(e,l.getRng(),a)),s.styles&&tS.mergeUnderlineAndColor(c,s,n,h),l.moveToBookmark(i),Xd.moveStart(c,l,l.getRng()),e.nodeChanged()}wE.postProcess(t,e)}}else{r=l.getNode();for(var m=0,g=a.length;m<g;m++)if(a[m].ceFalseOverride&&c.is(r,a[m].selector))return void f(r,a[m])}},oS={applyFormat:iS},aS=vr.each,sS=function(e,t){var n={};e.set({}),t.on("NodeChange",function(r){var i=Xd.getParents(t.dom,r.element),o={};i=vr.grep(i,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),aS(e.get(),function(e,r){aS(i,function(a){return t.formatter.matchNode(a,r,{},e.similar)?(n[r]||(aS(e,function(e){e(!0,{node:a,format:r,parents:i})}),n[r]=e),o[r]=e,!1):!Bb.matchesUnInheritedFormatSelector(t,a,r)&&void 0})}),aS(n,function(e,t){o[t]||(delete n[t],aS(e,function(e){e(!1,{node:r.element,format:t,parents:i})}))})})},uS=function(e,t,n,r){var i=e.get();aS(t.split(","),function(e){i[e]||(i[e]=[],i[e].similar=r),i[e].push(n)}),e.set(i)},cS=function(e,t,n,r,i){null===t.get()&&sS(t,e),uS(t,n,r,i)},lS={formatChanged:cS},fS=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){vr.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return vr.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},dS={get:fS},pS=vr.each,hS=Ls.DOM,mS=function(e,t){var n,r,i,o=t&&t.schema||w({}),a=function(e,t){t.classes.length&&hS.addClass(e,t.classes.join(" ")),hS.setAttribs(e,t.attrs)},s=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=hS.create(r.name),a(t,r),t},u=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=o.getElementRule(n),i=r&&r.parentsRequired;return!(!i||!i.length)&&(t&&-1!==vr.inArray(i,t)?t:i[0])},c=function(e,t,n){var r,i,o,a=t.length>0&&t[0],l=a&&a.name;if(o=u(e,l))l===o?(i=t[0],t=t.slice(1)):i=o;else if(a)i=t[0],t=t.slice(1);else if(!n)return e;return i&&(r=s(i),r.appendChild(e)),n&&(r||(r=hS.create("div"),r.appendChild(e)),vr.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),c(r,t,i&&i.siblings)};return e&&e.length?(r=e[0],n=s(r),i=hS.create("div"),i.appendChild(c(n,e.slice(1),r.siblings)),i):""},gS=function(e,t){return mS(yS(e),t)},vS=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=vr.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,i,o){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==vr.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===i){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},yS=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),vr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=vr.map(e.split(/(?:~\+|~|\+)/),vS),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},bS=function(e,t){var n,r,i,o,a,s,u="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",o=yS(t.selector),o.length?(o[0].name||(o[0].name=n),n=t.selector,r=mS(o,e)):r=mS([n],e),i=hS.select(n,r)[0]||r.firstChild,pS(t.styles,function(e,t){(e=c(e))&&hS.setStyle(i,t,e)}),pS(t.attributes,function(e,t){(e=c(e))&&hS.setAttrib(i,t,e)}),pS(t.classes,function(e){e=c(e),hS.hasClass(i,e)||hS.addClass(i,e)}),e.fire("PreviewFormats"),hS.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=hS.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,pS(s.split(" "),function(t){var n=hS.getStyle(i,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=hS.getStyle(e.getBody(),t,!0),"#ffffff"===hS.toHex(n).toLowerCase())||"color"===t&&"#000000"===hS.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),hS.remove(r),u)},xS={getCssText:bS,parseSelector:yS,selectorToHtml:gS},wS=function(e,t,n,r,i){var o=t.get(n);!Bb.match(e,n,r,i)||"toggle"in o[0]&&!o[0].toggle?oS.applyFormat(e,n,r,i):FE.remove(e,n,r,i)},CS={toggle:wS},kS=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},_S={setup:kS},TS=Object.prototype.hasOwnProperty,ES=function(e,t){return t},SS=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)TS.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}}(ES),NS=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var i,o,a=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;a--;)i=e[a],o=i.attributes.map[s],void 0!==o?(i.attr(r,o.length>0?o:null),i.attr(s,null)):(o=i.attributes.map[r],"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):u&&(o=u.call(c,o,r,i.name)),i.attr(r,o.length>0?o:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)if(r=e[i],"bookmark"===r.attributes.map["data-mce-type"]&&!n.cleanup){var o=Ne.from(r.firstChild).exists(function(e){return!$u.isZwsp(e.value)});o?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=vs.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,i,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],i=r.firstChild?r.firstChild.value:"","script"===n?(o=r.attr("type"),o&&r.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Ve(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},DS=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},RS={register:NS,trimTrailingBr:DS},AS=function(e,t,n){var i,o,a,s=e.dom;return t=t.cloneNode(!0),i=r.document.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),vr.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,a=s.doc,s.doc=o),_C.firePreProcess(e,SS(n,{node:t})),a&&(s.doc=a),t},OS=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},PS=function(e,t,n){return OS(e,n)?AS(e,t,n):t},BS={process:PS},IS=function(e,t){Ve(t,function(t){e.attr(t,null)})},MS=function(e,t,n){e.addNodeFilter("font",function(e){Ve(e,function(e){var r=t.parse(e.attr("style")),i=e.attr("color"),o=e.attr("face"),a=e.attr("size");i&&(r.color=i),o&&(r["font-family"]=o),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),IS(e,["color","face","size"])})})},LS=function(e,t){e.addNodeFilter("strike",function(e){Ve(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},FS=function(e,t){var n=C();t.convert_fonts_to_spans&&MS(e,n,vr.explode(t.font_size_legacy_values)),LS(e,n)},HS=function(e,t){t.inline_styles&&FS(e,t)},jS={register:HS},US=/^[ \t\r\n]*$/,WS={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},$S=function(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}},zS=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,i;if(r=new e(t,WS[t]||1),n)for(i in n)r.attr(i,n[i]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r,i=this;if("string"!=typeof e){for(r in e)i.attr(r,e[r]);return i}if(n=i.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),i;return i}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}return n.map[e]}},e.prototype.clone=function(){var t,n,r,i,o,a=this,s=new e(a.name,a.type);if(r=a.attributes){for(o=[],o.map={},t=0,n=r.length;t<n;t++)i=r[t],"id"!==i.name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=$S(t,n))t.name===e&&r.push(t);return r},e.prototype.empty=function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=$S(n,r))e.push(n);for(t=e.length;t--;)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(e,t,n){var r,i,o=this,a=o.firstChild;if(t=t||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(r=a.attributes.length;r--;)if("name"===(i=a.attributes[r].name)||0===i.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!US.test(a.value))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&US.test(a.value))return!1;if(n&&n(a))return!1}while(a=$S(a,o));return!0},e.prototype.walk=function(e){return $S(this,null,e)},e}(),qS=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new zS("br",1)).shortEnded=!0:r.empty().append(new zS("#text",3)).value=" "},VS=function(e){return YS(e,"#text")&&" "===e.firstChild.value},YS=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},KS=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},XS=function(e,t,n,r){return r.isEmpty(t,n,function(t){return KS(e,t)})},GS=function(e,t){return e&&(t[e.name]||"br"===e.name)},JS=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,i){var o,a,s,u,c,l,f,d,p=e.length,h=vr.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(h.body=1,o=0;o<p;o++)if(a=e[o],s=a.parent,h[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),XS(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&qS(t,i,h,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&(u=s,!h[s.name]);)s=s.parent;u===s&&!0!==t.padd_empty_with_br&&(d=new zS("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,i=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;r--;)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",function(e){var t=e?vr.trim(e):"";return/\b(noopener)\b/g.test(t)?t:i(t)}(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if(i=e[o],"a"===i.name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var i=new zS("li",1);i.attr("style","list-style-type: none"),t.wrap(i)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,i,o,a,s,u,c=e.length,l=n.getValidClasses();c--;){for(t=e[c],r=t.attr("class").split(" "),a="",i=0;i<r.length;i++)o=r[i],u=!1,s=l["*"],s&&s[o]&&(u=!0),s=l[t.name],!u&&s&&s[o]&&(u=!0),u&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}})},ZS=vr.makeMap,QS=vr.each,eN=vr.explode,tN=vr.extend,nN=function(e,t,n){-1===vr.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},rN=function(e,t,n){if(!t.no_events&&e){return _C.firePostProcess(e,SS(t,{content:n})).content}return n},iN=function(e,t,n){var r=$u.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Oa(Ai.fromDom(t))?r:vr.trim(r)},oN=function(e,t,n){var r=n.selection?SS({forced_root_block:!1},n):n,i=e.parse(t,r);return RS.trimTrailingBr(i),i},aN=function(e,t,n){return A(e,t).serialize(n)},sN=function(e,t,n,r,i){var o=aN(t,n,r);return rN(e,i,o)};!function(e){e.isBookmarkNode=Md.isBookmarkNode}(ee||(ee={}));var uN,cN=ee,lN=Za.isContentEditableFalse,fN=Za.isContentEditableTrue,dN=function(e,t){for(;t&&t!==e;){if(fN(t)||lN(t))return t;t=t.parentNode}return null},pN=function(e,t){var n,i,o,a,s,u,c,l,f,d,p,h,m,g,v,y,b,x=t.dom,w=vr.each,C=t.getDoc(),k=r.document,_=Math.abs,T=Math.round,E=t.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var S=".mce-content-body";t.contentStyles.push(S+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+S+" .mce-resizehandle:hover {background: #000}"+S+" img[data-mce-selected],"+S+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+S+" .mce-clonedresizable {position: absolute;"+(Tt.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+S+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var N=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},D=function(e,t){return N(e.target)&&!tT.isXYWithinRange(e.clientX,e.clientY,t)},R=function(e){var n=e.target;D(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},A=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},O=function(e){var n=t.settings.object_resizing;return!1!==n&&!Tt.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&yo(Ai.fromDom(e),n)))},P=function(e){var r,a,w,C,k;r=e.screenX-u,a=e.screenY-c,g=r*s[2]+d,v=a*s[3]+p,g=g<5?5:g,v=v<5?5:v,w=N(n)&&!1!==t.settings.resize_img_proportional?!A_.modifierPressed(e):A_.modifierPressed(e)||N(n)&&s[2]*s[3]!=0,w&&(_(r)>_(a)?(v=T(g*h),g=T(v/h)):(g=T(v/h),v=T(g*h))),x.setStyles(A(i),{width:g,height:v}),C=s.startPos.x+r,k=s.startPos.y+a,C=C>0?C:0,k=k>0?k:0,x.setStyles(o,{left:C,top:k,display:"block"}),o.innerHTML=g+" &times; "+v,s[2]<0&&i.clientWidth<=g&&x.setStyle(i,"left",l+(d-g)),s[3]<0&&i.clientHeight<=v&&x.setStyle(i,"top",f+(p-v)),r=E.scrollWidth-y,a=E.scrollHeight-b,r+a!==0&&x.setStyles(o,{left:C-r,top:k-a}),m||(_C.fireObjectResizeStart(t,n,d,p),m=!0)},B=function(){m=!1;var e=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?x.setStyle(A(n),e,r):x.setAttrib(A(n),e,r))};e("width",g),e("height",v),x.unbind(C,"mousemove",P),x.unbind(C,"mouseup",B),k!==C&&(x.unbind(k,"mousemove",P),x.unbind(k,"mouseup",B)),x.remove(i),x.remove(o),I(n),_C.fireObjectResized(t,n,g,v),x.setAttrib(n,"style",x.getAttrib(n,"style")),t.nodeChanged()},I=function(e){var r,m,_,T,S;M(),H(),r=x.getPos(e,E),l=r.x,f=r.y,S=e.getBoundingClientRect(),m=S.width||S.right-S.left,_=S.height||S.bottom-S.top,n!==e&&(n=e,g=v=0),T=t.fire("ObjectSelected",{target:e}),O(e)&&!T.isDefaultPrevented()?w(a,function(e,t){var r,a=function(t){u=t.screenX,c=t.screenY,d=A(n).clientWidth,p=A(n).clientHeight,h=p/d,s=e,e.startPos={x:m*e[0]+l,y:_*e[1]+f},y=E.scrollWidth,b=E.scrollHeight,i=n.cloneNode(!0),x.addClass(i,"mce-clonedresizable"),x.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,x.setStyles(i,{left:l,top:f,margin:0}),i.removeAttribute("data-mce-selected"),E.appendChild(i),x.bind(C,"mousemove",P),x.bind(C,"mouseup",B),k!==C&&(x.bind(k,"mousemove",P),x.bind(k,"mouseup",B)),o=x.add(E,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+p)};r=x.get("mceResizeHandle"+t),r&&x.remove(r),r=x.add(E,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Tt.ie&&(r.contentEditable=!1),x.bind(r,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),a(e)}),e.elm=r,x.setStyles(r,{left:m*e[0]+l-r.offsetWidth/2,top:_*e[1]+f-r.offsetHeight/2})}):M(),n.setAttribute("data-mce-selected","1")},M=function(){var e,t;H(),n&&n.removeAttribute("data-mce-selected");for(e in a)(t=x.get("mceResizeHandle"+e))&&(x.unbind(t),x.remove(t))},L=function(n){var r,i,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!m&&!t.removed){if(w(x.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"===n.type?n.target:e.getNode(),i=x.$(i).closest("table,img,figure.image,hr")[0],o(i,E)&&(j(),r=e.getStart(!0),o(r,i)&&o(e.getEnd(!0),i)))return void I(i);M()}},F=function(e){return lN(dN(t.getBody(),e))},H=function(){for(var e in a){var t=a[e];t.elm&&(x.unbind(t.elm),delete t.elm)}},j=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){j(),Tt.ie&&Tt.ie>=11&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;m||!/^(TABLE|IMG|HR)$/.test(r)||F(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(E,"mscontrolselect",function(e){var n=function(e){Pt.setEditorTimeout(t,function(){t.selection.select(e)})};if(F(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}));var e=Pt.throttle(function(e){t.composing||L(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",M),t.on("contextmenu",R)}),t.on("remove",H),{isResizable:O,showResizeRect:I,hideResizeRect:M,updateResizeRect:L,destroy:function(){n=i=null}}},hN=function(e){return Za.isContentEditableTrue(e)||Za.isContentEditableFalse(e)},mN=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},gN=function(e,t,n){var r,i,o;if(r=n.elementFromPoint(e,t),i=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),i.moveToElementText(r),o=vr.toArray(i.getClientRects()),o=o.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),o.length>0){t=(o[0].bottom+o[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(e){}}return null},vN=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Za.isContentEditableFalse(mN(n,t,hN))?null:e},yN=function(e,t,n){var r,i,o=n;if(o.caretPositionFromPoint)(i=o.caretPositionFromPoint(e,t))&&(r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(i){r=gN(e,t,n)}return vN(r,n.body)}return r},bN={fromPoint:yN},xN=function(e,t){return qe(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},wN={processRanges:xN},CN=function(e,t){var n=t||r.document,i=n.createDocumentFragment();return Ve(e,function(e){i.appendChild(e.dom())}),Ai.fromDom(i)},kN=so("element","width","rows"),_N=so("element","cells"),TN=so("x","y"),EN=function(e,t){var n=parseInt(Zi(e,t),10);return isNaN(n)?1:n},SN=function(e,t,n,r,i){for(var o=EN(i,"rowspan"),a=EN(i,"colspan"),s=e.rows(),u=n;u<n+o;u++){s[u]||(s[u]=_N(Lu(r),[]));for(var c=t;c<t+a;c++){s[u].cells()[c]=u===n&&c===t?i:Mu(i)}}},NN=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},DN=function(e,t,n){for(;NN(e,t,n);)t++;return t},RN=function(e){return Je(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},AN=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var i=n[r].cells(),o=0;o<i.length;o++)if(Co(i[o],t))return Ne.some(TN(o,r));return Ne.none()},ON=function(e,t,n,r,i){for(var o=[],a=e.rows(),s=n;s<=i;s++){var u=a[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);o.push(_N(a[s].element(),c))}return o},PN=function(e,t,n){var r=t.x(),i=t.y(),o=n.x(),a=n.y(),s=i<a?ON(e,r,i,o,a):ON(e,r,a,o,i);return kN(e.element(),RN(s),s)},BN=function(e,t){var n=Mu(e.element()),r=Ai.fromTag("tbody");return Gs(r,t),Ys(n,r),n},IN=function(e){return qe(e.rows(),function(e){var t=qe(e.cells(),function(e){var t=Lu(e);return eo(t,"colspan"),eo(t,"rowspan"),t}),n=Mu(e.element());return Gs(n,t),n})},MN=function(e){var t=kN(Mu(e),0,[]);return Ve(mu(e,"tr"),function(e,n){Ve(mu(e,"td,th"),function(r,i){SN(t,DN(t,i,n),n,e,r)})}),kN(t.element(),RN(t.rows()),t.rows())},LN=function(e){return BN(e,IN(e))},FN=function(e,t,n){return AN(e,t).bind(function(t){return AN(e,n).map(function(n){return PN(e,t,n)})})},HN={fromDom:MN,toDom:LN,subsection:FN},jN=function(e){return Ze(e,function(e){return"ul"===Ii(e)||"ol"===Ii(e)})},UN=function(e,t){return Ze(e,function(e){return"li"===Ii(e)&&N_(e,t)}).fold(ye([]),function(t){return jN(e).map(function(e){return[Ai.fromTag("li"),Ai.fromTag(Ii(e))]}).getOr([])})},WN=function(e,t){var n=Je(t,function(e,t){return Ys(t,e),t},e);return t.length>0?CN([n]):n},$N=function(e){return Na(e)?Ro(e).filter(Sa).fold(ye([]),function(t){return[e,t]}):Sa(e)?[e]:[]},zN=function(e,t){var n=Ai.fromDom(t.commonAncestorContainer),r=Hm.parentsAndSelf(n,e),i=Xe(r,function(e){return _a(e)||Ca(e)}),o=UN(r,t),a=i.concat(o.length?o:$N(n));return qe(a,Mu)},qN=function(){return CN([])},VN=function(e,t){return WN(Ai.fromDom(t.cloneContents()),zN(e,t))},YN=function(e,t){return yu(t,"table",i(Co,e))},KN=function(e,t){return YN(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],i=HN.fromDom(e);return HN.subsection(i,n,r).map(function(e){return CN([HN.toDom(e)])})}).getOrThunk(qN)},XN=function(e,t){return t.length>0&&t[0].collapsed?qN():VN(e,t[0])},GN=function(e,t){var n=ob.getCellsFromElementOrRanges(t,e);return n.length>0?KN(e,n):XN(e,t)},JN={read:GN},ZN=function(e){return Ne.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=$u.trim(n.innerText);return e.dom.remove(n),r}).getOr("")},QN=function(e,t){var n,r=e.selection.getRng(),i=e.dom.create("body"),o=e.selection.getSel(),a=wN.processRanges(e,eb.getRanges(o));return n=t.contextual?JN.read(Ai.fromDom(e.getBody()),a).dom():r.cloneContents(),n&&i.appendChild(n),e.selection.serializer.serialize(i,t)},eD=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return ZN(e);t.getInner=!0;var n=QN(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},tD={getContent:eD},nD=function(e,t){return Au(Au({format:"html"},e),{set:!0,selection:!0,content:t})},rD=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,Au({isRootContent:!0,forced_root_block:!1},t));return A({validate:e.validate},e.schema).serialize(n)}return t.content},iD=function(e,t,n){var r,i,o,a=nD(n,t),s=e.selection.getRng(),u=e.getDoc();if(!a.no_events&&(a=e.fire("BeforeSetContent",a),a.isDefaultPrevented()))return void e.fire("SetContent",a);if(t=rD(e,a),s.insertNode){t+='<span id="__caret">_</span>',s.startContainer===u&&s.endContainer===u?u.body.innerHTML=t:(s.deleteContents(),0===u.body.childNodes.length?u.body.innerHTML=t:s.createContextualFragment?s.insertNode(s.createContextualFragment(t)):(i=u.createDocumentFragment(),o=u.createElement("div"),i.appendChild(o),o.outerHTML=t,s.insertNode(i))),r=e.dom.get("__caret"),s=u.createRange(),s.setStartBefore(r),s.setEndBefore(r),e.selection.setRng(s),e.dom.remove("__caret");try{e.selection.setRng(s)}catch(e){}}else{var c=s;c.item&&(u.execCommand("Delete",!1,null),c=e.selection.getRng()),/^\s+/.test(t)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):c.pasteHTML(t)}a.no_events||e.fire("SetContent",a)},oD={setContent:iD},aD=function(e,t,n,r,i){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Ne.from(o).map(Ai.fromDom).map(function(e){return r&&t.collapsed?e:Lo(e,i(e,a)).getOr(e)}).bind(function(e){return Fi(e)?Ne.some(e):Ro(e)}).map(function(e){return e.dom()}).getOr(e)},sD=function(e,t,n){return aD(e,t,!0,n,function(e,t){return Math.min(jo(e),t)})},uD=function(e,t,n){return aD(e,t,!1,n,function(e,t){return t>0?t-1:t})},cD=function(e,t){for(var n=e;e&&Za.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},lD=function(e,t){var n,r,i,o,a;return t?(r=t.startContainer,i=t.endContainer,o=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===i&&a-o<2&&r.hasChildNodes()&&(n=r.childNodes[o]),3===r.nodeType&&3===i.nodeType&&(r=r.length===o?cD(r.nextSibling,!0):r.parentNode,i=0===a?cD(i.previousSibling,!1):i.parentNode,r&&r===i))?r:n&&3===n.nodeType?n.parentNode:n):e},fD=function(e,t,n,r){var i,o,a=[];if(o=e.getRoot(),n=e.getParent(n||sD(o,t,t.collapsed),e.isBlock),r=e.getParent(r||uD(o,t,t.collapsed),e.isBlock),n&&n!==o&&a.push(n),n&&r&&n!==r){i=n;for(var s=new x(n,o);(i=s.next())&&i!==r;)e.isBlock(i)&&a.push(i)}return r&&n!==r&&r!==o&&a.push(r),a},dD=function(e,t,n){return Ne.from(t).map(function(t){var r=e.nodeIndex(t),i=e.createRng();return i.setStart(t.parentNode,r),i.setEnd(t.parentNode,r+1),n&&(D_(e,i,t,!0),D_(e,i,t,!1)),i})},pD=vr.each,hD=function(e){return!!e.select},mD=function(e){return!(!e||!e.ownerDocument)&&Eo(Ai.fromDom(e.ownerDocument),Ai.fromDom(e))},gD=function(e){return!!e&&(!!hD(e)||mD(e.startContainer)&&mD(e.endContainer))},vD=function(e,t,n,r){var i,o,a,s,u,c=function(t,n){var i=e.createRng();t?(i.setStart(t,n),i.setEnd(t,n),w(i),y(!1)):(D_(e,i,r.getBody(),!0),w(i))},l=function(e){return tD.getContent(r,e)},f=function(e,t){return oD.setContent(r,e,t)},d=function(e){return sD(r.getBody(),x(),e)},p=function(e){return uD(r.getBody(),x(),e)},h=function(e,t){return i.getBookmark(e,t)},m=function(e){return i.moveToBookmark(e)},g=function(t,n){return dD(e,t,n).each(w),t},v=function(){var e=x(),t=b();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},y=function(e){var t=x();t.collapse(!!e),w(t)},b=function(){return t.getSelection?t.getSelection():t.document.selection},x=function(){var n,i,o,u,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(void 0===(u=t.document)||null===u)return null;if(void 0!==r.bookmark&&!1===Tk.hasFocus(r)){var l=nC.getRng(r);if(l.isSome())return l.map(function(e){return wN.processRanges(r,[e])[0]}).getOr(u.createRange())}try{(n=b())&&!Za.isRestrictedNode(n.anchorNode)&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(e){}return i=wN.processRanges(r,[i])[0],i||(i=u.createRange?u.createRange():u.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=e.getRoot(),i.setStart(o,0),i.setEnd(o,0)),a&&s&&(0===c(i.START_TO_START,i,a)&&0===c(i.END_TO_END,i,a)?i=s:(a=null,s=null)),i},w=function(e,t){var n,i,o;if(gD(e)){var u=hD(e)?e:null;if(u){s=null;try{u.select()}catch(e){}}else{if(n=b(),o=r.fire("SetSelectionRange",{range:e,forward:t}),e=o.range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||Tt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(i,0,i,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},C=function(t){return f(e.getOuterHTML(t)),t},k=function(){return lD(r.getBody(),x())},_=function(t,n){return fD(e,x(),t,n)},T=function(){var t,n,r=b();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},E=function(){var t=x(),n=b();if(!eb.hasMultipleRanges(n)&&R_(r)){var i=uw.normalize(e,t);return i.each(function(e){w(e,T())}),i.getOr(t)}return t},S=function(t,n){var i;return u||(u={},i={},r.on("NodeChange",function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),o={};pD(u,function(t,n){pD(r,function(a){if(e.is(a,n))return i[n]||(pD(t,function(e){e(!0,{node:a,selector:n,parents:r})}),i[n]=t),o[n]=t,!1})}),pD(i,function(e,t){o[t]||(delete i[t],pD(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),u[t]||(u[t]=[]),u[t].push(n),P},N=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},D=function(e,t){return mx.scrollElementIntoView(r,e,t)},R=function(e,t){return w(bN.fromPoint(e,t,r.getDoc()))},A=function(){var e=x();return e.collapsed?cl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},O=function(){t=a=s=null,o.destroy()},P={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:y,setCursorLocation:c,getContent:l,setContent:f,getBookmark:h,moveToBookmark:m,select:g,isCollapsed:v,isForward:T,setNode:C,getNode:k,getSel:b,setRng:w,getRng:x,getStart:d,getEnd:p,getSelectedBlocks:_,normalize:E,selectorChanged:S,getScrollContainer:N,scrollIntoView:D,placeCaretAt:R,getBoundingClientRect:A,destroy:O};return i=cN(P),o=pN(P,r),P.bookmarkManager=i,P.controlSelection=o,P};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(uN||(uN={}));var yD=function(e,t){return e===ul.Backwards?t.reverse():t},bD=function(e,t,n){return e===ul.Forwards?t.next(n):t.prev(n)},xD=function(e,t,n,r){return Za.isBr(r.getNode(t===ul.Forwards))?uN.Br:!1===Ef(n,r)?uN.Block:uN.Wrap},wD=function(e,t,n,r){for(var i,o=Zf(n),a=r,s=[];a&&(i=bD(t,o,a));){if(Za.isBr(i.getNode(!1)))return t===ul.Forwards?{positions:yD(t,s).concat([i]),breakType:uN.Br,breakAt:Ne.some(i)}:{positions:yD(t,s),breakType:uN.Br,breakAt:Ne.some(i)};if(i.isVisible()){if(e(a,i)){var u=xD(0,t,a,i);return{positions:yD(t,s),breakType:u,breakAt:Ne.some(i)}}s.push(i),a=i}else a=i}return{positions:yD(t,s),breakType:uN.Eol,breakAt:Ne.none()}},CD=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var i=t(n,r).positions;return e===ul.Backwards?i.concat(r):[r].concat(i)}).getOr([])},kD=function(e,t){return Je(e,function(e,n){return e.fold(function(){return Ne.some(n)},function(r){return Mc(st(r.getClientRects()),st(n.getClientRects()),function(e,i){var o=Math.abs(t-e.left);return Math.abs(t-i.left)<=o?n:r}).or(e)})},Ne.none())},_D=function(e,t){return st(t.getClientRects()).bind(function(t){return kD(e,t.left)})},TD=i(wD,N.isAbove,-1),ED=i(wD,N.isBelow,1),SD=function(e,t){return TD(e,t).breakAt.isNone()},ND=function(e,t){return ED(e,t).breakAt.isNone()},DD=i(CD,-1,TD),RD=i(CD,1,ED),AD=function(e){return dd.firstPositionIn(e).map(function(t){return[t].concat(ED(e,t).positions)}).getOr([])},OD=function(e){return dd.lastPositionIn(e).map(function(t){return TD(e,t).positions.concat(t)}).getOr([])},PD=Za.isContentEditableFalse,BD=Oc,ID=function(e,t,n,r){var i=e===ul.Forwards,o=i?_g:Tg;if(!r.collapsed){var a=BD(r);if(PD(a))return yx(e,t,a,e===ul.Backwards,!0)}var s=oc(r),u=If(e,t.getBody(),r);if(o(u))return xx(t,u.getNode(!i));var c=sm.normalizePosition(i,n(u));if(!c)return s?r:null;if(o(c))return yx(e,t,c.getNode(!i),i,!0);var l=n(c);return l&&o(l)&&Hf(c,l)?yx(e,t,l.getNode(!i),i,!0):s?Cx(t,c.toRange(),!0):null},MD=function(e,t,n,r){var i,o,a,s,u,c,l,f,d;if(d=BD(r),i=If(e,t.getBody(),r),o=n(t.getBody(),U_(1),i),a=Xe(o,W_(1)),u=ir.last(i.getClientRects()),(_g(i)||Sg(i))&&(d=i.getNode()),(Tg(i)||Ng(i))&&(d=i.getNode(!0)),!u)return null;if(c=u.left,(s=K_(a,c))&&PD(s.node))return l=Math.abs(c-s.left),f=Math.abs(c-s.right),yx(e,t,s.node,l<f,!0);if(d){var p=j_(e,t.getBody(),U_(1),d);if(s=K_(Xe(p,W_(1)),c))return Cx(t,s.position.toRange(),!0);if(s=ir.last(Xe(p,W_(0))))return Cx(t,s.position.toRange(),!0)}},LD=function(e){var t=e.dom.create(Jh.getForcedRootBlock(e));return(!Tt.ie||Tt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},FD=function(e,t,n){var r,o,a,s=Zf(e.getBody()),u=i(Ff,s.next),c=i(Ff,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;o=1===t?u(cl.fromRangeStart(n)):c(cl.fromRangeStart(n)),o||(a=LD(e),1===t?e.$(r).after(a):e.$(r).before(a),e.selection.select(a,!0),e.selection.collapse())}},HD=function(e,t){var n,r=Zf(e.getBody()),o=i(Ff,r.next),a=i(Ff,r.prev),s=t?ul.Forwards:ul.Backwards,u=t?o:a,c=e.selection.getRng();return(n=ID(s,e,u,c))?n:(n=FD(e,s,c))||null},jD=function(e,t){var n,r=t?1:-1,i=t?H_:F_,o=e.selection.getRng();return(n=MD(r,e,i,o))?n:(n=FD(e,r,o))||null},UD=function(e,t){return function(){var n=HD(e,t);return!!n&&(kx(e,n),!0)}},WD=function(e,t){return function(){var n=jD(e,t);return!!n&&(kx(e,n),!0)}},$D=function(e){return function(t){return e?Tg(t):_g(t)}},zD=function(e,t){return function(){var n=t?cl.fromRangeEnd(e.selection.getRng()):cl.fromRangeStart(e.selection.getRng()),r=t?ED(e.getBody(),n):TD(e.getBody(),n);return(t?ut(r.positions):st(r.positions)).filter($D(t)).fold(ye(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},qD=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},VD=function(e,t){return tt(t,function(t){var n=qD(Cc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},YD=function(e,t,n){return Je(e,function(e,r){return e.fold(function(){return Ne.some(r)},function(e){var i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),o=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Ne.some(o<i?r:e)})},Ne.none())},KD=function(e,t,n,r,i){var o=mu(Ai.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Xe(VD(e,o),function(e){return t(e,i)});return YD(a,r,i).map(function(e){return e.cell})},XD=function(e){return e.bottom},GD=function(e){return e.top},JD=function(e,t){return e.y<t},ZD=function(e,t){return e.y>t},QD=i(KD,XD,JD),eR=i(KD,GD,ZD),tR=function(e,t){return st(t.getClientRects()).bind(function(t){return QD(e,t.left,t.top)}).bind(function(e){return _D(OD(e),t)})},nR=function(e,t){return ut(t.getClientRects()).bind(function(t){return eR(e,t.left,t.top)}).bind(function(e){return _D(AD(e),t)})},rR=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},iR=function(e){return e.breakType===uN.Wrap&&0===e.positions.length},oR=function(e){return e.breakType===uN.Br&&1===e.positions.length},aR=function(e,t,n){var r=e(t,n);return iR(r)||!Za.isBr(n.getNode())&&oR(r)?!rR(e,t,r):r.breakAt.isNone()},sR=i(aR,TD),uR=i(aR,ED),cR=function(e,t,n){var r=cl.fromRangeStart(t);return dd.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},lR=function(e,t,n,r){var i=e.selection.getRng(),o=t?1:-1;if(pf()&&cR(t,i,n)){var a=yx(o,e,n,!t,!0);return kx(e,a),!0}return!1},fR=function(e,t,n){return tR(t,n).orThunk(function(){return st(n.getClientRects()).bind(function(n){return kD(DD(e,cl.before(t)),n.left)})}).getOr(cl.before(t))},dR=function(e,t,n){return nR(t,n).orThunk(function(){return st(n.getClientRects()).bind(function(n){return kD(RD(e,cl.after(t)),n.left)})}).getOr(cl.after(t))},pR=function(e,t){var n=t.getNode(e);return Za.isElement(n)&&"TABLE"===n.nodeName?Ne.some(n):Ne.none()},hR=function(e,t,n,r){var i=Jh.getForcedRootBlock(t);i?t.undoManager.transact(function(){var r=Ai.fromTag(i);Ji(r,Jh.getForcedRootBlockAttrs(t)),Ys(r,Ai.fromTag("br")),e?qs(Ai.fromDom(n),r):zs(Ai.fromDom(n),r);var o=t.dom.createRng();o.setStart(r.dom(),0),o.setEnd(r.dom(),0),kx(t,o)}):kx(t,r.toRange())},mR=function(e,t,n){var r=!1===t;(t?pR(!0,n):pR(!1,n)).fold(function(){return kx(e,n.toRange())},function(i){return dd.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return kx(e,n.toRange())},function(r){return hR(t,e,i,n)})})},gR=function(e,t,n,r){var i=e.selection.getRng(),o=cl.fromRangeStart(i),a=e.getBody();if(!t&&sR(r,o)){var s=fR(a,n,o);return mR(e,t,s),!0}if(t&&uR(r,o)){var s=dR(a,n,o);return mR(e,t,s),!0}return!1},vR=function(e,t){return function(){return Ne.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ne.from(e.dom.getParent(n,"table")).map(function(n){return lR(e,t,n)})}).getOr(!1)}},yR=function(e,t){return function(){return Ne.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ne.from(e.dom.getParent(n,"table")).map(function(r){return gR(e,t,r,n)})}).getOr(!1)}},bR=function(e){return $e(["figcaption"],Ii(e))},xR=function(e){var t=r.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},wR=function(e,t,n){n?Ys(e,t):Vs(e,t)},CR=function(e,t){var n=Ai.fromTag("br");return wR(e,n,t),xR(n)},kR=function(e,t,n,r){var i=Ai.fromTag(n),o=Ai.fromTag("br");return Ji(i,r),Ys(i,o),wR(e,i,t),xR(o)},_R=function(e,t,n,r){return""===t?CR(e,r):kR(e,r,t,n)},TR=function(e,t){var n=i(Co,t);return vu(Ai.fromDom(e.container()),ka,n).filter(bR)},ER=function(e,t,n){return t?ND(e.dom(),n):SD(e.dom(),n)},SR=function(e,t){var n=Ai.fromDom(e.getBody()),r=cl.fromRangeStart(e.selection.getRng()),i=Jh.getForcedRootBlock(e),o=Jh.getForcedRootBlockAttrs(e);return TR(r,n).exists(function(){if(ER(n,t,r)){var a=_R(n,i,o,t);return e.selection.setRng(a),!0}return!1})},NR=function(e,t){return function(){return!!e.selection.isCollapsed()&&SR(e,t)}},DR=function(e){return qe(e,function(e){return SS({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ge},e)})},RR=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},AR=function(e,t){return tt(DR(e),function(e){return RR(e,t)?[e]:[]})},OR=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},PR=function(e,t){return Ze(AR(e,t),function(e){return e.action()})},BR={match:AR,action:OR,execute:PR},IR=function(e,t,n){var r=Ti.detect().os;BR.execute([{keyCode:A_.RIGHT,action:UD(e,!0)},{keyCode:A_.LEFT,action:UD(e,!1)},{keyCode:A_.UP,action:WD(e,!1)},{keyCode:A_.DOWN,action:WD(e,!0)},{keyCode:A_.RIGHT,action:vR(e,!0)},{keyCode:A_.LEFT,action:vR(e,!1)},{keyCode:A_.UP,action:yR(e,!1)},{keyCode:A_.DOWN,action:yR(e,!0)},{keyCode:A_.RIGHT,action:xy.move(e,t,!0)},{keyCode:A_.LEFT,action:xy.move(e,t,!1)},{keyCode:A_.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:xy.moveNextWord(e,t)},{keyCode:A_.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:xy.movePrevWord(e,t)},{keyCode:A_.UP,action:NR(e,!1)},{keyCode:A_.DOWN,action:NR(e,!0)}],n).each(function(e){n.preventDefault()})},MR=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&IR(e,t,n)})},LR={setup:MR},FR=function(e,t,n){BR.execute([{keyCode:A_.BACKSPACE,action:BR.action(xv.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(xv.backspaceDelete,e,!0)},{keyCode:A_.BACKSPACE,action:BR.action(Nx.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(Nx.backspaceDelete,e,!0)},{keyCode:A_.BACKSPACE,action:BR.action(Dy.backspaceDelete,e,t,!1)},{keyCode:A_.DELETE,action:BR.action(Dy.backspaceDelete,e,t,!0)},{keyCode:A_.BACKSPACE,action:BR.action(_b.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(_b.backspaceDelete,e,!0)},{keyCode:A_.BACKSPACE,action:BR.action(sg.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(sg.backspaceDelete,e,!0)},{keyCode:A_.BACKSPACE,action:BR.action(Qm.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(Qm.backspaceDelete,e,!0)},{keyCode:A_.BACKSPACE,action:BR.action(ux.backspaceDelete,e,!1)},{keyCode:A_.DELETE,action:BR.action(ux.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},HR=function(e,t){BR.execute([{keyCode:A_.BACKSPACE,action:BR.action(xv.paddEmptyElement,e)},{keyCode:A_.DELETE,action:BR.action(xv.paddEmptyElement,e)}],t)},jR=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&FR(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&HR(e,t)})},UR={setup:jR},WR=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},$R=function(e,t){var n,r,i,o=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=WR(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode(" "),t.firstChild)}if(i=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new x(t,t);r=n.current();){if(Za.isText(r)){i.setStart(r,0),i.setEnd(r,0);break}if(s[r.nodeName.toLowerCase()]){i.setStartBefore(r),i.setEndBefore(r);break}o=r,r=n.next()}r||(i.setStart(o,0),i.setEnd(o,0))}else Za.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),a.remove(void 0),e.selection.scrollIntoView(t)}},zR=function(e,t){var n,r,i=e.getRoot();for(n=t;n!==i&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},qR=function(e){return Ne.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},VR=function(e){return qR(e).fold(ye(""),function(e){return e.nodeName.toUpperCase()})},YR=function(e){return qR(e).filter(function(e){return Na(Ai.fromDom(e))}).isSome()},KR={moveToCaretPosition:$R,getEditableRoot:zR,getParentBlock:qR,getParentBlockName:VR,isListItemParentBlock:YR},XR=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},GR=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},JR=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},ZR=function(e){return JR(e)&&JR(e.parentNode)},QR=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},eA=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Za.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},tA=function(e,t,n,r,i){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){ZR(n)&&(i="LI");var s=i?t(i):o.create("BR");if(eA(n,r,!0)&&eA(n,r,!1))GR(n,"LI")?o.insertAfter(s,QR(n)):o.replace(s,n);else if(eA(n,r,!0))GR(n,"LI")?(o.insertAfter(s,QR(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(eA(n,r,!1))o.insertAfter(s,QR(n));else{n=QR(n);var u=a.cloneRange();u.setStartAfter(r),u.setEndAfter(n);var c=u.extractContents();"LI"===i&&XR(c,"LI")?(s=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(s,n))}o.remove(r),KR.moveToCaretPosition(e,s)}},nA={insert:tA},rA=function(e){Ve(hu(Ai.fromDom(e),Hi),function(e){var t=e.dom();t.nodeValue=$u.trim(t.nodeValue)})},iA=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},oA=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},aA=function(e){e.innerHTML='<br data-mce-bogus="1">'},sA=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},uA=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},cA=function(e,t,n){var r,i=n,o=[];if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Za.isElement(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}for(r=o.length;r--;)i=o[r],!i.hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue?e.remove(i):iA(e,i)&&e.remove(i)}},lA=function(e,t,n){return!1===Za.isText(t)?n:e?1===n&&t.data.charAt(n-1)===$u.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===$u.ZWSP?t.data.length:n},fA=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,lA(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,lA(!1,e.endContainer,e.endOffset)),t},dA=function(e){do{Za.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},pA=function(e,t){var n,r,i=e.getRoot();for(n=t;n!==i&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},hA=function(e,t,n){Ne.from(n.style).map(e.dom.parseStyle).each(function(n){var r=ao(Ai.fromDom(t)),i=Au(Au({},r),n);e.dom.setStyles(t,i)});var r=Ne.from(n.class).map(function(e){return e.split(/\s+/)}),i=Ne.from(t.className).map(function(e){return Xe(e.split(/\s+/),function(e){return""!==e})});Mc(r,i,function(n,r){var i=Xe(r,function(e){return!$e(n,e)}),o=S(n,i);e.dom.setAttrib(t,"class",o.join(" "))});var o=["style","class"],a=qi(n,function(e,t){return!$e(o,t)}).t;e.dom.setAttribs(t,a)},mA=function(e,t){var n=Jh.getForcedRootBlock(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=Jh.getForcedRootBlockAttrs(e);hA(e,t,r)}},gA=function(e,t,n,r,i){var o,a,s,u,c,l,f=t||"P",d=e.dom,p=pA(d,r);if(!(a=d.getParent(r,d.isBlock))||!uA(d,a)){if(a=a||p,l=a===e.getBody()||oA(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=d.create(f),mA(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!d.isBlock(u);)s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,f.toLowerCase())){for(o=d.create(f),mA(e,o),s.parentNode.insertBefore(o,s),u=s;u&&!d.isBlock(u);)c=u.nextSibling,o.appendChild(u),u=c;n.setStart(r,i),n.setEnd(r,i)}}return r},vA=function(e,t){var n;t.normalize(),(n=t.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},yA=function(e,t){var n,r,i,o,a,s,u,c,l,f,d,p,h,m=e.dom,g=e.schema,v=g.getNonEmptyElements(),y=e.selection.getRng(),b=function(t){var n,o,s,u=i,c=g.getTextInlineElements();if(n=t||"TABLE"===f||"HR"===f?m.create(t||p):a.cloneNode(!1),s=n,!1===Jh.shouldKeepStyles(e))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(c[u.nodeName]){if(zl(u)||Md.isBookmarkNode(u))continue;o=u.cloneNode(!1),m.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(s=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==r);return mA(e,n),aA(s),n},w=function(e){var t,n,r,s;if(s=lA(e,i,o),Za.isText(i)&&(e?s>0:s<i.nodeValue.length))return!1;if(i.parentNode===a&&h&&!e)return!0;if(e&&Za.isElement(i)&&i===a.firstChild)return!0;if(sA(i,"TABLE")||sA(i,"HR"))return h&&!e||!h&&e;for(t=new x(i,a),Za.isText(i)&&(e&&0===s?t.prev():e||s!==i.nodeValue.length||t.next());n=t.current();){if(Za.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),v[r]&&"br"!==r))return!1}else if(Za.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},C=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?b(p):b(),Jh.shouldEndContainerOnEmptyBlock(e)&&uA(m,l)&&m.isEmpty(a)?u=m.split(l,a):m.insertAfter(u,a),KR.moveToCaretPosition(e,u)};if(uw.normalize(m,y).each(function(e){y.setStart(e.startContainer,e.startOffset),y.setEnd(e.endContainer,e.endOffset)}),i=y.startContainer,o=y.startOffset,p=Jh.getForcedRootBlock(e),s=t.shiftKey,Za.isElement(i)&&i.hasChildNodes()&&(h=o>i.childNodes.length-1,i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i,o=h&&Za.isText(i)?i.nodeValue.length:0),r=pA(m,i)){if((p&&!s||!p&&s)&&(i=gA(e,p,y,i,o)),a=m.getParent(i,m.isBlock),l=a?m.getParent(a.parentNode,m.isBlock):null,f=a?a.nodeName.toUpperCase():"",d=l?l.nodeName.toUpperCase():"","LI"!==d||t.ctrlKey||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&m.isEmpty(a))return void nA.insert(e,b,l,a,p);p&&a===e.getBody()||(p=p||"P",Vu(a)?(u=ic(a),m.isEmpty(a)&&aA(a),mA(e,u),KR.moveToCaretPosition(e,u)):w()?C():w(!0)?(u=a.parentNode.insertBefore(b(),a),KR.moveToCaretPosition(e,sA(a,"HR")?u:a)):(n=fA(y).cloneRange(),n.setEndAfter(a),c=n.extractContents(),rA(c),dA(c),u=c.firstChild,m.insertAfter(c,a),cA(m,v,u),vA(m,a),m.isEmpty(a)&&aA(a),u.normalize(),m.isEmpty(u)?(m.remove(u),C()):(mA(e,u),KR.moveToCaretPosition(e,u))),m.setAttrib(u,"id",""),e.fire("NewBlock",{newBlock:u}))}},bA={insert:yA},xA=function(e,t){return KR.getParentBlock(e).filter(function(e){return t.length>0&&yo(Ai.fromDom(e),t)}).isSome()},wA=function(e){return xA(e,Jh.getBrNewLineSelector(e))},CA=function(e){return xA(e,Jh.getNoNewLineSelector(e))},kA={shouldInsertBr:wA,shouldBlockNewLine:CA},_A=cg.generate([{br:[]},{block:[]},{none:[]}]),TA=function(e,t){return kA.shouldBlockNewLine(e)},EA=function(e){return function(t,n){return""===Jh.getForcedRootBlock(t)===e}},SA=function(e){return function(t,n){return KR.isListItemParentBlock(t)===e}},NA=function(e,t){return function(n,r){return KR.getParentBlockName(n)===e.toUpperCase()===t}},DA=function(e){return NA("pre",e)},RA=function(){return NA("summary",!0)},AA=function(e){return function(t,n){return Jh.shouldPutBrInPre(t)===e}},OA=function(e,t){return kA.shouldInsertBr(e)},PA=function(e,t){return t},BA=function(e){var t=Jh.getForcedRootBlock(e),n=KR.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},IA=function(e,t){return function(n,r){return Je(e,function(e,t){return e&&t(n,r)},!0)?Ne.some(t):Ne.none()}},MA=function(e,t){return Iv.evaluateUntil([IA([TA],_A.none()),IA([RA()],_A.br()),IA([DA(!0),AA(!1),PA],_A.br()),IA([DA(!0),AA(!1)],_A.block()),IA([DA(!0),AA(!0),PA],_A.block()),IA([DA(!0),AA(!0)],_A.br()),IA([SA(!0),PA],_A.br()),IA([SA(!0)],_A.block()),IA([EA(!0),PA,BA],_A.block()),IA([EA(!0)],_A.br()),IA([OA],_A.br()),IA([EA(!1),PA],_A.br()),IA([BA],_A.block())],[e,t.shiftKey]).getOr(_A.none())},LA={getAction:MA},FA=function(e,t){LA.getAction(e,t).fold(function(){Cw.insert(e,t)},function(){bA.insert(e,t)},ge)},HA={insert:FA},jA=function(e){e.typing&&(e.typing=!1,e.add())},UA=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),jA(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),HA.insert(e,t)}))},WA=function(e){e.on("keydown",function(t){t.keyCode===A_.ENTER&&UA(e,t)})},$A={setup:WA},zA=function(e,t){var n=t.container(),r=t.offset();return Za.isText(n)?(n.insertData(r,e),Ne.some(N(n,r+e.length))):Mf(t).map(function(n){var r=Ai.fromText(e);return t.isAtEnd()?qs(n,r):zs(n,r),N(r.dom(),e.length)})},qA=i(zA," "),VA=i(zA," "),YA=function(e,t,n){return dd.navigateIgnore(e,t,n,Cg)},KA=function(e,t){return Ze(Hm.parentsAndSelf(Ai.fromDom(t.container()),e),ka)},XA=function(e,t,n){return YA(e,t.dom(),n).forall(function(e){return KA(t,n).fold(function(){return!1===Ef(e,n,t.dom())},function(r){return!1===Ef(e,n,t.dom())&&Eo(r,Ai.fromDom(e.container()))})})},GA=function(e,t,n){return KA(t,n).fold(function(){return YA(e,t.dom(),n).forall(function(e){return!1===Ef(e,n,t.dom())})},function(t){return YA(e,t.dom(),n).isNone()})},JA=i(GA,!1),ZA=i(GA,!0),QA=i(XA,!1),eO=i(XA,!0),tO=function(e){return N.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},nO=function(e,t){var n=Xe(Hm.parentsAndSelf(Ai.fromDom(t.container()),e),ka);return st(n).getOr(e)},rO=function(e,t){return tO(t)?wg(t):wg(t)||dd.prevPosition(nO(e,t).dom(),t).exists(wg)},iO=function(e,t){return tO(t)?xg(t):xg(t)||dd.nextPosition(nO(e,t).dom(),t).exists(xg)},oO=function(e){return $e(["pre","pre-wrap"],e)},aO=function(e){return Mf(e).bind(function(e){return vu(e,Fi)}).exists(function(e){return oO(ro(e,"white-space"))})},sO=function(e,t){return dd.prevPosition(e.dom(),t).isNone()},uO=function(e,t){return dd.nextPosition(e.dom(),t).isNone()},cO=function(e,t){return sO(e,t)||uO(e,t)||JA(e,t)||ZA(e,t)||pg(e,t)||dg(e,t)},lO=function(e,t){return!aO(t)&&(cO(e,t)||rO(e,t)||iO(e,t))},fO=function(e,t){return!aO(t)&&(JA(e,t)||QA(e,t)||pg(e,t)||rO(e,t))},dO=function(e){var t=e.container(),n=e.offset();return Za.isText(t)&&n<t.data.length?N(t,n+1):e},pO=function(e,t){var n=dO(t);return!aO(n)&&(ZA(e,n)||eO(e,n)||dg(e,n)||iO(e,n))},hO=function(e,t){return fO(e,t)||pO(e,t)},mO=function(e,t){return gg(e.charAt(t))},gO=function(e){var t=e.container();return Za.isText(t)&&pi(t.data," ")},vO=function(e){var t=e.split("");return qe(t,function(e,n){return gg(e)&&n>0&&n<t.length-1&&yg(t[n-1])&&yg(t[n+1])?" ":e}).join("")},yO=function(e,t){var n=t.data,r=N(t,0);return!(!mO(n,0)||hO(e,r))&&(t.data=" "+n.slice(1),!0)},bO=function(e){var t=e.data,n=vO(t);return n!==t&&(e.data=n,!0)},xO=function(e,t){var n=t.data,r=N(t,n.length-1);return!(!mO(n,n.length-1)||hO(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},wO=function(e,t){return Ne.some(t).filter(gO).bind(function(t){var n=t.container();return yO(e,n)||bO(n)||xO(e,n)?Ne.some(t):Ne.none()})},CO=function(e){var t=Ai.fromDom(e.getBody());e.selection.isCollapsed()&&wO(t,N.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},kO=function(e){return function(t){return t.fold(function(t){return dd.prevPosition(e.dom(),cl.before(t))},function(e){return dd.firstPositionIn(e)},function(e){return dd.lastPositionIn(e)},function(t){return dd.nextPosition(e.dom(),cl.after(t))})}},_O=function(e,t){return function(n){return lO(e,n)?qA(t):VA(t)}},TO=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},EO=function(e){var t=cl.fromRangeStart(e.selection.getRng()),n=Ai.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=i(sm.isInlineTarget,e),o=cl.fromRangeStart(e.selection.getRng());return ny.readLocation(r,e.getBody(),o).bind(kO(n)).bind(_O(n,t)).exists(TO(e))}return!1},SO=function(e,t){BR.execute([{keyCode:A_.SPACEBAR,action:BR.action(EO,e)}],t).each(function(e){t.preventDefault()})},NO=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&SO(e,t)})},DO={setup:NO},RO=function(e){return bu(Ai.fromDom(e.getBody()),"*[data-mce-caret]").fold(ye(null),function(e){return e.dom()})},AO=function(e){e.selection.setRng(e.selection.getRng())},OO=function(e,t){t.hasAttribute("data-mce-caret")&&(ic(t),AO(e),e.selection.scrollIntoView(t))},PO=function(e,t){var n=RO(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void OO(e,n)):void(Xu(n)&&(OO(e,n),e.undoManager.add()))},BO=function(e){e.on("keyup compositionstart",i(PO,e))},IO={setup:BO},MO=Ti.detect().browser,LO=function(e){var t=eu(function(){e.composing||CO(e)},0);MO.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},FO=function(e){LO(e),e.on("input",function(t){!1===t.isComposing&&CO(e)})},HO=function(e,t){BR.execute([{keyCode:A_.END,action:zD(e,!0)},{keyCode:A_.HOME,action:zD(e,!1)}],t).each(function(e){t.preventDefault()})},jO=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&HO(e,t)})},UO={setup:jO},WO=function(e){var t=xy.setupSelectedState(e);IO.setup(e),LR.setup(e,t),UR.setup(e,t),$A.setup(e),DO.setup(e),FO(e),UO.setup(e)},$O={setup:WO},zO=function(e){return Za.isElement(e)&&Ea(Ai.fromDom(e))},qO=function(e){var t=e.selection.getRng(),n=N.fromRangeStart(t),r=N.fromRangeEnd(t);if(N.isElementPosition(n)){var i=n.container();zO(i)&&dd.firstPositionIn(i).each(function(e){return t.setStart(e.container(),e.offset())})}if(N.isElementPosition(r)){var i=n.container();zO(i)&&dd.lastPositionIn(i).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(oh.normalize(t))},VO=function(e){e.on("click",function(t){t.detail>=3&&qO(e)})},YO=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},KO=function(e){e.parser.addNodeFilter("details",function(e){Ve(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){Ve(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Ae(t)?t:null),e.attr("data-mce-open",null)})})},XO=function(e){YO(e),KO(e)},GO=Ls.DOM,JO=function(e,t){var n=Ai.fromDom(e.getDoc().head),r=Ai.fromTag("style");Gi(r,"type","text/css"),Ys(r,Ai.fromText(t)),Ys(n,r)},ZO=function(e){var t=J(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,i,o,a=t.length,s=e.dom;a--;)if(r=t[a],i=r.attr(n),o="data-mce-"+n,!r.attributes.map[o]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===n?(i=s.serializeStyle(s.parseStyle(i),r.name),i.length||(i=null),r.attr(o,i),r.attr(n,i)):"tabindex"===n?(r.attr(o,i),r.attr(n,null)):r.attr(o,e.convertURL(i,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,i=e.schema.getNonEmptyElements();r--;)n=t[r],n.isEmpty(i)&&0===n.getAll("br").length&&(n.append(new zS("br",1)).shortEnded=!0)}),t},QO=function(e){e.settings.auto_focus&&Pt.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},eP=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),QO(e)},tP=function(e){return e.inline?GO.styleSheetLoader:e.dom.styleSheetLoader},nP=function(e,t){var n,i,o=e.settings,a=e.getElement(),s=e.getDoc();o.inline||(e.getElement().style.visibility=e.orgVisibility),t||o.content_editable||(s.open(),s.write(e.iframeHTML),s.close()),o.content_editable&&(e.on("remove",function(){var e=this.getBody();GO.removeClass(e,"mce-content-body"),GO.removeClass(e,"mce-edit-focus"),GO.setAttrib(e,"contentEditable",null)}),GO.addClass(a,"mce-content-body"),e.contentDocument=s=o.content_document||r.document,e.contentWindow=o.content_window||r.window,e.bodyElement=a,o.content_document=o.content_window=null,o.root_name=a.nodeName.toLowerCase()),n=e.getBody(),n.disabled=!0,e.readonly=o.readonly,e.readonly||(e.inline&&"static"===GO.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=q(e),e.schema=w(o),e.dom=Ls(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:o.content_editable,schema:e.schema,contentCssCors:Jh.shouldUseContentCssCors(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=ZO(e),e.serializer=Q(o,e),e.selection=vD(e.dom,e.getWin(),e.serializer,e),e.annotator=D(e),e.formatter=G(e),e.undoManager=K(e),e._nodeChangeDispatcher=new V(e),e._selectionOverrides=LT(e),XO(e),VO(e),$O.setup(e),k_.setup(e),e.fire("PreInit"),o.browser_spellcheck||o.gecko_spellcheck||(s.body.spellcheck=!1,GO.setAttrib(n,"spellcheck","false")),e.quirks=te(e),e.fire("PostRender"),o.directionality&&(n.dir=o.directionality),o.nowrap&&(n.style.whiteSpace="nowrap"),o.protect&&e.on("BeforeSetContent",function(e){vr.each(o.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(i="",vr.each(e.contentStyles,function(e){i+=e+"\r\n"}),e.dom.addStyle(i)),tP(e).loadAll(e.contentCSS,function(t){eP(e)},function(t){eP(e)}),o.content_style&&JO(e,o.content_style)},rP={initContentBody:nP},iP=Ls.DOM,oP=function(e,t){if(r.document.domain!==r.window.location.hostname&&Tt.ie&&Tt.ie<12){var n=g_.uuid("mce");e[n]=function(){rP.initContentBody(e)};var i='javascript:(function(){document.open();document.domain="'+r.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return iP.setAttrib(t,"src",i),!0}return!1},aP=function(e){var t="number"==typeof e?e+"px":e;return t||""},sP=function(e,t,n,r){var i=Ai.fromTag("iframe");return Ji(i,r),Ji(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),no(i,{width:"100%",height:aP(n),display:"block"}),i},uP=function(e){var t,n,r;return r=Jh.getDocType(e)+"<html><head>",Jh.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=Jh.getBodyId(e),n=Jh.getBodyClass(e),Jh.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Jh.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},cP=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),r=sP(e.id,n,t.height,Jh.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var i=oP(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=uP(e),iP.add(t.iframeContainer,r),i},lP=function(e,t){var n=cP(e,t);t.editorContainer&&(iP.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=iP.isHidden(t.editorContainer)),e.getElement().style.display="none",iP.setAttrib(e.id,"aria-hidden","true"),n||rP.initContentBody(e)},fP={init:lP},dP=Ls.DOM,pP=function(e,t,n){var r=Zk.get(n),i=Zk.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=vr.trim(n),r&&-1===vr.inArray(t,n)){if(vr.each(Zk.dependencies(n),function(n){pP(e,t,n)}),e.plugins[n])return;try{var o=new r(e,i,e.$);e.plugins[n]=o,o.init&&(o.init(e,i),t.push(n))}catch(t){Jk.pluginInitError(e,n,t)}}},hP=function(e){return e.replace(/^\-/,"")},mP=function(e){var t=[];vr.each(e.settings.plugins.split(/[ ,]/),function(n){pP(e,t,hP(n))})},gP=function(e){var t,n=e.settings.theme;Ae(n)?(e.settings.theme=hP(n),t=Qk.get(n),e.theme=new t(e,Qk.urls[n]),e.theme.init&&e.theme.init(e,Qk.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},vP=function(e){var t,n,r,i,o,a=e.settings,s=e.getElement();return t=a.width||dP.getStyle(s,"width")||"100%",n=a.height||dP.getStyle(s,"height")||s.offsetHeight,r=a.min_height||100,i=/^[0-9\.]+(|px)$/i,i.test(""+t)&&(t=Math.max(parseInt(t,10),100)),i.test(""+n)&&(n=Math.max(parseInt(n,10),r)),o=e.theme.renderUI({targetNode:s,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<r&&(n=r),o.height=n,o},yP=function(e){var t,n=e.getElement();return t=e.settings.theme(e,n),t.editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t},bP=function(e){return{editorContainer:e,iframeContainer:e}},xP=function(e){var t=dP.create("div");return dP.insertAfter(t,e),bP(t)},wP=function(e){var t=e.getElement();return e.inline?bP(null):xP(t)},CP=function(e){var t=e.settings,n=e.getElement();return e.orgDisplay=n.style.display,Ae(t.theme)?vP(e):Me(t.theme)?yP(e):wP(e)},kP=function(e){var t,n=e.settings,r=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||dP.getAttrib(r,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),gP(e),mP(e),t=CP(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&vr.each(vr.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?rP.initContentBody(e):fP.init(e,t)},_P={init:kP},TP=Ls.DOM,EP=function(e){return"-"===e.charAt(0)},SP=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},NP=function(e,t,n,r){var i=t.settings,o=i.theme;if(Ae(o)){if(!EP(o)&&!Qk.urls.hasOwnProperty(o)){var a=i.theme_url;a?Qk.load(o,t.documentBaseURI.toAbsolute(a)):Qk.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){Qk.waitFor(o,r)})}else r()},DP=function(e,t){vr.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),vr.each(e.external_plugins,function(t,n){Zk.load(n,t),e.plugins+=" "+n}),vr.each(e.plugins.split(/[ ,]/),function(e){if((e=vr.trim(e))&&!Zk.urls[e])if(EP(e)){e=e.substr(1,e.length);var n=Zk.dependencies(e);vr.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=Zk.createUrl(n,e),Zk.load(e.resource,e)})}else Zk.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},RP=function(e,t){var n=Ws.ScriptLoader;NP(n,e,t,function(){SP(n,e),DP(e.settings,t),n.loadQueue(function(){e.removed||_P.init(e)},e,function(t){Jk.pluginLoadError(e,t[0]),e.removed||_P.init(e)})})},AP=function(e){var t=e.settings,n=e.id,i=function(){TP.unbind(r.window,"ready",i),e.render()};if(!zt.Event.domLoaded)return void TP.bind(r.window,"ready",i);if(e.getElement()&&Tt.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||TP.getParent(n,"form");o&&(e.formElement=o,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(TP.insertAfter(TP.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},TP.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=L(e),e.notificationManager=I(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=TP.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),RP(e,e.suffix)}},OP={render:AP},PP=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},BP={add:PP},IP=vr.each,MP=vr.trim,LP="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),FP={ftp:21,http:80,https:443,mailto:25},HP=function(e,t){var n,i,o=this;if(e=MP(e),t=o.settings=t||{},n=t.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);var a=0===e.indexOf("//");0!==e.indexOf("/")||a||(e=(n?n.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(i=t.base_uri?t.base_uri.path:new HP(r.document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+o.toAbsPath(i,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(i,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),IP(LP,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[t]=r}),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),a&&(o.protocol="")};HP.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new HP(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),i=e.getURI();return r===i||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===i?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new HP(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=FP[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;r<i;r++)if(r>=n.length||e[r]!==n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=e.length||e[r]!==n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!==o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,i,o=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),IP(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?o>0?o--:a.push(t[n]):o++);return n=e.length-o,i=n<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==i.indexOf("/")&&(i="/"+i),r&&i.lastIndexOf("/")!==i.length-1&&(i+=r),i},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},HP.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},HP.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var jP=function(e,t){var n=Jh.getForcedRootBlock(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},UP=function(e,t,n){var r;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=vr.trim(YT.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=$u.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=jP(e,e.serializer.serialize(n,t))}return"text"===t.format||Oa(Ai.fromDom(n))?t.content=r:t.content=vr.trim(r),t.no_events||e.fire("GetContent",t),t.content},WP=function(e,t){return void 0===t&&(t={}),Ne.from(e.getBody()).fold(ye("tree"===t.format?new zS("body",11):""),function(n){return UP(e,t,n)})},$P=function(e,t){t(e),e.firstChild&&$P(e.firstChild,t),e.next&&$P(e.next,t)},zP=function(e,t,n){var r={},i={},o=[];n.firstChild&&$P(n.firstChild,function(n){Ve(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Ve(t,function(e){"string"==typeof n.attr(e.name)&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);for(var a in i)i.hasOwnProperty(a)&&o.push(i[a]);return o},qP=function(e,t,n){var r=zP(e,t,n);Ve(r,function(e){Ve(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},VP=function(e){return e instanceof zS},YP=function(e){Tk.hasFocus(e)&&dd.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),r=Za.isTable(n)?dd.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())})},KP=function(e,t){e.dom.setHTML(e.getBody(),t),YP(e)},XP=function(e,t,n,r){var i,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),i=Jh.getForcedRootBlock(e),i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),KP(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=A({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Oa(Ai.fromDom(t))?n:vr.trim(n),KP(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},GP=function(e,t,n,r){qP(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var i=A({validate:e.validate},e.schema).serialize(n);return r.content=Oa(Ai.fromDom(t))?i:vr.trim(i),KP(e,r.content),r.no_events||e.fire("SetContent",r),n},JP=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=VP(t)?"":t,VP(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Ne.from(e.getBody()).fold(ye(t),function(r){return VP(t)?GP(e,r,t,n):XP(e,r,t,n)})},ZP=Ls.DOM,QP=function(e){ZP.setStyle(e.id,"display",e.orgDisplay)},eB=function(e){return Ne.from(e).each(function(e){return e.destroy()})},tB=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},nB=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),ZP.unbind(t,"submit reset",e.formEventDelegate))},rB=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&i&&ZP.remove(i.nextSibling),_C.fireRemove(e),e.editorManager.remove(e),!e.inline&&r&&QP(e),_C.fireDetach(e),ZP.remove(e.getContainer()),eB(t),eB(n),e.destroy()}},iB=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),eB(n),eB(r)),nB(e),tB(e),e.destroyed=!0}},oB=Ls.DOM,aB=vr.extend,sB=vr.each,uB=vr.resolve,cB=Tt.ie,lB=function(e,t,n){var r=this,i=r.documentBaseUrl=n.documentBaseURL,o=n.baseURI;t=tk(r,e,i,n.defaultSettings,t),r.settings=t,_.language=t.language||"en",_.languageLoad=t.language_load,_.baseURL=n.baseURL,r.id=e,r.setDirty(!1),r.plugins={},r.documentBaseURI=new HP(t.document_base_url,{base_uri:o}),r.baseURI=o,r.contentCSS=[],r.contentStyles=[],r.shortcuts=new P(r),r.loadedCSS={},r.editorCommands=new O(r),r.suffix=n.suffix,r.editorManager=n,r.inline=t.inline,r.buttons={},r.menuItems={},t.cache_suffix&&(Tt.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(Tt.overrideViewPort=!1),n.fire("SetupEditor",{editor:r}),r.execCallback("setup",r),r.$=Lr.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})};lB.prototype={render:function(){OP.render(this)},focus:function(e){Tk.focus(this,e)},hasFocus:function(){return Tk.hasFocus(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=this,o=i.settings[e];if(o)return i.callbackLookup&&(r=i.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=o.replace(/\.\w+$/,""),r=r?uB(r):0,o=uB(o),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[e]={func:o,scope:r}),o.apply(r||i,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&vr.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return ok(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return BP.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:g_.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(oB.show(e.getContainer()),oB.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(cB&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(oB.hide(e.getContainer()),oB.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();return n.removed?"":r?(e=e||{},e.load=!0,t=n.setContent(void 0!==r.value?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t):void 0},save:function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=i,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(!e.is_removing&&r.inline||(i.innerHTML=t),(n=oB.getParent(r.id,"form"))&&sB(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){return JP(this,e,t)},getContent:function(e){return WP(this,e)},insertContent:function(e,t){t&&(e=aB({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){NC(this,e)},getContainer:function(){var e=this;return e.container||(e.container=oB.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=oB.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,i=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),sB(i.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",o=i.getAttrib(e,"border"),void(o&&"0"!==o||!n.hasVisual?i.removeClass(e,t):i.addClass(e,t));case"A":return void(i.getAttrib(e,"href")||(o=i.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?i.addClass(e,t):i.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){rB(this)},destroy:function(e){iB(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},aB(lB.prototype,FC);var fB,dB,pB,hB=function(e){return-1!==e.className.toString().indexOf("mce-")},mB={isEditorUIElement:hB},gB=function(e){return"nodechange"===e.type&&e.selectionChange},vB=function(e,t){var n=function(){t.throttle()};Ls.DOM.bind(r.document,"mouseup",n),e.on("remove",function(){Ls.DOM.unbind(r.document,"mouseup",n)})},yB=function(e){e.on("focusout",function(){nC.store(e)})},bB=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},xB=function(e,t){Ti.detect().browser.isIE()?yB(e):bB(e,t),e.on("keyup nodechange",function(t){gB(t)||nC.store(e)})},wB=function(e){var t=eu(function(){nC.store(e)},0);e.inline&&vB(e,t),e.on("init",function(){xB(e,t)}),e.on("remove",function(){t.cancel()})},CB={register:wB},kB=Ls.DOM,_B=function(e){return mB.isEditorUIElement(e)},TB=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==kB.getParent(t,function(t){return _B(t)||!!n&&e.dom.is(t,n)})},EB=function(){try{return r.document.activeElement}catch(e){return r.document.body}},SB=function(e,t){var n=t.editor;CB.register(n),n.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),n.on("focusout",function(){var t=this;Pt.setEditorTimeout(t,function(){var n=e.focusedEditor;TB(t,EB())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),fB||(fB=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument===r.document&&(n===r.document.body||TB(i,n)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},kB.bind(r.document,"focusin",fB))},NB=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(kB.unbind(r.document,"focusin",fB),fB=null)},DB=function(e){e.on("AddEditor",i(SB,e)),e.on("RemoveEditor",i(NB,e))},RB={setup:DB,isEditorUIElement:_B,isUIElement:TB},AB=Ls.DOM,OB=vr.explode,PB=vr.each,BB=vr.extend,IB=0,MB=!1,LB=[],FB=[],HB=function(e){return"length"!==e},jB=function(e){var t=e.type;PB(pB.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},UB=function(e){e!==MB&&(e?Lr(window).on("resize scroll",jB):Lr(window).off("resize scroll",jB),MB=e)},WB=function(e){var t=FB;delete LB[e.id];for(var n=0;n<LB.length;n++)if(LB[n]===e){LB.splice(n,1);break}return FB=Xe(FB,function(t){return e!==t}),pB.activeEditor===e&&(pB.activeEditor=FB.length>0?FB[0]:null),pB.focusedEditor===e&&(pB.focusedEditor=null),t.length!==FB.length},$B=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(WB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};pB={defaultSettings:{},$:Lr,majorVersion:"4",minorVersion:"9.11",releaseDate:"2020-07-13",editors:LB,i18n:Uk,activeEditor:null,settings:{},setup:function(){var e,t,n=this,i="";t=HP.getDocumentBaseUrl(r.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,i=o.suffix;else{for(var a=r.document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=a[s].src||"";if(""!==u){var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(i=".min"),e=u.substring(0,u.lastIndexOf("/"));break}}}if(!e&&r.document.currentScript){var u=r.document.currentScript.src;-1!==u.indexOf(".min")&&(i=".min"),e=u.substring(0,u.lastIndexOf("/"))}}n.baseURL=new HP(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new HP(n.baseURL),n.suffix=i,RB.setup(n)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new HP(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new HP(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var i in r)_.PluginManager.urls[i]=r[i]},init:function(e){var t,n,i=this;n=vr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e,t){return e.inline&&t.tagName.toLowerCase()in n},a=function(e){var t=e.id;return t||(t=e.name,t=t&&!AB.get(t)?e.name:AB.uniqueId(),e.setAttribute("id",t)),t},s=function(t){var n=e[t];if(n)return n.apply(i,Array.prototype.slice.call(arguments,2))},u=function(e,t){return t.constructor===RegExp?t.test(e.className):AB.hasClass(e,t)},c=function(e){var t,n=[];if(Tt.ie&&Tt.ie<11)return Jk.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return PB(e.types,function(e){n=n.concat(AB.select(e.selector))}),n;if(e.selector)return AB.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&PB(OB(t),function(e){var t;(t=AB.get(e))?n.push(t):PB(r.document.forms,function(t){PB(t.elements,function(t){t.name===e&&(e="mce_editor_"+IB++,AB.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":PB(AB.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n},l=function(e){t=e},f=function(){var t,n=0,r=[],u=function(e,o,a){var s=new lB(e,o,i);r.push(s),s.on("init",function(){++n===t.length&&l(r)}),s.targetElm=s.targetElm||a,s.render()};if(AB.unbind(window,"ready",f),s("onpageload"),t=Lr.unique(c(e)),e.types)return void PB(e.types,function(n){vr.each(t,function(t){return!AB.is(t,n.selector)||(u(a(t),BB({},e,n),t),!1)})});vr.each(t,function(e){$B(i.get(e.id))}),t=vr.grep(t,function(e){return!i.get(e.id)}),0===t.length?l([]):PB(t,function(t){o(e,t)?Jk.initError("Could not initialize inline editor on invalid inline target element",t):u(a(t),e,t)})};return i.settings=e,AB.bind(window,"ready",f),new Et(function(e){t?e(t):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?FB.slice(0):Ae(e)?Ze(FB,function(t){return t.id===e}).getOr(null):Le(e)&&FB[e]?FB[e]:null},add:function(e){var t=this;return LB[e.id]===e?e:(null===t.get(e.id)&&(HB(e.id)&&(LB[e.id]=e),LB.push(e),FB.push(e)),UB(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),dB||(dB=function(){t.fire("BeforeUnload")},AB.bind(window,"beforeunload",dB)),e)},createEditor:function(e,t){return this.add(new lB(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Ae(e)?void PB(AB.select(e),function(e){(n=r.get(e.id))&&r.remove(n)}):(n=e,Be(r.get(n.id))?null:(WB(n)&&r.fire("RemoveEditor",{editor:n}),0===FB.length&&AB.unbind(window,"beforeunload",dB),n.remove(),UB(FB.length>0),n));for(t=FB.length-1;t>=0;t--)r.remove(FB[t])},execCommand:function(e,t,n){var r=this,i=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new lB(n,r.settings,r).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){PB(FB,function(e){e.save()})},addI18n:function(e,t){Uk.add(e,t)},translate:function(e){return Uk.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},BB(pB,gC),pB.setup();var zB=pB;!function(e){e.compareRanges=Xx.isEq,e.getCaretRangeFromPoint=bN.fromPoint,e.getSelectedNode=Oc,e.getNode=Pc}(ne||(ne={}));var qB,VB,YB=ne,KB=Math.min,XB=Math.max,GB=Math.round,JB=function(e,t,n){var r,i,o,a,s,u;return r=t.x,i=t.y,o=e.w,a=e.h,s=t.w,u=t.h,n=(n||"").split(""),"b"===n[0]&&(i+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(i+=GB(u/2)),"c"===n[1]&&(r+=GB(s/2)),"b"===n[3]&&(i-=a),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=GB(a/2)),"c"===n[4]&&(r-=GB(o/2)),nI(r,i,o,a)},ZB=function(e,t,n,r){var i,o;for(o=0;o<r.length;o++)if(i=JB(e,t,r[o]),i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},QB=function(e,t,n){return nI(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},eI=function(e,t){var n,r,i,o;return n=XB(e.x,t.x),r=XB(e.y,t.y),i=KB(e.x+e.w,t.x+t.w),o=KB(e.y+e.h,t.y+t.h),i-n<0||o-r<0?null:nI(n,r,i-n,o-r)},tI=function(e,t,n){var r,i,o,a,s,u,c,l,f,d;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=XB(0,t.x-s),i=XB(0,t.y-u),o=XB(0,c-f),a=XB(0,l-d),s+=r,u+=i,n&&(c+=r,l+=i,s-=o,u-=a),c-=o,l-=a,nI(s,u,c-s,l-u)},nI=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},rI=function(e){return nI(e.left,e.top,e.width,e.height)},iI={inflate:QB,relativePosition:JB,findBestRelativePosition:ZB,intersect:eI,clamp:tI,create:nI,fromClientRect:rI},oI={},aI={add:function(e,t){oI[e.toLowerCase()]=t},has:function(e){return!!oI[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=oI.hasOwnProperty(t)?oI[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{},t.type=e):(t=e,e=t.type),e=e.toLowerCase(),!(n=oI[e]))throw new Error("Could not find control by type: "+e);return n=new n(t),n.type=e,n}},sI=vr.each,uI=vr.extend,cI=function(){};cI.extend=qB=function(e){var t,n,r,i=this,o=i.prototype,a=function(){var e,t,n,r=this;if(!VB&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},s=function(){return this};VB=!0,t=new i,VB=!1,e.Mixins&&(sI(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&sI(e.Methods.split(","),function(t){e[t]=s}),e.Properties&&sI(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&sI(e.Statics,function(e,t){a[t]=e}),e.Defaults&&o.Defaults&&(e.Defaults=uI({},o.Defaults,e.Defaults));for(n in e)r=e[n],"function"==typeof r&&o[n]?t[n]=function(e,t){return function(){var n,r=this,i=r._super;return r._super=o[e],n=t.apply(r,arguments),r._super=i,n}}(n,r):t[n]=r;return a.prototype=t,a.constructor=a,a.extend=qB,a};var lI=Math.min,fI=Math.max,dI=Math.round,pI=function(e){var t={},n=0,r=0,i=0,o=function(e,t,n){var r,i,o,a,s,u;return r=0,i=0,o=0,e/=255,t/=255,n/=255,s=lI(e,lI(t,n)),u=fI(e,fI(t,n)),s===u?(o=s,{h:0,s:0,v:100*o}):(a=e===s?t-n:n===s?e-t:n-e,r=e===s?3:n===s?1:5,r=60*(r-a/(u-s)),i=(u-s)/u,o=u,{h:dI(r),s:dI(100*i),v:dI(100*o)})},a=function(e,t,o){var a,s,u,c;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=fI(0,lI(t,1)),o=fI(0,lI(o,1)),0===t)return void(n=r=i=dI(255*o));switch(a=e/60,s=o*t,u=s*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:n=s,r=u,i=0;break;case 1:n=u,r=s,i=0;break;case 2:n=0,r=s,i=u;break;case 3:n=0,r=u,i=s;break;case 4:n=u,r=0,i=s;break;case 5:n=s,r=0,i=u;break;default:n=r=i=0}n=dI(255*(n+c)),r=dI(255*(r+c)),i=dI(255*(i+c))},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(i)},u=function(){return{r:n,g:r,b:i}},c=function(){return o(n,r,i)},l=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,i=e.b):"v"in e&&a(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),r=parseInt(o[2],16),i=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),r=parseInt(o[2]+o[2],16),i=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,i=i<0?0:i>255?255:i,t};return e&&l(e),t.toRgb=u,t.toHsv=c,t.toHex=s,t.parse=l,t},hI=function(e,t){var n,r,i,o;if(t=t||'"',null===e)return"null";if("string"===(i=typeof e))return r="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,i){return'"'===t&&"'"===e?e:(n=r.indexOf(i))+1?"\\"+r.charAt(n+1):(e=i.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+t;if("object"===i){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(n>0?",":"")+hI(e[n],t);return r+"]"}r="{";for(o in e)e.hasOwnProperty(o)&&(r+="function"!=typeof e[o]?(r.length>1?","+t:t)+o+t+":"+hI(e[o],t):"");return r+"}"}return""+e},mI={serialize:hI,parse:function(e){try{return JSON.parse(e)}catch(e){}}},gI={callbacks:{},count:0,send:function(e){var t=this,n=Ls.DOM,r=void 0!==e.count?e.count:t.count,i="tinymce_jsonp_"+r;t.callbacks[r]=function(o){n.remove(i),delete t.callbacks[r],e.callback(o)},n.add(n.doc.body,"script",{id:i,src:e.url,type:"text/javascript"}),t.count++}},vI={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",vI.fire("beforeInitialize",{settings:e}),t=F()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&vr.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=vI.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();setTimeout(r,10)}}};vr.extend(vI,gC);var yI=vr.extend,bI=function(e){this.settings=yI({},e),this.count=0};bI.sendRPC=function(e){return(new bI).send(e)},bI.prototype={send:function(e){var t=e.error,n=e.success;e=yI(this.settings,e),e.success=function(r,i){r=mI.parse(r),void 0===r&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,i):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=mI.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",vI.send(e)}};var xI;try{xI=r.window.localStorage}catch(e){xI=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}()}var wI=xI,CI=zB,kI={geom:{Rect:iI},util:{Promise:Et,Delay:Pt,Tools:vr,VK:A_,URI:HP,Class:cI,EventDispatcher:pC,Observable:gC,I18n:Uk,XHR:vI,JSON:mI,JSONRequest:bI,JSONP:gI,LocalStorage:wI,Color:pI},dom:{EventUtils:zt,Sizzle:Yn,DomQuery:Lr,TreeWalker:x,DOMUtils:Ls,ScriptLoader:Ws,RangeUtils:YB,Serializer:Q,ControlSelection:pN,BookmarkManager:cN,Selection:vD,Event:zt.Event},html:{Styles:C,Entities:vs,Node:zS,Schema:w,SaxParser:$T,DomParser:J,Writer:R,Serializer:A},ui:{Factory:aI},Env:Tt,AddOnManager:_,Annotator:D,Formatter:G,UndoManager:K,EditorCommands:O,WindowManager:L,NotificationManager:I,EditorObservable:FC,Shortcuts:P,Editor:lB,FocusManager:mB,EditorManager:zB,DOM:Ls.DOM,ScriptLoader:Ws.ScriptLoader,PluginManager:_.PluginManager,ThemeManager:_.ThemeManager,trim:vr.trim,isArray:vr.isArray,is:vr.is,toArray:vr.toArray,makeMap:vr.makeMap,each:vr.each,map:vr.map,grep:vr.grep,inArray:vr.inArray,extend:vr.extend,create:vr.create,walk:vr.walk,createNS:vr.createNS,resolve:vr.resolve,explode:vr.explode,_addCacheSuffix:vr._addCacheSuffix,isOpera:Tt.opera,isWebKit:Tt.webkit,isIE:Tt.ie,isGecko:Tt.gecko,isMac:Tt.mac};CI=vr.extend(CI,kI);var _I=CI;!function(e){window.tinymce=e,window.tinyMCE=e}(_I),function(t){try{e.exports=t}catch(e){}}(_I)}(window)}()}).call(t,n("162o").setImmediate,n("DuR2"))},"7t+N":function(e,t,n){var r,i;/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(e,t,n){n=n||_e;var r,i,o=n.createElement("script");if(o.text=e,t)for(r in Te)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ge[ve.call(e)]||"object":typeof e}function u(e){var t=!!e&&"length"in e&&e.length,n=s(e);return!Ce(e)&&!ke(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function f(e,t,n){return Ce(t)?Se.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Se.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Se.grep(e,function(e){return me.call(t,e)>-1!==n}):Se.filter(t,e,n)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function p(e){var t={};return Se.each(e.match(ze)||[],function(e,n){t[n]=!0}),t}function h(e){return e}function m(e){throw e}function g(e,t,n,r){var i;try{e&&Ce(i=e.promise)?i.call(e).done(t).fail(n):e&&Ce(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function v(){_e.removeEventListener("DOMContentLoaded",v),n.removeEventListener("load",v),Se.ready()}function y(e,t){return t.toUpperCase()}function b(e){return e.replace(Ke,"ms-").replace(Xe,y)}function x(){this.expando=Se.expando+x.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Qe.test(e)?JSON.parse(e):e)}function C(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(et,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=w(n)}catch(e){}Ze.set(e,t,n)}else n=void 0;return n}function k(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Se.css(e,t,"")},u=s(),c=n&&n[3]||(Se.cssNumber[t]?"":"px"),l=e.nodeType&&(Se.cssNumber[t]||"px"!==c&&+u)&&nt.exec(Se.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)Se.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,Se.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function _(e){var t,n=e.ownerDocument,r=e.nodeName,i=ut[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Se.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ut[r]=i,i)}function T(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Je.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&st(r)&&(i[o]=_(r))):"none"!==n&&(i[o]="none",Je.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function E(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?Se.merge([e],n):n}function S(e,t){for(var n=0,r=e.length;n<r;n++)Je.set(e[n],"globalEval",!t||Je.get(t[n],"globalEval"))}function N(e,t,n,r,i){for(var o,a,u,c,l,f,d=t.createDocumentFragment(),p=[],h=0,m=e.length;h<m;h++)if((o=e[h])||0===o)if("object"===s(o))Se.merge(p,o.nodeType?[o]:o);else if(pt.test(o)){for(a=a||d.appendChild(t.createElement("div")),u=(lt.exec(o)||["",""])[1].toLowerCase(),c=dt[u]||dt._default,a.innerHTML=c[1]+Se.htmlPrefilter(o)+c[2],f=c[0];f--;)a=a.lastChild;Se.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(r&&Se.inArray(o,r)>-1)i&&i.push(o);else if(l=ot(o),a=E(d.appendChild(o),"script"),l&&S(a),n)for(f=0;o=a[f++];)ft.test(o.type||"")&&n.push(o);return d}function D(){return!0}function R(){return!1}function A(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)A(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=R;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Se().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Se.guid++)),e.each(function(){Se.event.add(this,t,i,r,n)})}function O(e,t,n){if(!n)return void(void 0===Je.get(e,t)&&Se.event.add(e,t,D));Je.set(e,t,!1),Se.event.add(e,t,{namespace:!1,handler:function(e){var n,r=Je.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(Se.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=de.call(arguments),Je.set(this,t,r),this[t](),n=Je.get(this,t),Je.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(Je.set(this,t,Se.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=D)}})}function P(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?Se(e).children("tbody")[0]||e:e}function B(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function M(e,t){var n,r,i,o,a,s,u;if(1===t.nodeType){if(Je.hasData(e)&&(o=Je.get(e),u=o.events)){Je.remove(t,"handle events");for(i in u)for(n=0,r=u[i].length;n<r;n++)Se.event.add(t,i,u[i][n])}Ze.hasData(e)&&(a=Ze.access(e),s=Se.extend({},a),Ze.set(t,s))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ct.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function F(e,t,n,r){t=pe(t);var i,o,s,u,c,l,f=0,d=e.length,p=d-1,h=t[0],m=Ce(h);if(m||d>1&&"string"==typeof h&&!we.checkClone&&gt.test(h))return e.each(function(i){var o=e.eq(i);m&&(t[0]=h.call(this,i,o.html())),F(o,t,n,r)});if(d&&(i=N(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=Se.map(E(i,"script"),B),u=s.length;f<d;f++)c=i,f!==p&&(c=Se.clone(c,!0,!0),u&&Se.merge(s,E(c,"script"))),n.call(e[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,Se.map(s,I),f=0;f<u;f++)c=s[f],ft.test(c.type||"")&&!Je.access(c,"globalEval")&&Se.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Se._evalUrl&&!c.noModule&&Se._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):a(c.textContent.replace(vt,""),c,l))}return e}function H(e,t,n){for(var r,i=t?Se.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Se.cleanData(E(r)),r.parentNode&&(n&&ot(r)&&S(E(r,"script")),r.parentNode.removeChild(r));return e}function j(e,t,n){var r,i,o,a,s=bt.test(t),u=e.style;return n=n||xt(e),n&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(Oe,"$1")||void 0),""!==a||ot(e)||(a=Se.style(e,t)),!we.pixelBoxStyles()&&yt.test(a)&&Ct.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function U(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),n=kt.length;n--;)if((e=kt[n]+t)in _t)return e}function $(e){var t=Se.cssProps[e]||Tt[e];return t||(e in _t?e:Tt[e]=W(e)||e)}function z(e,t,n){var r=nt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function q(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=Se.css(e,n+rt[a],!0,i)),r?("content"===n&&(u-=Se.css(e,"padding"+rt[a],!0,i)),"margin"!==n&&(u-=Se.css(e,"border"+rt[a]+"Width",!0,i))):(u+=Se.css(e,"padding"+rt[a],!0,i),"padding"!==n?u+=Se.css(e,"border"+rt[a]+"Width",!0,i):s+=Se.css(e,"border"+rt[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+c}function V(e,t,n){var r=xt(e),i=!we.boxSizingReliable()||n,o=i&&"border-box"===Se.css(e,"boxSizing",!1,r),a=o,s=j(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if(yt.test(s)){if(!n)return s;s="auto"}return(!we.boxSizingReliable()&&o||!we.reliableTrDimensions()&&c(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===Se.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===Se.css(e,"boxSizing",!1,r),(a=u in e)&&(s=e[u])),(s=parseFloat(s)||0)+q(e,t,n||(o?"border":"content"),a,r,s)+"px"}function Y(e,t,n,r,i){return new Y.prototype.init(e,t,n,r,i)}function K(){Rt&&(!1===_e.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(K):n.setTimeout(K,Se.fx.interval),Se.fx.tick())}function X(){return n.setTimeout(function(){Dt=void 0}),Dt=Date.now()}function G(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=rt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function J(e,t,n){for(var r,i=(ee.tweeners[t]||[]).concat(ee.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Z(e,t,n){var r,i,o,a,s,u,c,l,f="width"in t||"height"in t,d=this,p={},h=e.style,m=e.nodeType&&st(e),g=Je.get(e,"fxshow");n.queue||(a=Se._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Se.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],At.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||Se.style(e,r)}if((u=!Se.isEmptyObject(t))||!Se.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=g&&g.display,null==c&&(c=Je.get(e,"display")),l=Se.css(e,"display"),"none"===l&&(c?l=c:(T([e],!0),c=e.style.display||c,l=Se.css(e,"display"),T([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===Se.css(e,"float")&&(u||(d.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in p)u||(g?"hidden"in g&&(m=g.hidden):g=Je.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&T([e],!0),d.done(function(){m||T([e]),Je.remove(e,"fxshow");for(r in p)Se.style(e,r,p[r])})),u=J(m?g[r]:0,r,d),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}}function Q(e,t){var n,r,i,o,a;for(n in e)if(r=b(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=Se.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function ee(e,t,n){var r,i,o=0,a=ee.prefilters.length,s=Se.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Dt||X(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&u?n:(u||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Se.extend({},t),opts:Se.extend(!0,{specialEasing:{},easing:Se.easing._default},n),originalProperties:t,originalOptions:n,startTime:Dt||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Se.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(Q(l,c.opts.specialEasing);o<a;o++)if(r=ee.prefilters[o].call(c,e,l,c.opts))return Ce(r.stop)&&(Se._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return Se.map(l,J,c),Ce(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Se.fx.timer(Se.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}function te(e){return(e.match(ze)||[]).join(" ")}function ne(e){return e.getAttribute&&e.getAttribute("class")||""}function re(e){return Array.isArray(e)?e:"string"==typeof e?e.match(ze)||[]:[]}function ie(e,t,n,r){var i;if(Array.isArray(t))Se.each(t,function(t,i){n||$t.test(e)?r(e,i):ie(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==s(t))r(e,t);else for(i in t)ie(e+"["+i+"]",t[i],n,r)}function oe(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ze)||[];if(Ce(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ae(e,t,n,r){function i(s){var u;return o[s]=!0,Se.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===tn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function se(e,t){var n,r,i=Se.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Se.extend(!0,e,r),e}function ue(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ce(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var le=[],fe=Object.getPrototypeOf,de=le.slice,pe=le.flat?function(e){return le.flat.call(e)}:function(e){return le.concat.apply([],e)},he=le.push,me=le.indexOf,ge={},ve=ge.toString,ye=ge.hasOwnProperty,be=ye.toString,xe=be.call(Object),we={},Ce=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},ke=function(e){return null!=e&&e===e.window},_e=n.document,Te={type:!0,src:!0,nonce:!0,noModule:!0},Ee=/HTML$/i,Se=function(e,t){return new Se.fn.init(e,t)};Se.fn=Se.prototype={jquery:"3.7.1",constructor:Se,length:0,toArray:function(){return de.call(this)},get:function(e){return null==e?de.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Se.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Se.each(this,e)},map:function(e){return this.pushStack(Se.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(de.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Se.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Se.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:he,sort:le.sort,splice:le.splice},Se.extend=Se.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Ce(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(Se.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||Se.isPlainObject(n)?n:{},i=!1,a[t]=Se.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},Se.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ve.call(e))&&(!(t=fe(e))||"function"==typeof(n=ye.call(t,"constructor")&&t.constructor)&&be.call(n)===xe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){a(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(u(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=Se.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(u(Object(e))?Se.merge(n,"string"==typeof e?[e]:e):he.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:me.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Ee.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(u(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return pe(a)},guid:1,support:we}),"function"==typeof Symbol&&(Se.fn[Symbol.iterator]=le[Symbol.iterator]),Se.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ge["[object "+t+"]"]=t.toLowerCase()});var Ne=le.pop,De=le.sort,Re=le.splice,Ae="[\\x20\\t\\r\\n\\f]",Oe=new RegExp("^"+Ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ae+"+$","g");Se.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var Pe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;Se.escapeSelector=function(e){return(e+"").replace(Pe,l)};var Be=_e,Ie=he;!function(){function e(){try{return N.activeElement}catch(e){}}function t(e,n,r,i){var o,a,s,c,f,h,m,g=n&&n.ownerDocument,v=n?n.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return r;if(!i&&(l(n),n=n||N,R)){if(11!==v&&(f=te.exec(e)))if(o=f[1]){if(9===v){if(!(s=n.getElementById(o)))return r;if(s.id===o)return P.call(r,s),r}else if(g&&(s=g.getElementById(o))&&t.contains(n,s)&&s.id===o)return P.call(r,s),r}else{if(f[2])return P.apply(r,n.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName)return P.apply(r,n.getElementsByClassName(o)),r}if(!(j[e+" "]||A&&A.test(e))){if(m=e,g=n,1===v&&(X.test(e)||K.test(e))){for(g=ne.test(e)&&u(n.parentNode)||n,g==n&&we.scope||((c=n.getAttribute("id"))?c=Se.escapeSelector(c):n.setAttribute("id",c=B)),h=d(e),a=h.length;a--;)h[a]=(c?"#"+c:":scope")+" "+p(h[a]);m=h.join(",")}try{return P.apply(r,g.querySelectorAll(m)),r}catch(t){j(e,!0)}finally{c===B&&n.removeAttribute("id")}}}return C(e.replace(Oe,"$1"),n,r,i)}function r(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(e){var n,r=e?e.ownerDocument||e:Be;return r!=N&&9===r.nodeType&&r.documentElement?(N=r,D=N.documentElement,R=!Se.isXMLDoc(N),O=D.matches||D.webkitMatchesSelector||D.msMatchesSelector,D.msMatchesSelector&&Be!=N&&(n=N.defaultView)&&n.top!==n&&n.addEventListener("unload",oe),we.getById=o(function(e){return D.appendChild(e).id=Se.expando,!N.getElementsByName||!N.getElementsByName(Se.expando).length}),we.disconnectedMatch=o(function(e){return O.call(e,"*")}),we.scope=o(function(){return N.querySelectorAll(":scope")}),we.cssHas=o(function(){try{return N.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),we.getById?(_.filter.ID=function(e){var t=e.replace(re,ie);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n=t.getElementById(e);return n?[n]:[]}}):(_.filter.ID=function(e){var t=e.replace(re,ie);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),_.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},_.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},A=[],o(function(e){var t;D.appendChild(e).innerHTML="<a id='"+B+"' href='' disabled='disabled'></a><select id='"+B+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||A.push("\\["+Ae+"*(?:value|"+W+")"),e.querySelectorAll("[id~="+B+"-]").length||A.push("~="),e.querySelectorAll("a#"+B+"+*").length||A.push(".#.+[+~]"),e.querySelectorAll(":checked").length||A.push(":checked"),t=N.createElement("input"),t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),D.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&A.push(":enabled",":disabled"),t=N.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||A.push("\\["+Ae+"*name"+Ae+"*="+Ae+"*(?:''|\"\")")}),we.cssHas||A.push(":has"),A=A.length&&new RegExp(A.join("|")),U=function(e,n){if(e===n)return S=!0,0;var r=!e.compareDocumentPosition-!n.compareDocumentPosition;return r||(r=(e.ownerDocument||e)==(n.ownerDocument||n)?e.compareDocumentPosition(n):1,1&r||!we.sortDetached&&n.compareDocumentPosition(e)===r?e===N||e.ownerDocument==Be&&t.contains(Be,e)?-1:n===N||n.ownerDocument==Be&&t.contains(Be,n)?1:E?me.call(E,e)-me.call(E,n):0:4&r?-1:1)},N):N}function f(){}function d(e,n){var r,i,o,a,s,u,c,l=F[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=_.preFilter;s;){r&&!(i=Y.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=K.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(Oe," ")}),s=s.slice(r.length));for(a in _.filter)!(i=Z[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):F(e,u).slice(0)}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=M++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,f,d=[I,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[B]||(t[B]={}),i&&c(t,i))t=t[r]||t;else{if((l=f[o])&&l[0]===I&&l[1]===s)return d[2]=l[2];if(f[o]=d,d[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function y(e,t,n,r,o,a){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,a)),i(function(i,a,s,u){var c,l,f,d,p=[],h=[],m=a.length,y=i||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?y:v(y,p,e,s,u);if(n?(d=o||(i?e:m||r)?[]:a,n(b,d,s,u)):d=b,r)for(c=v(d,h),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(d[h[l]]=!(b[h[l]]=f));if(i){if(o||e){if(o){for(c=[],l=d.length;l--;)(f=d[l])&&c.push(b[l]=f);o(null,d=[],c,u)}for(l=d.length;l--;)(f=d[l])&&(c=o?me.call(i,f):p[l])>-1&&(i[c]=!(a[c]=f))}}else d=v(d===a?d.splice(m,d.length):d),o?o(null,a,d,u):P.apply(a,d)})}function b(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),c=h(function(e){return me.call(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!=T)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=_.relative[e[s].type])l=[h(m(l),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<i&&!_.relative[e[r].type];r++);return y(s>1&&m(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Oe,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&p(e))}l.push(n)}return m(l)}function x(e,t){var n=t.length>0,r=e.length>0,o=function(i,o,a,s,u){var c,f,d,p=0,h="0",m=i&&[],g=[],y=T,b=i||r&&_.find.TAG("*",u),x=I+=null==y?1:Math.random()||.1,w=b.length;for(u&&(T=o==N||o||u);h!==w&&null!=(c=b[h]);h++){if(r&&c){for(f=0,o||c.ownerDocument==N||(l(c),a=!R);d=e[f++];)if(d(c,o||N,a)){P.call(s,c);break}u&&(I=x)}n&&((c=!d&&c)&&p--,i&&m.push(c))}if(p+=h,n&&h!==p){for(f=0;d=t[f++];)d(m,g,o,a);if(i){if(p>0)for(;h--;)m[h]||g[h]||(g[h]=Ne.call(s));g=v(g)}P.apply(s,g),u&&!i&&g.length>0&&p+t.length>1&&Se.uniqueSort(s)}return u&&(I=x,T=y),m};return n?i(o):o}function w(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=b(t[n]),o[B]?r.push(o):i.push(o);o=H(e,x(i,r)),o.selector=e}return o}function C(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,f=!r&&d(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&R&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(re,ie),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Z.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((c=_.find[s])&&(r=c(a.matches[0].replace(re,ie),ne.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&p(o)))return P.apply(n,r),n;break}}return(l||w(e,f))(r,t,!R,n,!t||ne.test(e)&&u(t.parentNode)||t),n}var k,_,T,E,S,N,D,R,A,O,P=Ie,B=Se.expando,I=0,M=0,L=r(),F=r(),H=r(),j=r(),U=function(e,t){return e===t&&(S=!0),0},W="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="(?:\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+Ae+"*("+$+")(?:"+Ae+"*([*^$|!~]?=)"+Ae+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+Ae+"*\\]",q=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",V=new RegExp(Ae+"+","g"),Y=new RegExp("^"+Ae+"*,"+Ae+"*"),K=new RegExp("^"+Ae+"*([>+~]|"+Ae+")"+Ae+"*"),X=new RegExp(Ae+"|>"),G=new RegExp(q),J=new RegExp("^"+$+"$"),Z={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ae+"*(even|odd|(([+-]|)(\\d*)n|)"+Ae+"*(?:([+-]|)"+Ae+"*(\\d+)|))"+Ae+"*\\)|)","i"),bool:new RegExp("^(?:"+W+")$","i"),needsContext:new RegExp("^"+Ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ae+"*((?:-\\d)?\\d*)"+Ae+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=function(){l()},ae=h(function(e){return!0===e.disabled&&c(e,"fieldset")},{dir:"parentNode",next:"legend"});try{P.apply(le=de.call(Be.childNodes),Be.childNodes),le[Be.childNodes.length].nodeType}catch(e){P={apply:function(e,t){Ie.apply(e,de.call(t))},call:function(e){Ie.apply(e,de.call(arguments,1))}}}t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(l(e),R&&!j[n+" "]&&(!A||!A.test(n)))try{var r=O.call(e,n);if(r||we.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){j(n,!0)}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=N&&l(e),Se.contains(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=N&&l(e);var n=_.attrHandle[t.toLowerCase()],r=n&&ye.call(_.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==r?r:e.getAttribute(t)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(S=!we.sortStable,E=!we.sortStable&&de.call(e,0),De.call(e,U),S){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)Re.call(e,n[r],1)}return E=null,e},Se.fn.uniqueSort=function(){return this.pushStack(Se.uniqueSort(de.apply(this)))},_=Se.expr={cacheLength:50,createPseudo:i,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(re,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return c(e,t)}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+Ae+")"+e+"("+Ae+"|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(V," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?c(d,v):1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(f=g[B]||(g[B]={}),l=f[e]||[],p=l[0]===I&&l[1],b=p&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||h.pop();)if(1===d.nodeType&&++b&&d===t){f[e]=[I,p,b];break}}else if(y&&(f=t[B]||(t[B]={}),l=f[e]||[],p=l[0]===I&&l[1],b=p),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||h.pop())&&((s?!c(d,v):1!==d.nodeType)||!++b||(y&&(f=d[B]||(d[B]={}),f[e]=[I,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var r,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(r=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=me.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=w(e.replace(Oe,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(re,ie),function(t){return(t.textContent||Se.text(t)).indexOf(e)>-1}}),lang:i(function(e){return J.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(re,ie).toLowerCase(),function(t){var n;do{if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(t){return t===e()&&N.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){return c(e,"input")&&!!e.checked||c(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){return c(e,"input")&&"button"===e.type||c(e,"button")},text:function(e){var t;return c(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[k]=function(e){return function(t){return c(t,"input")&&t.type===e}}(k);for(k in{submit:!0,reset:!0})_.pseudos[k]=function(e){return function(t){return(c(t,"input")||c(t,"button"))&&t.type===e}}(k);f.prototype=_.filters=_.pseudos,_.setFilters=new f,we.sortStable=B.split("").sort(U).join("")===B,l(),we.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),Se.find=t,Se.expr[":"]=Se.expr.pseudos,Se.unique=Se.uniqueSort,t.compile=w,t.select=C,t.setDocument=l,t.tokenize=d,t.escape=Se.escapeSelector,t.getText=Se.text,t.isXML=Se.isXMLDoc,t.selectors=Se.expr,t.support=Se.support,t.uniqueSort=Se.uniqueSort}();var Me=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Se(e).is(n))break;r.push(e)}return r},Le=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Fe=Se.expr.match.needsContext,He=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Se.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Se.find.matchesSelector(r,e)?[r]:[]:Se.find.matches(e,Se.grep(t,function(e){return 1===e.nodeType}))},Se.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Se(e).filter(function(){for(t=0;t<r;t++)if(Se.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Se.find(e,i[t],n);return r>1?Se.uniqueSort(n):n},filter:function(e){return this.pushStack(f(this,e||[],!1))},not:function(e){return this.pushStack(f(this,e||[],!0))},is:function(e){return!!f(this,"string"==typeof e&&Fe.test(e)?Se(e):e||[],!1).length}});var je,Ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Se.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||je,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ue.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Se?t[0]:t,Se.merge(this,Se.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:_e,!0)),He.test(r[1])&&Se.isPlainObject(t))for(r in t)Ce(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=_e.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ce(e)?void 0!==n.ready?n.ready(e):e(Se):Se.makeArray(e,this)}).prototype=Se.fn,je=Se(_e);var We=/^(?:parents|prev(?:Until|All))/,$e={children:!0,contents:!0,next:!0,prev:!0};Se.fn.extend({has:function(e){var t=Se(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Se.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Se(e);if(!Fe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Se.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Se.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?me.call(Se(e),this[0]):me.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Se.uniqueSort(Se.merge(this.get(),Se(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Me(e,"parentNode")},parentsUntil:function(e,t,n){return Me(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Me(e,"nextSibling")},prevAll:function(e){return Me(e,"previousSibling")},nextUntil:function(e,t,n){return Me(e,"nextSibling",n)},prevUntil:function(e,t,n){return Me(e,"previousSibling",n)},siblings:function(e){return Le((e.parentNode||{}).firstChild,e)},children:function(e){return Le(e.firstChild)},contents:function(e){return null!=e.contentDocument&&fe(e.contentDocument)?e.contentDocument:(c(e,"template")&&(e=e.content||e),Se.merge([],e.childNodes))}},function(e,t){Se.fn[e]=function(n,r){var i=Se.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Se.filter(r,i)),this.length>1&&($e[e]||Se.uniqueSort(i),We.test(e)&&i.reverse()),this.pushStack(i)}});var ze=/[^\x20\t\r\n\f]+/g;Se.Callbacks=function(e){e="string"==typeof e?p(e):Se.extend({},e);var t,n,r,i,o=[],a=[],u=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){Se.each(n,function(n,r){Ce(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==s(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Se.each(arguments,function(e,t){for(var n;(n=Se.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?Se.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Se.extend({Deferred:function(e){var t=[["notify","progress",Se.Callbacks("memory"),Se.Callbacks("memory"),2],["resolve","done",Se.Callbacks("once memory"),Se.Callbacks("once memory"),0,"resolved"],["reject","fail",Se.Callbacks("once memory"),Se.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Se.Deferred(function(n){Se.each(t,function(t,r){var i=Ce(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&Ce(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){function o(e,t,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<a)){if((n=r.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,Ce(c)?i?c.call(n,o(a,t,h,i),o(a,t,m,i)):(a++,c.call(n,o(a,t,h,i),o(a,t,m,i),o(a,t,h,t.notifyWith))):(r!==h&&(s=void 0,u=[n]),(i||t.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){Se.Deferred.exceptionHook&&Se.Deferred.exceptionHook(n,l.error),e+1>=a&&(r!==m&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(Se.Deferred.getErrorHook?l.error=Se.Deferred.getErrorHook():Se.Deferred.getStackHook&&(l.error=Se.Deferred.getStackHook()),n.setTimeout(l))}}var a=0;return Se.Deferred(function(n){t[0][3].add(o(0,n,Ce(i)?i:h,n.notifyWith)),t[1][3].add(o(0,n,Ce(e)?e:h)),t[2][3].add(o(0,n,Ce(r)?r:m))}).promise()},promise:function(e){return null!=e?Se.extend(e,i):i}},o={};return Se.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=de.call(arguments),o=Se.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?de.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(g(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||Ce(i[n]&&i[n].then)))return o.then();for(;n--;)g(i[n],a(n),o.reject);return o.promise()}});var qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Se.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&qe.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Se.readyException=function(e){n.setTimeout(function(){throw e})};var Ve=Se.Deferred();Se.fn.ready=function(e){return Ve.then(e).catch(function(e){Se.readyException(e)}),this},Se.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Se.readyWait:Se.isReady)||(Se.isReady=!0,!0!==e&&--Se.readyWait>0||Ve.resolveWith(_e,[Se]))}}),Se.ready.then=Ve.then,"complete"===_e.readyState||"loading"!==_e.readyState&&!_e.documentElement.doScroll?n.setTimeout(Se.ready):(_e.addEventListener("DOMContentLoaded",v),n.addEventListener("load",v));var Ye=function(e,t,n,r,i,o,a){var u=0,c=e.length,l=null==n;if("object"===s(n)){i=!0;for(u in n)Ye(e,t,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,Ce(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Se(e),n)})),t))for(;u<c;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:l?t.call(e):c?t(e[0],n):o},Ke=/^-ms-/,Xe=/-([a-z])/g,Ge=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};x.uid=1,x.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ge(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[b(t)]=n;else for(r in t)i[b(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(b):(t=b(t),t=t in r?[t]:t.match(ze)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Se.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Se.isEmptyObject(t)}};var Je=new x,Ze=new x,Qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;Se.extend({hasData:function(e){return Ze.hasData(e)||Je.hasData(e)},data:function(e,t,n){return Ze.access(e,t,n)},removeData:function(e,t){Ze.remove(e,t)},_data:function(e,t,n){return Je.access(e,t,n)},_removeData:function(e,t){Je.remove(e,t)}}),Se.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ze.get(o),1===o.nodeType&&!Je.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=b(r.slice(5)),C(o,r,i[r])));Je.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ze.set(this,e)}):Ye(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Ze.get(o,e)))return n;if(void 0!==(n=C(o,e)))return n}else this.each(function(){Ze.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ze.remove(this,e)})}}),Se.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Je.get(e,t),n&&(!r||Array.isArray(n)?r=Je.access(e,t,Se.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Se.queue(e,t),r=n.length,i=n.shift(),o=Se._queueHooks(e,t),a=function(){Se.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Je.get(e,n)||Je.access(e,n,{empty:Se.Callbacks("once memory").add(function(){Je.remove(e,[t+"queue",n])})})}}),Se.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Se.queue(this[0],e):void 0===t?this:this.each(function(){var n=Se.queue(this,e,t);Se._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Se.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Se.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Je.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],it=_e.documentElement,ot=function(e){return Se.contains(e.ownerDocument,e)},at={composed:!0};it.getRootNode&&(ot=function(e){return Se.contains(e.ownerDocument,e)||e.getRootNode(at)===e.ownerDocument});var st=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ot(e)&&"none"===Se.css(e,"display")},ut={};Se.fn.extend({show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){st(this)?Se(this).show():Se(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=_e.createDocumentFragment(),t=e.appendChild(_e.createElement("div")),n=_e.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),we.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",we.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",we.option=!!t.lastChild}();var dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,we.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);var pt=/<|&#?\w+;/,ht=/^([^.]*)(?:\.(.+)|)/;Se.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,d,p,h,m,g=Je.get(e);if(Ge(e))for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Se.find.matchesSelector(it,i),n.guid||(n.guid=Se.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==Se&&Se.event.triggered!==t.type?Se.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ze)||[""],c=t.length;c--;)s=ht.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p&&(f=Se.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Se.event.special[p]||{},l=Se.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Se.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=u[p])||(d=u[p]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),Se.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,d,p,h,m,g=Je.hasData(e)&&Je.get(e);if(g&&(u=g.events)){for(t=(t||"").match(ze)||[""],c=t.length;c--;)if(s=ht.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=Se.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||Se.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)Se.event.remove(e,p+t[c],n,r,!0);Se.isEmptyObject(u)&&Je.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=Se.event.fix(e),c=(Je.get(this,"events")||Object.create(null))[u.type]||[],l=Se.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=Se.event.handlers.call(this,u,c),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((Se.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Se(i,this).index(c)>-1:Se.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Se.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ce(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Se.expando]?e:new Se.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ct.test(t.type)&&t.click&&c(t,"input")&&O(t,"click",!0),!1},trigger:function(e){var t=this||e;return ct.test(t.type)&&t.click&&c(t,"input")&&O(t,"click"),!0},_default:function(e){var t=e.target;return ct.test(t.type)&&t.click&&c(t,"input")&&Je.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Se.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Se.Event=function(e,t){if(!(this instanceof Se.Event))return new Se.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?D:R,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Se.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Se.expando]=!0},Se.Event.prototype={constructor:Se.Event,isDefaultPrevented:R,isPropagationStopped:R,isImmediatePropagationStopped:R,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=D,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=D,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=D,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Se.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Se.event.addProp),Se.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(_e.documentMode){var n=Je.get(this,"handle"),r=Se.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else Se.event.simulate(t,e.target,Se.event.fix(e))}Se.event.special[e]={setup:function(){var r;if(O(this,e,!0),!_e.documentMode)return!1;r=Je.get(this,t),r||this.addEventListener(t,n),Je.set(this,t,(r||0)+1)},trigger:function(){return O(this,e),!0},teardown:function(){var e;if(!_e.documentMode)return!1;e=Je.get(this,t)-1,e?Je.set(this,t,e):(this.removeEventListener(t,n),Je.remove(this,t))},_default:function(t){return Je.get(t.target,e)},delegateType:t},Se.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=_e.documentMode?this:r,o=Je.get(i,t);o||(_e.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),Je.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=_e.documentMode?this:r,o=Je.get(i,t)-1;o?Je.set(i,t,o):(_e.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),Je.remove(i,t))}}}),Se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Se.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Se.fn.extend({on:function(e,t,n,r){return A(this,e,t,n,r)},one:function(e,t,n,r){return A(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Se(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=R),this.each(function(){Se.event.remove(this,e,n,t)})}});var mt=/<script|<style|<link/i,gt=/checked\s*(?:[^=]|=\s*.checked.)/i,vt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;Se.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ot(e);if(!(we.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Se.isXMLDoc(e)))for(a=E(s),o=E(e),r=0,i=o.length;r<i;r++)L(o[r],a[r]);if(t)if(n)for(o=o||E(e),a=a||E(s),r=0,i=o.length;r<i;r++)M(o[r],a[r]);else M(e,s);return a=E(s,"script"),a.length>0&&S(a,!u&&E(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Se.event.special,o=0;void 0!==(n=e[o]);o++)if(Ge(n)){if(t=n[Je.expando]){if(t.events)for(r in t.events)i[r]?Se.event.remove(n,r):Se.removeEvent(n,r,t.handle);n[Je.expando]=void 0}n[Ze.expando]&&(n[Ze.expando]=void 0)}}}),Se.fn.extend({detach:function(e){return H(this,e,!0)},remove:function(e){return H(this,e)},text:function(e){return Ye(this,function(e){return void 0===e?Se.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,e).appendChild(e)}})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Se.cleanData(E(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Se.clone(this,e,t)})},html:function(e){return Ye(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!mt.test(e)&&!dt[(lt.exec(e)||["",""])[1].toLowerCase()]){e=Se.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Se.cleanData(E(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return F(this,arguments,function(t){var n=this.parentNode;Se.inArray(this,e)<0&&(Se.cleanData(E(this)),n&&n.replaceChild(t,this))},e)}}),Se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Se.fn[e]=function(e){for(var n,r=[],i=Se(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Se(i[a])[t](n),he.apply(r,n.get());return this.pushStack(r)}});var yt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),bt=/^--/,xt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},wt=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r},Ct=new RegExp(rt.join("|"),"i");!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),i=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),it.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,c=_e.createElement("div"),l=_e.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",we.clearCloneStyle="content-box"===l.style.backgroundClip,Se.extend(we,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,r,i;return null==s&&(e=_e.createElement("table"),t=_e.createElement("tr"),r=_e.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",it.appendChild(e).appendChild(t).appendChild(r),i=n.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,it.removeChild(e)),s}}))}();var kt=["Webkit","Moz","ms"],_t=_e.createElement("div").style,Tt={},Et=/^(none|table(?!-c[ea]).+)/,St={position:"absolute",visibility:"hidden",display:"block"},Nt={letterSpacing:"0",fontWeight:"400"};Se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=b(t),u=bt.test(t),c=e.style;if(u||(t=$(s)),a=Se.cssHooks[t]||Se.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];o=typeof n,"string"===o&&(i=nt.exec(n))&&i[1]&&(n=k(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(Se.cssNumber[s]?"":"px")),we.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=b(t);return bt.test(t)||(t=$(s)),a=Se.cssHooks[t]||Se.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=j(e,t,r)),"normal"===i&&t in Nt&&(i=Nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),Se.each(["height","width"],function(e,t){Se.cssHooks[t]={get:function(e,n,r){if(n)return!Et.test(Se.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?V(e,t,r):wt(e,St,function(){return V(e,t,r)})},set:function(e,n,r){var i,o=xt(e),a=!we.scrollboxSize()&&"absolute"===o.position,s=a||r,u=s&&"border-box"===Se.css(e,"boxSizing",!1,o),c=r?q(e,t,r,u,o):0;return u&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-q(e,t,"border",!1,o)-.5)),c&&(i=nt.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Se.css(e,t)),z(e,n,c)}}}),Se.cssHooks.marginLeft=U(we.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-wt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Se.each({margin:"",padding:"",border:"Width"},function(e,t){Se.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+rt[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Se.cssHooks[e+t].set=z)}),Se.fn.extend({css:function(e,t){return Ye(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=xt(e),i=t.length;a<i;a++)o[t[a]]=Se.css(e,t[a],!1,r);return o}return void 0!==n?Se.style(e,t,n):Se.css(e,t)},e,t,arguments.length>1)}}),Se.Tween=Y,Y.prototype={constructor:Y,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Se.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Se.cssNumber[n]?"":"px")},cur:function(){var e=Y.propHooks[this.prop];return e&&e.get?e.get(this):Y.propHooks._default.get(this)},run:function(e){var t,n=Y.propHooks[this.prop];return this.options.duration?this.pos=t=Se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Y.propHooks._default.set(this),this}},Y.prototype.init.prototype=Y.prototype,Y.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Se.fx.step[e.prop]?Se.fx.step[e.prop](e):1!==e.elem.nodeType||!Se.cssHooks[e.prop]&&null==e.elem.style[$(e.prop)]?e.elem[e.prop]=e.now:Se.style(e.elem,e.prop,e.now+e.unit)}}},Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Se.fx=Y.prototype.init,Se.fx.step={};var Dt,Rt,At=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;Se.Animation=Se.extend(ee,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return k(n.elem,e,nt.exec(t),n),n}]},tweener:function(e,t){Ce(e)?(t=e,e=["*"]):e=e.match(ze);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ee.tweeners[n]=ee.tweeners[n]||[],ee.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?ee.prefilters.unshift(e):ee.prefilters.push(e)}}),Se.speed=function(e,t,n){var r=e&&"object"==typeof e?Se.extend({},e):{complete:n||!n&&t||Ce(e)&&e,duration:e,easing:n&&t||t&&!Ce(t)&&t};return Se.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Se.fx.speeds?r.duration=Se.fx.speeds[r.duration]:r.duration=Se.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){Ce(r.old)&&r.old.call(this),r.queue&&Se.dequeue(this,r.queue)},r},Se.fn.extend({fadeTo:function(e,t,n,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Se.isEmptyObject(e),o=Se.speed(t,n,r),a=function(){var t=ee(this,Se.extend({},e),o);(i||Je.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Se.timers,a=Je.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Se.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Je.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Se.timers,a=r?r.length:0;for(n.finish=!0,Se.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Se.each(["toggle","show","hide"],function(e,t){var n=Se.fn[t];Se.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(G(t,!0),e,r,i)}}),Se.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Se.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Se.timers=[],Se.fx.tick=function(){var e,t=0,n=Se.timers;for(Dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Se.fx.stop(),Dt=void 0},Se.fx.timer=function(e){Se.timers.push(e),Se.fx.start()},Se.fx.interval=13,Se.fx.start=function(){Rt||(Rt=!0,K())},Se.fx.stop=function(){Rt=null},Se.fx.speeds={slow:600,fast:200,_default:400},Se.fn.delay=function(e,t){return e=Se.fx?Se.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=_e.createElement("input"),t=_e.createElement("select"),n=t.appendChild(_e.createElement("option"));e.type="checkbox",we.checkOn=""!==e.value,we.optSelected=n.selected,e=_e.createElement("input"),e.value="t",e.type="radio",we.radioValue="t"===e.value}();var Pt,Bt=Se.expr.attrHandle;Se.fn.extend({attr:function(e,t){return Ye(this,Se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Se.removeAttr(this,e)})}}),Se.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?Se.prop(e,t,n):(1===o&&Se.isXMLDoc(e)||(i=Se.attrHooks[t.toLowerCase()]||(Se.expr.match.bool.test(t)?Pt:void 0)),void 0!==n?null===n?void Se.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Se.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!we.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(ze);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Pt={set:function(e,t,n){return!1===t?Se.removeAttr(e,n):e.setAttribute(n,n),n}},Se.each(Se.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Bt[t]||Se.find.attr;Bt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Bt[a],Bt[a]=i,i=null!=n(e,t,r)?a:null,Bt[a]=o),i}});var It=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;Se.fn.extend({prop:function(e,t){return Ye(this,Se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Se.propFix[e]||e]})}}),Se.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Se.isXMLDoc(e)||(t=Se.propFix[t]||t,i=Se.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Se.find.attr(e,"tabindex");return t?parseInt(t,10):It.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),we.optSelected||(Se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Se.propFix[this.toLowerCase()]=this}),Se.fn.extend({addClass:function(e){var t,n,r,i,o,a;return Ce(e)?this.each(function(t){Se(this).addClass(e.call(this,t,ne(this)))}):(t=re(e),t.length?this.each(function(){if(r=ne(this),n=1===this.nodeType&&" "+te(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=te(n),r!==a&&this.setAttribute("class",a)}}):this)},removeClass:function(e){var t,n,r,i,o,a;return Ce(e)?this.each(function(t){Se(this).removeClass(e.call(this,t,ne(this)))}):arguments.length?(t=re(e),t.length?this.each(function(){if(r=ne(this),n=1===this.nodeType&&" "+te(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=te(n),r!==a&&this.setAttribute("class",a)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,a=typeof e,s="string"===a||Array.isArray(e);return Ce(e)?this.each(function(n){Se(this).toggleClass(e.call(this,n,ne(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=re(e),this.each(function(){if(s)for(o=Se(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==a||(r=ne(this),r&&Je.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":Je.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+te(ne(n))+" ").indexOf(t)>-1)return!0;return!1}});var Lt=/\r/g;Se.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Ce(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Se(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Se.map(i,function(e){return null==e?"":e+""})),(t=Se.valHooks[this.type]||Se.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=Se.valHooks[i.type]||Se.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Lt,""):null==n?"":n)}}}),Se.extend({valHooks:{option:{get:function(e){var t=Se.find.attr(e,"value");return null!=t?t:te(Se.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=Se(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Se.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Se.inArray(Se.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Se.each(["radio","checkbox"],function(){Se.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Se.inArray(Se(e).val(),t)>-1}},we.checkOn||(Se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ft=n.location,Ht={guid:Date.now()},jt=/\?/;Se.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||Se.error("Invalid XML: "+(r?Se.map(r.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ut=/^(?:focusinfocus|focusoutblur)$/,Wt=function(e){e.stopPropagation()};Se.extend(Se.event,{trigger:function(e,t,r,i){var o,a,s,u,c,l,f,d,p=[r||_e],h=ye.call(e,"type")?e.type:e,m=ye.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=r=r||_e,3!==r.nodeType&&8!==r.nodeType&&!Ut.test(h+Se.event.triggered)&&(h.indexOf(".")>-1&&(m=h.split("."),h=m.shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[Se.expando]?e:new Se.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Se.makeArray(t,[e]),f=Se.event.special[h]||{},i||!f.trigger||!1!==f.trigger.apply(r,t))){if(!i&&!f.noBubble&&!ke(r)){for(u=f.delegateType||h,Ut.test(u+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||_e)&&p.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?u:f.bindType||h,l=(Je.get(a,"events")||Object.create(null))[e.type]&&Je.get(a,"handle"),l&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Ge(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!Ge(r)||c&&Ce(r[h])&&!ke(r)&&(s=r[c],s&&(r[c]=null),Se.event.triggered=h,e.isPropagationStopped()&&d.addEventListener(h,Wt),r[h](),e.isPropagationStopped()&&d.removeEventListener(h,Wt),Se.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=Se.extend(new Se.Event,n,{type:e,isSimulated:!0});Se.event.trigger(r,null,t)}}),Se.fn.extend({trigger:function(e,t){return this.each(function(){Se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Se.event.trigger(e,t,n,!0)}});var $t=/\[\]$/,zt=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;Se.param=function(e,t){var n,r=[],i=function(e,t){var n=Ce(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Se.isPlainObject(e))Se.each(e,function(){i(this.name,this.value)});else for(n in e)ie(n,e[n],t,i);return r.join("&")},Se.fn.extend({serialize:function(){return Se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Se.prop(this,"elements");return e?Se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Se(this).is(":disabled")&&Vt.test(this.nodeName)&&!qt.test(e)&&(this.checked||!ct.test(e))}).map(function(e,t){var n=Se(this).val();return null==n?null:Array.isArray(n)?Se.map(n,function(e){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}});var Yt=/%20/g,Kt=/#.*$/,Xt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,Qt=/^\/\//,en={},tn={},nn="*/".concat("*"),rn=_e.createElement("a");rn.href=Ft.href,Se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft.href,type:"GET",isLocal:Jt.test(Ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?se(se(e,Se.ajaxSettings),t):se(Se.ajaxSettings,e)},ajaxPrefilter:oe(en),ajaxTransport:oe(tn),ajax:function(e,t){function r(e,t,r,s){var c,d,p,x,w,C=t;l||(l=!0,u&&n.clearTimeout(u),i=void 0,a=s||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(x=ue(h,k,r)),!c&&Se.inArray("script",h.dataTypes)>-1&&Se.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),x=ce(h,x,k,c),c?(h.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(Se.lastModified[o]=w),(w=k.getResponseHeader("etag"))&&(Se.etag[o]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=x.state,d=x.data,p=x.error,c=!p)):(p=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(t||C)+"",c?v.resolveWith(m,[d,C,k]):v.rejectWith(m,[k,C,p]),k.statusCode(b),b=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,h,c?d:p]),y.fireWith(m,[k,C]),f&&(g.trigger("ajaxComplete",[k,h]),--Se.active||Se.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,s,u,c,l,f,d,p,h=Se.ajaxSetup({},t),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?Se(m):Se.event,v=Se.Deferred(),y=Se.Callbacks("once memory"),b=h.statusCode||{},x={},w={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Gt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),r(0,t),this}};if(v.promise(k),h.url=((e||h.url||Ft.href)+"").replace(Qt,Ft.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(ze)||[""],null==h.crossDomain){c=_e.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=rn.protocol+"//"+rn.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Se.param(h.data,h.traditional)),ae(en,h,t,k),l)return k;f=Se.event&&h.global,f&&0==Se.active++&&Se.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Zt.test(h.type),o=h.url.replace(Kt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Yt,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(jt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Xt,"$1"),p=(jt.test(o)?"&":"?")+"_="+Ht.guid+++p),h.url=o+p),h.ifModified&&(Se.lastModified[o]&&k.setRequestHeader("If-Modified-Since",Se.lastModified[o]),Se.etag[o]&&k.setRequestHeader("If-None-Match",Se.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+nn+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(m,k,h)||l))return k.abort();if(C="abort",y.add(h.complete),k.done(h.success),k.fail(h.error),i=ae(tn,h,t,k)){if(k.readyState=1,f&&g.trigger("ajaxSend",[k,h]),l)return k;h.async&&h.timeout>0&&(u=n.setTimeout(function(){k.abort("timeout")},h.timeout));try{l=!1,i.send(x,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return Se.get(e,t,n,"json")},getScript:function(e,t){return Se.get(e,void 0,t,"script")}}),Se.each(["get","post"],function(e,t){Se[t]=function(e,n,r,i){return Ce(n)&&(i=i||r,r=n,n=void 0),Se.ajax(Se.extend({url:e,type:t,dataType:i,data:n,success:r},Se.isPlainObject(e)&&e))}}),Se.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Se._evalUrl=function(e,t,n){return Se.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Se.globalEval(e,t,n)}})},Se.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ce(e)&&(e=e.call(this[0])),t=Se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Ce(e)?this.each(function(t){Se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Se(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ce(e);return this.each(function(n){Se(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Se(this).replaceWith(this.childNodes)}),this}}),Se.expr.pseudos.hidden=function(e){return!Se.expr.pseudos.visible(e)},Se.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Se.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var on={0:200,1223:204},an=Se.ajaxSettings.xhr();we.cors=!!an&&"withCredentials"in an,we.ajax=an=!!an,Se.ajaxTransport(function(e){var t,r;if(we.cors||an&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(on[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Se.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Se.globalEval(e),e}}}),Se.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Se.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,i){t=Se("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),_e.head.appendChild(t[0])},abort:function(){n&&n()}}}});var sn=[],un=/(=)\?(?=&|$)|\?\?/;Se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||Se.expando+"_"+Ht.guid++;return this[e]=!0,e}}),Se.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(un.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&un.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=Ce(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(un,"$1"+i):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Se.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?Se(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,sn.push(i)),a&&Ce(o)&&o(a[0]),a=o=void 0}),"script"}),we.createHTMLDocument=function(){var e=_e.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Se.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(we.createHTMLDocument?(t=_e.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=_e.location.href,t.head.appendChild(r)):t=_e),i=He.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=N([e],t,o),o&&o.length&&Se(o).remove(),Se.merge([],i.childNodes))},Se.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=te(e.slice(s)),e=e.slice(0,s)),Ce(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Se.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Se("<div>").append(Se.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Se.expr.pseudos.animated=function(e){return Se.grep(Se.timers,function(t){return e===t.elem}).length},Se.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=Se.css(e,"position"),f=Se(e),d={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=Se.css(e,"top"),u=Se.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Ce(t)&&(t=t.call(e,n,Se.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},Se.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Se.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Se.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Se.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Se(e).offset(),i.top+=Se.css(e,"borderTopWidth",!0),i.left+=Se.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Se.css(r,"marginTop",!0),left:t.left-i.left-Se.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Se.css(e,"position");)e=e.offsetParent;return e||it})}}),Se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Se.fn[e]=function(r){return Ye(this,function(e,r,i){var o;if(ke(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),Se.each(["top","left"],function(e,t){Se.cssHooks[t]=U(we.pixelPosition,function(e,n){if(n)return n=j(e,t),yt.test(n)?Se(e).position()[t]+"px":n})}),Se.each({Height:"height",Width:"width"},function(e,t){Se.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Se.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ye(this,function(t,n,i){var o;return ke(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Se.css(t,n,s):Se.style(t,n,i,s)},t,a?i:void 0,a)}})}),Se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Se.fn[t]=function(e){return this.on(t,e)}}),Se.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),Se.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Se.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var cn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Se.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Ce(e))return r=de.call(arguments,2),i=function(){return e.apply(t||this,r.concat(de.call(arguments)))},i.guid=e.guid=e.guid||Se.guid++,i},Se.holdReady=function(e){e?Se.readyWait++:Se.ready(!0)},Se.isArray=Array.isArray,Se.parseJSON=JSON.parse,Se.nodeName=c,Se.isFunction=Ce,Se.isWindow=ke,Se.camelCase=b,Se.type=s,Se.now=Date.now,Se.isNumeric=function(e){var t=Se.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Se.trim=function(e){return null==e?"":(e+"").replace(cn,"$1")},r=[],void 0!==(i=function(){return Se}.apply(t,r))&&(e.exports=i);var ln=n.jQuery,fn=n.$;return Se.noConflict=function(e){return n.$===Se&&(n.$=fn),e&&n.jQuery===Se&&(n.jQuery=ln),Se},void 0===o&&(n.jQuery=n.$=Se),Se})},DuR2:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"ET/6":function(e,t,n){"use strict";function r(e){var t=e[0].files[0],n=t.name,r=!1;o.each(u,function(e,t){n.endsWith(t)&&(r=!0)}),r||(alert(s),e.val(""))}function i(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return t&&"1"in t?t[1]||0:null}var o=n("7t+N");n("L8lI"),n("ZZJ+"),n("hSCs");var a=n("5eDb");n("o5MN"),n("SlIL"),n("NBEC"),n("f85y");var s="Les formats acceptés sont jpg, png, gif, eps, psd, pdf ou ai. Merci de réesayer avec un fichier valide.",u=["jpg","png","gif","eps","psd","ai","pdf"];o(document).ready(function(){function e(e){e.is(":visible")?e.hide():e.show()}function t(){o("a").click(function(e){e.preventDefault()}),o("button").click(function(e){e.preventDefault()})}function n(e,n){e.on("click",function(){(0==o("input:invalid").length||e.hasClass("append_loader"))&&(void 0!=n&&t(),o(this).after(w),o(this).hide())})}function s(e,n){e.on("click",function(e){0==o("input:invalid").length&&(void 0!=n&&t(),o("body").prepend(C),o("html,body").animate({scrollTop:0},"fast"))})}function u(e,t,n,r){function i(t,n){var r=t.data("prototype"),i=t.data("index"),f=r.replace(/__name__/g,i);t.data("index",i+1);var d=u.append(f);n.before(d),console.log(o("[id^="+e+"_]").length),o.isNumeric(s)&&o("[id^="+e+"_]").length==4*s||(u.append(l),a(o(c+i),i))}function a(e,t){var n=o("<a href='#' class='btn-delete'><span class='glyphicon glyphicon-remove'></span></a>");e.append(n),n.on("click",function(e){e.preventDefault(),o(c+t).parent().remove()})}if(void 0==t&&(t=!1),void 0==r)var s=!1;var u=o("#"+e),c="#"+e+"_",l=o('<a href="#" class="btn-custom"><span class="glyphicon glyphicon-plus"> </span> </a>'),f=u.append(l),d=u,p=0;d.find("[id^="+e+"_]").each(function(){0!=p||void 0!=n&&n?p>0&&a(o(c+p),p):a(o(c+p),p),p++}),d.append(f),d.data("index",d.find(":input").length),l.on("click",function(t){t.preventDefault();var n=!0;if(o.isNumeric(s)&&o("[id^="+e+"_]").length==4*s)var n=!1;n&&i(d,f)}),t&&0==o("[id^="+e+"_]").length&&i(d,f)}function c(e){for(var t=e.target.files,n=0;f=t[n];n++)if(f.type.match("image.*")){var r=new FileReader;r.onload=function(e){return function(t){o("#participation_logo").append(['<img src="',t.target.result,'" title="',escape(e.name),'"/>'].join(""))}}(f),r.readAsDataURL(f)}}function l(e){e.after(w),e.remove(),id=e.attr("data-id"),o.ajax({type:"POST",url:"/admin/user/reset-login",data:{id:id},cache:!1,success:function(e){o(".pacman").remove(),o("#"+e.id+"login").html("Jamais connecté")}})}function l(e){e.after(w),e.remove();var t=e.attr("data-id");o.ajax({type:"POST",url:"/admin/user/reset-login",data:{id:t},cache:!1,success:function(e){o(".pacman").remove(),o("#"+e.id+"login").html("Jamais connecté")}})}function d(e){e.after(w),e.remove();var t=e.attr("data-id");o.ajax({type:"POST",url:"/admin/participation/send-fill",data:{id:t},cache:!1,success:function(e){o(".pacman").remove(),o("#"+e.id+"sentOn").html("Le mail de notification vient d'être envoyé")}})}function p(e){console.log(e.attr("data-id")),e.after(w),e.remove();var t=e.attr("data-id");o.ajax({type:"POST",url:"/admin/participation/redo-recall",data:{id:t},cache:!1,success:function(e){o(".pacman").remove(),o("#"+e.id+"recall").html("La fiche a été remise dans les mails de relance")}})}function h(e){e.after(w),e.hide();var t=e.attr("data-id");o.ajax({type:"POST",url:"/admin/participation/send-fill-to-me",data:{id:t},cache:!1,success:function(e){o(".pacman").remove(),o("#"+e.id+"sent_to_me").html("Le mail de notification viens d'être envoyé"),o("#"+e.id+"sent_to_me").show()}})}function m(){o(".send-mail").on("click",function(e){e.preventDefault();var t=o(this).attr("data-id"),n=o(this).attr("data-email"),r=o(this).attr("data-type");void 0==n&&(n=null),o(this).remove(),o.ajax({type:"POST",url:"/admin/email/send-files",data:{id:t,email:n,type:r},cache:!1,success:function(e){o(".pacman").remove();var t=e.email,n=e.id,r='<i class="fa fa-check"></i> Envoyé';t?o("[sent-to-me-id="+n+"]").html(r):o("[sent-id="+n+"]").html(r)}})})}if(o("#sendRecallSubscribe").click(function(){var e=o(this).attr("value");o.ajax({type:"POST",url:"/admin/section/subscribePublic/"+e,success:function(){location.reload()}})}),o("#participation_load").click(function(){var e=o("#load_participation_participation").val();o.ajax({type:"POST",url:"/admin/participation/edit_form/"+e,success:function(e){o("#form_edit").html(e)}})}),o("#sortable").mouseleave(function(){o(".ui-sortable-handle").each(function(){var e=o(this).attr("event"),t=o(this).attr("value"),n=this.rowIndex;o.ajax({type:"POST",url:"/admin/section/reorderSection/"+e+"/"+t+"_"+n,success:function(){}})})}),o(".searchCandidat").click(function(){var e=o("#searchCandidatTxt").val();o.ajax({type:"POST",url:"/admin-recruteurs/infosByMail/"+e,success:function(e){var t=e.split(",");o.each(t,function(e,n){console.log(e+": "+n),o("#registration_lastname").val(t[1]),o("#registration_firstname").val(t[0]),o("#registration_email").val(t[2]),o("#registration_phone").val(t[3])})}})}),o(".validPrintBadge").click(function(){var e=o(this).attr("participation"),t=o(this).prev(".nbBadgesTxt").val();o(location).attr("href","/admin/tech-file/print-one-badge/"+e+"_"+t)}),o("#printSelectedBadges").click(function(){var e=[],t=[],n=o(this).attr("event");o(".checkBadge").each(function(){o(this).is(":checked")&&(e.push(o(this).attr("participation")),t.push(o(this).next(".nbBadgesTxt").val()))}),o(location).attr("href","/admin/tech-file/print-selected-badges/"+n+"_"+e+"_"+t)}),o("#sendSelectedRs").click(function(){var e=[],t=o(this).attr("event");o(".checkBadge").each(function(){o(this).is(":checked")&&e.push(o(this).attr("participation"))}),e.length>0?(alert("L'envoie des visuels s'est correctement passé !"),o(location).attr("href","/admin/tech-file/send-network-pub/"+t+"_"+e)):alert("Merci de cocher au moins une entreprise pour l'envoie ou cliquer sur \"Tout cocher\" pour envoyer les visuels à l'ensemble des exposants")}),o("#checkAll").click(function(){o(":checkbox.checkBadge").prop("checked",!0)}),o("#unCheckAll").click(function(){o(":checkbox.checkBadge").prop("checked",!1)}),document.getElementById("fos_user_resetting_form_plainPassword_first")){var g=document.getElementById("fos_user_resetting_form_plainPassword_first"),v=document.getElementById("letter"),y=document.getElementById("capital"),b=document.getElementById("number"),x=document.getElementById("length");g.onfocus=function(){document.getElementById("message").style.display="block"},g.onblur=function(){document.getElementById("message").style.display="none"},g.onkeyup=function(){var e=/[a-z]/g;g.value.match(e)?(v.classList.remove("invalid"),v.classList.add("valid")):(v.classList.remove("valid"),v.classList.add("invalid"));var t=/[A-Z]/g;g.value.match(t)?(y.classList.remove("invalid"),y.classList.add("valid")):(y.classList.remove("valid"),y.classList.add("invalid"));var n=/[0-9]/g;g.value.match(n)?(b.classList.remove("invalid"),b.classList.add("valid")):(b.classList.remove("valid"),b.classList.add("invalid")),g.value.length>=8?(x.classList.remove("invalid"),x.classList.add("valid")):(x.classList.remove("valid"),x.classList.add("invalid"))}}o(".displayAll").click(function(){window.location.href=window.location.href});var w="<img src='/images/pacman.gif' alt='chargement' class='pacman'>",C='<div id="cooking_container"><h1 class="loader">Cooking in progress..<br>Merci de patienter</h1><div id="cooking"><div class="bubble"></div><div class="bubble"></div><div class="bubble"></div><div class="bubble"></div><div class="bubble"></div><div id="area"><div id="sides"><div id="pan"></div><div id="handle"></div></div><div id="pancake"><div id="pastry"></div></div></div></div></div>',k="<img src='/images/loader.gif' alt='chargement' class='loader'>";o("#menu_admin").length>0&&(s(o("submit")),s(o("[id~=save]"))),n(o(".append_loader")),function(e,n){e.on("click",function(){(0==o("input:invalid").length||e.hasClass("append_loader_public"))&&(void 0!=n&&t(),o(this).after(k),o(this).hide())})}(o(".append_loader_public")),tinyMCE.baseURL="../../../tinymce";var _=["#place_description","#participation_presentation","#participation_info","#participation_description","#section_description","#job_presentation"];o.each(_,function(e,t){a.init({selector:t,plugins:["paste","link","lists"],convert_urls:!1,paste_as_text:!0,setup:function(e){e.on("keyup",function(e){var t=tinyMCE.activeEditor.getContent({format:"html"}),n=t.split("<p>").length;console.log(tinyMCE.activeEditor.getContainer().id),n<=10?(o("#"+tinyMCE.activeEditor.getContainer().id).css("border","solid green 2px"),o("div[quality]").attr("class","optimalContent"),o("div[quality]").html("<p>Le contenu proposé permet un affichage optimal au public</p>")):n<=15?(o("#"+tinyMCE.activeEditor.getContainer().id).css("border","solid orange 2px"),o("div[quality]").attr("class","correctContent"),o("div[quality]").html("<p>Le contenu proposé permet un affichage correct au public</p>")):(o("#"+tinyMCE.activeEditor.getContainer().id).css("border","solid red 2px"),o("div[quality]").attr("class","minimalContent"),o("div[quality]").html("<p>Le contenu proposé cause un affichage minimal au public</p>"))})}})}),tinyMCE.baseURL="../../../../tinymce";var _=["#participant_section_description","#mail_body","#agenda_description","#joblink_description"];o.each(_,function(e,t){a.init({selector:t,plugins:["paste","link","lists"],paste_as_text:!0,convert_urls:!1})}),o("#google_map").length>0&&o.ajax({url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDyEOl1mHUxCsZ9glafEPYTWj9Mua1YX9U&callback=initMap",dataType:"script",async:!0,defer:!0});if(o(".a_confirm").on("click",function(e){if(e.preventDefault(),o(this).after('<div id="confirmation_modal"> <div class="flex_container">\x3c!-- Modal content--\x3e<div class="modal_content"><p class="data_msg">Etes vous-sur de vouloir </p><div class="btn_container"><button id="modal_confirmed" type="submit" class="btn btn-success"><i class="fa fa-check"></i> Oui</button><button type="button" id="modal_cancel" class="btn btn-danger"><i class="fa fa-remove"></i> Non</button></div></div></div></div>'),o(this).data("warning")?(o(".data_msg").before(o(this).data("warning")),o(".data_msg").append("pour les deux jours ?")):o(this).data("no-text")?o(".data_msg").html(o(this).data("msg")):o(".data_msg").append(o(this).data("msg")),o(this).hasClass("is_form"));else;var t=o(this).attr("href");o("#modal_confirmed").on("click",function(){o.ajax({type:"GET",url:t,success:function(){location.reload()}})}),o("#modal_cancel").on("click",function(){o("#confirmation_modal").remove(),o(".pacman").remove(),o(".a_confirm").show()})}),o("#close_flash").on("click",function(e){o("#flash_notice").fadeOut()}),o("#place_colors").length>0&&u("place_colors",!1,!0),o("#user_responsableBises").length>0&&u("user_responsableBises"),o("#participation_sites").length>0&&u("participation_sites",!0,!0),o("#mail_extra_mails").length>0&&u("mail_extra_mails"),o("#participation_jobs").length>0&&(!function(e){o.ajax({url:"/admin-exposant/ajax-get-max-jobs",type:"POST",data:{id:e},cache:!1,async:!1,success:function(e){max_jobs=e.max}})}(o("#participation_id").attr("data-id")),u("participation_jobs",!0,!0,!0)),o("#participation_id").length>0&&o("#participation_maxJobs").length>0&&o("#participation_maxJobs").on("focusout",function(){var e=o("#participation_maxJobs").val();if(e&&o.isNumeric(e)){var e=o(this).val();o.ajax({type:"POST",url:"/admin/participation/increment-max-jobs",data:{max:e,id:o("#participation_id").attr("data-id")},cache:!1})}else o("#participation_maxJobs").after("<p class='text-danger'>Merci de saisir un nombre")}),o("#event_date").length>0){var T=function(e,t){o(t+"_day").val(e.getDate()),o(t+"_month").val(e.getMonth()+1),o(t+"_year").val(e.getFullYear())};o("#complete").on("click",function(e){e.preventDefault();var t=o("#event_date_date_day").val(),n=o("#event_date_date_month").val(),r=o("#event_date_date_year").val(),i=new Date(r,n-1,t),a=new Date(r,n-1,t),s=new Date(r,n-1,t),u=new Date(r,n-1,t);i.setDate(i.getDate()-31),T(i,"#event_online_date"),a.setDate(a.getDate()+1),T(a,"#event_offline_date"),s.setDate(s.getDate()-51),T(s,"#event_firstRecallDate"),u.setDate(u.getDate()-38),T(u,"#event_secondRecallDate")}),o("#break").on("click",function(){e(o(".break_fields"))}),o("#firstRecall").on("click",function(){e(o("#firstRecallContainer"))}),o("#secondRecall").on("click",function(){e(o("#secondRecallContainer"))})}if(o("#event_banner_file").on("change",function(){o(this)[0].files[0].size>=28e7?(alert("La taille de votre fichier ne doit pas excéder 280M. Merci de réesayer avec un fichier plus petit."),o(this).val("")):r(o(this))}),o("#event_socialLogo_file").on("change",function(){var e=o(this)[0].files[0];e.size>=8e6?(alert("La taille du logo partage sur facebook ne doit pas excéder 8M. Merci de réesayer avec un fichier plus petit."),o(this).val("")):e.name.endsWith(jpg)||(alert("Merci de choisir une image au format jpg"),input.val(""))}),o("#event_invitation_file").on("change",function(){o(this)[0].files[0].size>=2e7?(alert("La taille de l'invitation ne doit pas excéder 2M. Merci de réesayer avec un fichier plus petit."),o(this).val("")):r(o(this))}),o("#invitation_model").on("click",function(){o("#invitation_model").hasClass("zoom")?(o("#invitation_model").removeClass("zoom"),o("#invitation_container").removeClass("zoom_container")):(o("#invitation_model").addClass("zoom"),o("#invitation_container").addClass("zoom_container"))}),void 0!==E&&E&&o("html, body").animate({scrollTop:o("#"+E).offset().top-30},1),o(".reset_last_login").on("click",function(){l(o(this))}),o(".reset_last_login").on("click",function(){l(o(this))}),o(".send_fill").on("click",function(){d(o(this))}),o(".reload_scan").on("click",function(){var e=o(this).attr("data-id"),t=o(this).attr("event-id");o.ajax({type:"POST",url:"/admin/event/reload-scan/"+e+"/"+t,cache:!1,success:function(){location.reload()}})}),o(".reset_updated").on("click",function(){p(o(this))}),o("#send_fills").on("click",function(){o(this).after(w)}),o(".send_fill_to_me").on("click",function(){h(o(this))}),o("#participation_logo_file").on("change",function(e){r(o(this)),c(e)}),o("#display_participation_load_form").on("click",function(e){o("form[name=load_participation").show(),o(this).hide()}),o("#edit_ack").on("click",function(){o(this).hasClass("btn")?o(this).remove():o(this).hide(),o("#edit_ack_container").show()}),o("#ack_date_container").delegate("#edit_ack","click",function(){o(this).hide(),o("#edit_ack_container").show()}),o("#save_ack").on("click",function(){var e=o("#date_ack").val();if(e){var t=o(this).attr("data-id");o("#edit_ack_container").after(w),o("#edit_ack_container").hide(),o.ajax({type:"POST",url:"/admin/tech-file/ack",data:{id:t,date:e},cache:!1,success:function(e){o(".pacman").remove(),o("#edit_ack").show();var t=e.date;o("#defined_date_ack").length>0?o("#defined_date_ack").html(t):o("#ack_date_container").append('Date de retour de l\'accusé de récéption : <span id="defined_date_ack">'+t+'</span><i class="fa fa-edit" id="edit_ack"></i>')}})}}),o("#tech_file_index").length>0){var E=i("anchor");E&&o("html,body").animate({scrollTop:o("#"+E).offset().top-25},"fast"),n(o(".send-mail",!0)),n(o(".send_all_mail",!0)),n(o(".generate")),m(),o(".generate").on("click",function(e){e.preventDefault();var t=o(this).attr("data-id");o.ajax({type:"POST",url:"/admin/tech-file/generate-badge",data:{id:t},cache:!1,success:function(e){o(".pacman").remove(),o(".generate").show();var t=e.id,n=e.src;o("[badge-id="+t+"]").html("<img src="+n+">")}})})}if(o("#date_ack").datepicker(),o("#ask_edit_ack").on("click",function(){o("html,body").animate({scrollTop:o(".ack").offset().top-25},"fast"),o("#edit_ack").click()}),o("#ask_tech_guide").on("click",function(){o("html,body").animate({scrollTop:o(".tech_guide").offset().top-25},"fast")}),o("#toTopExposant").on("click",function(){o("html,body").animate({scrollTop:o("#save").offset().top-25},"fast")}),o("#bats").length>0&&(o("#date_bat").datepicker(),m(),n(o(".send_all_bat")),o("#edit_bat").on("click",function(){o(this).hasClass("btn")?o(this).remove():o(this).hide(),o("#edit_bat_container").show()}),o("#bat_date_container").delegate("#edit_bat","click",function(){o(this).hide(),o("#edit_bat_container").show()}),o("#save_bat").on("click",function(){var e=o("#date_bat").val();if(e){var t=o(this).attr("data-id");o("#edit_bat_container").after(w),o("#edit_bat_container").hide(),o.ajax({type:"POST",url:"/admin/bat/date",data:{id:t,date:e},cache:!1,success:function(e){o(".pacman").remove(),o("#edit_bat").show();var t=e.date;o("#defined_date_bat").length>0?o("#defined_date_bat").html(t):o("#bat_date_container").append('Date de retour du BAT : <span id="defined_date_bat">'+t+'</span><i class="fa fa-edit" id="edit_bat"></i>')}})}}),o("#ask_edit_bat").on("click",function(){o("html,body").animate({scrollTop:o(".bat").offset().top-25},"fast"),o("#edit_bat").click()})),0==o("#edit_profile").length&&o("#register_action").on("click",function(e){e.preventDefault()}),o("#contact_action").on("click",function(e){e.preventDefault()}),o("#bilan").length>0&&o("#notice_mp3").on("click",function(){e(o("#notice"))}),o("#menu_mobile").length>0&&o("#menu_mobile").on("click",function(){o(".nav.navbar-nav>li:nth-child(2)").is(":visible")?(o(".nav.navbar-nav>li").css("display","none"),o("#menu_mobile").css("display","block")):o(".nav.navbar-nav>li").css("display","block")}),o("#backComment").on("click",function(e){window.location.href=document.referrer}),o("#backScanButton").on("click",function(e){window.location.href=document.referrer}),o("#candidate_profile").length>0){o("#show_edit").on("click",function(e){e.preventDefault(),o(this).hide(),o("#comment_loading").show(),o("#save_comment").show(),o("#comment").hide(),o("#no_comment").length>0&&o("#no_comment").remove()});var S=o("#comment_loading").text();o("#comment_loading").on("change paste keyup select",function(){S=o(this).val()}),o("#comment_loading").bind("input propertychange",function(e){o.ajax({type:"POST",url:"/admin-exposant/editer-commentaire",data:{id:o("#save_comment").attr("data-id"),comment:S},cache:!1})}),o("#save_comment, #save_bottom").on("click",function(e){o("#comment_loading").is(":visible")&&("save_comment"==o(this).attr("id")&&e.preventDefault(),o("#save_comment").hide(),o(".simple_loader").show(),o.ajax({type:"POST",url:"/admin-exposant/editer-commentaire",data:{id:o("#save_comment").attr("data-id"),comment:S},cache:!1,success:function(e){o("#comment_loading").hide(),o("#show_edit").show(),o("#comment").html(S),o("#comment").show(),o(".simple_loader").hide(),window.location.href=document.referrer}}))}),o("#cancelSearchCandidat").on("click",function(){}),o(".filterComment>.fa").on("click",function(){var e=o('[class*="current"]'),t=o(this),n=t.attr("data-value");if(e.length>0){var r=e.find(".fa"),i=r.attr("data-value"),a=!1;n==i&&(a=!0,n=0)}o.ajax({type:"POST",url:"/admin-exposant/update-icon",data:{id:o("#save_comment").attr("data-id"),value:n},cache:!1,success:function(r){if(n!=r)alert("Veuillez nous excusez votre modification n'a pas été prise en compte");else{if(e.length>0){var i=e.find(".fa"),s=i.attr("class");if(i.removeClass(s),-1!==s.indexOf("thumbs")&&-1===s.indexOf("thumbs-o"))var u=s.replace("thumbs","thumbs-o");else var u=s+"-o";i.addClass(u),i.parent().removeClass("current")}if(!a){var s=t.attr("class");t.removeClass(s);var u=s.replace("-o","");t.addClass(u),t.parent().addClass("current")}o("#candidate_fa_icon i").removeClass(),a||o("#candidate_fa_icon i").addClass(u)}}})})}if(o("#readerScan").length){var N=function(e,t){R.clear();var n=JSON.parse(atob(e));o.ajax({type:"POST",data:JSON.stringify(n),url:"/scan/scanned",success:function(e){alert("validé"),window.location.href="/scan/today"}})},D=function(e){};o("#html5-qrcode-button-camera-permission").on("load",function(){console.log("oui boutton"),o("#html5-qrcode-button-camera-permission").trigger("click")}),o(".html5-qrcode-element").length&&(console.log("oui boutton"),o(".html5-qrcode-element").trigger("click"));var R=new Html5QrcodeScanner("readerScan",{fps:10,videoConstraints:{facingMode:{exact:"environment"}},rememberLastUsedCamera:!0,aspectRatio:1.7777778,qrbox:{width:250,height:250}},!1);R.render(N,D)}if(o("#reader").length){var A=function(e,t){var n=JSON.parse(atob(e)),r=o("#reader").attr("participationId");o.ajax({type:"POST",data:JSON.stringify(n),url:"/admin-exposant/addScan/"+r,cache:!1,success:function(e){console.log(e),e.error?(o(".errorContainer").remove(),o("#scan_candidate").before('<div class="errorContainer"><p>'+e.error+"</p></div>")):window.location.href="/admin-exposant/voir-candidat/"+e}})},O=function(e){};new Html5QrcodeScanner("reader",{fps:10,rememberLastUsedCamera:!0,videoConstraints:{facingMode:{exact:"environment"}},qrbox:{width:250,height:250}},!1).render(A,O)}o("#searchCandidatScan").on("click",function(){o.ajax({type:"POST",url:"/admin-exposant/searchScan",data:{info:o("#infoCandidatScan").val(),id:o("#idParticipation").val()},cache:!1,success:function(e){e.error?(o(".errorContainer").remove(),o("#scan_candidate").before('<div class="errorContainer"><p>'+e.error+"</p></div>")):window.location.href="/admin-exposant/voir-candidat/"+e}})}),o("#searchCandidatScanScan").on("click",function(){o.ajax({type:"POST",url:"/scan/searchScan",data:{info:o("#infoCandidatScan").val(),id:o("#idParticipation").val()},cache:!1,success:function(e){e.error?(o(".errorContainer").remove(),o("#scan_candidate").before('<div class="errorContainer"><p>'+e.error+"</p></div>")):alert("Le candidat a bien été scanné")}})})})},L8lI:function(e,t,n){var r,i,o;/*!
 * jQuery UI Datepicker 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(a){"use strict";i=[n("7t+N"),n("UZ9c"),n("WLoA")],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";function t(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){e.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.13.2"}});var a;return e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),i),o.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span>").addClass(this._appendClass).text(a),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),"focus"!==r&&"both"!==r||t.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),this._get(n,"buttonImageOnly")?n.trigger=e("<img>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):(n.trigger=e("<button type='button'>").addClass(this._triggerClass),o?n.trigger.html(e("<img>").attr({src:o,alt:i,title:i})):n.trigger.text(i)),t[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,a){var s,u,c,l,f,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),o(d.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+l,c/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),a===i&&(a=null,this._curInst=null))},_enableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,a,s,u,c=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;i=n||{},"string"==typeof n&&(i={},i[n]=r),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),u=this._getMinMaxDate(c,"max"),o(c.settings,i),null!==s&&void 0!==i.dateFormat&&void 0===i.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==u&&void 0!==i.dateFormat&&void 0===i.maxDate&&(c.settings.maxDate=this._formatDate(c,u)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),i[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),n=e.datepicker._get(o,"onSelect"),n?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(e){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=e("input",n.parentNode)[0]),!e.datepicker._isDisabledDatepicker(n)&&e.datepicker._lastInput!==n){var r,i,a,s,u,c,l;r=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==r&&(e.datepicker._curInst.dpDiv.stop(!0,!0),r&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(r,"beforeShow"),a=i?i.apply(n,[n,r]):{},!1!==a&&(o(r.settings,a),r.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(r),e.datepicker._inDialog&&(n.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),s=!1,e(n).parents().each(function(){return!(s|="fixed"===e(this).css("position"))}),u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(r),u=e.datepicker._checkOffset(r,u,s),r.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),r.inline||(c=e.datepicker._get(r,"showAnim"),l=e.datepicker._get(r,"duration"),r.dpDiv.css("z-index",t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?r.dpDiv.show(c,e.datepicker._get(r,"showOptions"),l):r.dpDiv[c||"show"](c?l:null),e.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),e.datepicker._curInst=r))}},_updateDatepicker:function(t){this.maxRows=4,a=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),o=r[1],s=t.dpDiv.find("."+this._dayOverClass+" a"),u=e.datepicker._get(t,"onUpdateDatepicker");s.length>0&&i.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),n=t.yearshtml=null},0)),u&&u.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>u&&u>i?Math.abs(n.left+i-u):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.pseudos.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),r=this._get(a,"duration"),i=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),r,i):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n,r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,a=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=parseInt(e("a",i).attr("data-date")),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),r=this._get(o,"onSelect"),r?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(document).find(o).val(i))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,o,a,s,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),f=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,d=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,h=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,x=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},w=function(e){var t=x(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?r:1,o=new RegExp("^\\d{"+i+","+r+"}"),a=n.substring(u).match(o);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},C=function(t,r,i){var o=-1,a=e.map(x(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return o=t[0],u+=r.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+u},k=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(b)"'"!==t.charAt(i)||x("'")?k():b=!1;else switch(t.charAt(i)){case"d":v=w("d");break;case"D":C("D",f,d);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=C("M",p,h);break;case"y":m=w("y");break;case"@":s=new Date(w("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((w("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":x("'")?k():b=!0;break;default:k()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=l?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),v<=o)break;g++,v-=o}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(u(e))for(;r.length<n;)r="0"+r;return r},l=function(e,t,n,r){return u(e)?r[t]:n[t]},f="",d=!1;if(t)for(r=0;r<e.length;r++)if(d)"'"!==e.charAt(r)||u("'")?f+=e.charAt(r):d=!1;else switch(e.charAt(r)){case"d":f+=c("d",t.getDate(),2);break;case"D":f+=l("D",t.getDay(),i,o);break;case"o":f+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",t.getMonth()+1,2);break;case"M":f+=l("M",t.getMonth(),a,s);break;case"y":f+=u("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":f+=t.getTime();break;case"!":f+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?f+="'":d=!0;break;default:f+=e.charAt(r)}return f},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,a=this._getFormatConfig(e);try{o=this.parseDate(n,r,a)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o))}u=s.exec(n)}return new Date(i,o,a)}(n):"number"==typeof n?isNaN(n)?r:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return i=i&&"Invalid Date"===i.toString()?r:i,i&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var n,r,i,o,a,s,u,c,l,f,d,p,h,m,g,v,y,b,x,w,C,k,_,T,E,S,N,D,R,A,O,P,B,I,M,L,F,H,j,U=new Date,W=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),$=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),K=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==Y[0]||1!==Y[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),ee=t.drawMonth-K,te=t.drawYear;if(ee<0&&(ee+=12,te--),Q)for(n=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),n=Z&&n<Z?Z:n;this._daylightSavingAdjust(new Date(te,ee,1))>n;)--ee<0&&(ee=11,te--);for(t.drawMonth=ee,t.drawYear=te,r=this._get(t,"prevText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(te,ee-X,1)),this._getFormatConfig(t)):r,i=this._canAdjustMonth(t,-1,te,ee)?e("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:r}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+($?"e":"w")).text(r))[0].outerHTML:q?"":e("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:r}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+($?"e":"w")).text(r))[0].outerHTML,o=this._get(t,"nextText"),o=V?this.formatDate(o,this._daylightSavingAdjust(new Date(te,ee+X,1)),this._getFormatConfig(t)):o,a=this._canAdjustMonth(t,1,te,ee)?e("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:o}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+($?"w":"e")).text(o))[0].outerHTML:q?"":e("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:o}).append(e("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+($?"w":"e")).text(o))[0].outerHTML,s=this._get(t,"currentText"),u=this._get(t,"gotoCurrent")&&t.currentDay?J:W,s=V?this.formatDate(s,u,this._getFormatConfig(t)):s,c="",t.inline||(c=e("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),l="",z&&(l=e("<div class='ui-datepicker-buttonpane ui-widget-content'>").append($?c:"").append(this._isInRange(t,u)?e("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(s):"").append($?"":c)[0].outerHTML),f=parseInt(this._get(t,"firstDay"),10),f=isNaN(f)?0:f,d=this._get(t,"showWeek"),p=this._get(t,"dayNames"),h=this._get(t,"dayNamesMin"),m=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),v=this._get(t,"beforeShowDay"),y=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),x=this._getDefaultDate(t),w="",k=0;k<Y[0];k++){for(_="",this.maxRows=4,T=0;T<Y[1];T++){if(E=this._daylightSavingAdjust(new Date(te,ee,t.selectedDay)),S=" ui-corner-all",N="",G){if(N+="<div class='ui-datepicker-group",Y[1]>1)switch(T){case 0:N+=" ui-datepicker-group-first",S=" ui-corner-"+($?"right":"left");break;case Y[1]-1:N+=" ui-datepicker-group-last",S=" ui-corner-"+($?"left":"right");break;default:N+=" ui-datepicker-group-middle",S=""}N+="'>"}for(N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?$?a:i:"")+(/all|right/.test(S)&&0===k?$?i:a:"")+this._generateMonthYearHeader(t,ee,te,Z,Q,k>0||T>0,m,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;C<7;C++)R=(C+f)%7,D+="<th scope='col'"+((C+f+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[R]+"'>"+h[R]+"</span></th>";for(N+=D+"</tr></thead><tbody>",A=this._getDaysInMonth(te,ee),te===t.selectedYear&&ee===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),O=(this._getFirstDayOfMonth(te,ee)-f+7)%7,P=Math.ceil((O+A)/7),B=G&&this.maxRows>P?this.maxRows:P,this.maxRows=B,I=this._daylightSavingAdjust(new Date(te,ee,1-O)),M=0;M<B;M++){for(N+="<tr>",L=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",C=0;C<7;C++)F=v?v.apply(t.input?t.input[0]:null,[I]):[!0,""],H=I.getMonth()!==ee,j=H&&!b||!F[0]||Z&&I<Z||Q&&I>Q,L+="<td class='"+((C+f+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(I.getTime()===E.getTime()&&ee===t.selectedMonth&&t._keyEvent||x.getTime()===I.getTime()&&x.getTime()===E.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!y?"":" "+F[1]+(I.getTime()===J.getTime()?" "+this._currentClass:"")+(I.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(H&&!y||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(H&&!y?"&#xa0;":j?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===W.getTime()?" ui-state-highlight":"")+(I.getTime()===J.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#' aria-current='"+(I.getTime()===J.getTime()?"true":"false")+"' data-date='"+I.getDate()+"'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);N+=L+"</tr>"}ee++,ee>11&&(ee=0,te++),N+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&T===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),_+=N}w+=_}return w+=l,t._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var u,c,l,f,d,p,h,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b=this._get(e,"selectMonthLabel"),x=this._get(e,"selectYearLabel"),w="<div class='ui-datepicker-title'>",C="";if(o||!g)C+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(u=r&&r.getFullYear()===n,c=i&&i.getFullYear()===n,C+="<select class='ui-datepicker-month' aria-label='"+b+"' data-handler='selectMonth' data-event='change'>",l=0;l<12;l++)(!u||l>=r.getMonth())&&(!c||l<=i.getMonth())&&(C+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+s[l]+"</option>");C+="</select>"}if(y||(w+=C+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)w+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},h=p(f[0]),m=Math.max(h,p(f[1]||"")),h=r?Math.max(h,r.getFullYear()):h,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+x+"' data-handler='selectYear' data-event='change'>";h<=m;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",w+=e.yearshtml,e.yearshtml=null}return w+=this._get(e,"yearSuffix"),y&&(w+=(!o&&g&&v?"":"&#xa0;")+C),w+="</div>"},_adjustInstDate:function(e,t,n){var r=e.selectedYear+("Y"===n?t:0),i=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(n=u.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.13.2",e.datepicker})},NBEC:function(e,t,n){n("m/OW")},SlIL:function(e,t,n){n("T8kY")},T8kY:function(e,t,n){(function(e){!function(){!function(t){"use strict";function n(e,t){return Q.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function r(e){function t(e){var n=e.name,r=e;if("br"===n)return void(o+="\n");if("wbr"!==n){if(a[n]&&(o+=" "),s[n])return void(o+=" ");if(3===e.type&&(o+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);u[n]&&r.next&&(o+="\n","p"===n&&(o+="\n"))}}var r=ge(),i=pe({},r),o="",a=r.getShortEndedElements(),s=Q.makeMap("script noscript style textarea video audio iframe object"," "),u=r.getBlockElements();return e=n(e,[/<!\[[^\]]+\]>/g]),t(i.parse(e)),o}function i(e){function t(e,t,n){return t||n?" ":" "}return e=n(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function o(e){var t=0;return function(){return e+t++}}function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),Q.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function u(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function c(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do{r(e)}while(e=e.next)}function i(e,t,i){var s=e._listLevel||c;s!==c&&(s<c?o&&(o=o.parent.parent):(a=o,o=null)),o&&o.name===t?o.append(e):(a=a||o,o=new me(t,1),i>1&&o.attr("start",""+i),e.wrap(o)),e.name="li",s>c&&a&&a.lastChild.append(o),c=s,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var o,a,c=1,l=[],f=e.firstChild;void 0!==f&&null!==f;)if(l.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var d=0;d<l.length;d++)if(e=l[d],"p"===e.name&&e.firstChild){var p=t(e);if(u(p)){i(e,"ul");continue}if(s(p)){var h=/([0-9]+)\./.exec(p),m=1;h&&(m=parseInt(h[1],10)),i(e,"ol",m);continue}if(e._listLevel){i(e,"ul",1);continue}o=null}else a=o,o=null}function l(e,t,n,r){var i,o={},a=e.dom.parseStyle(r);return Q.each(a,function(a,s){switch(s){case"mso-list":i=/\w+ \w+([0-9]+)/i.exec(r),i&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(o[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}if(0===s.indexOf("mso-comment"))return void n.remove();0!==s.indexOf("mso-")&&("all"===z.getRetainStyleProps(e)||t&&t[s])&&(o[s]=a)}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new me("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new me("i",1))),(o=e.dom.serializeStyle(o,n.name))||null}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}function d(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function p(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function h(e,t){if(!we.isWordContent(t))return t;var n=[];Q.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=ye.filter(t,[[r,"$1"]]),t=ye.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function m(e,t,n,r){if(r||n)return t;var i,o=z.getWebkitStyles(e);if(!1===z.shouldRemoveWebKitStyles(e)||"all"===o)return t;if(o&&(i=o.split(/[, ]/)),i){var a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var o=a.parseStyle(a.decode(n)),u={};if("none"===i)return t+r;for(var c=0;c<i.length;c++){var l=o[i[c]],f=a.getStyle(s,i[c],!0);/color/.test(i[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(u[i[c]]=l)}return u=a.serializeStyle(u,"span"),u?t+' style="'+u+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function g(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}function v(){}var y=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return y(n())}}},b=tinymce.util.Tools.resolve("tinymce.PluginManager"),x=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!b.get("powerpaste"))&&(void 0!==t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},w={hasProPlugin:x},C=function(e,t){return{clipboard:e,quirks:t}},k={get:C},_=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},T=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},E=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},S=function(e,t){return e.fire("paste",{ieFake:t})},N={firePastePreProcess:_,firePastePostProcess:T,firePastePlainTextToggle:E,firePaste:S},D=function(e){return e.getParam("paste_plaintext_inform",!0)},R=function(e){return e.getParam("paste_block_drop",!1)},A=function(e){return e.getParam("paste_data_images",!1)},O=function(e){return e.getParam("paste_filter_drop",!0)},P=function(e){return e.getParam("paste_preprocess")},B=function(e){return e.getParam("paste_postprocess")},I=function(e){return e.getParam("paste_webkit_styles")},M=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},L=function(e){return e.getParam("paste_merge_formats",!0)},F=function(e){return e.getParam("smart_paste",!0)},H=function(e){return e.getParam("paste_as_text",!1)},j=function(e){return e.getParam("paste_retain_style_properties")},U=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},W=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},$=function(e){return e.getParam("paste_enable_default_filters",!0)},z={shouldPlainTextInform:D,shouldBlockDrop:R,shouldPasteDataImages:A,shouldFilterDrop:O,getPreProcess:P,getPostProcess:B,getWebkitStyles:I,shouldRemoveWebKitStyles:M,shouldMergeFormats:L,isSmartPasteEnabled:F,isPasteAsTextEnabled:H,getRetainStyleProps:j,getWordValidElements:U,shouldConvertWordFakeLists:W,shouldUseDefaultFilters:$},q=function(e,t){return!1===t.get()&&z.shouldPlainTextInform(e)},V=function(e,t){e.notificationManager.open({text:e.translate(t),type:"info"})},Y=function(e,t,n){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),N.firePastePlainTextToggle(e,!1)):(t.pasteFormat.set("text"),N.firePastePlainTextToggle(e,!0),q(e,n)&&(V(e,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),e.focus()},K={togglePlainTextPaste:Y},X=function(e,t,n){e.addCommand("mceTogglePlainTextPaste",function(){K.togglePlainTextPaste(e,t,n)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},G={register:X},J=tinymce.util.Tools.resolve("tinymce.Env"),Z=tinymce.util.Tools.resolve("tinymce.util.Delay"),Q=tinymce.util.Tools.resolve("tinymce.util.Tools"),ee=tinymce.util.Tools.resolve("tinymce.util.VK"),te="\x3c!-- x-tinymce/html --\x3e",ne=function(e){return te+e},re=function(e){return e.replace(te,"")},ie=function(e){return-1!==e.indexOf(te)},oe={mark:ne,unmark:re,isMarked:ie,internalHtmlMime:function(){return"x-tinymce/html"}},ae=tinymce.util.Tools.resolve("tinymce.html.Entities"),se=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},ue=function(e){return e.replace(/\r?\n/g,"<br>")},ce=function(e,t){var n,r=[],i="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+ae.encodeAllRaw(t[n])+'"');r.length&&(i+=" "+r.join(" "))}return i+">"},le=function(e,t,n){var r=e.split(/\n\n/),i=ce(t,n),o="</"+t+">",a=Q.map(r,function(e){return e.split(/\n/).join("<br />")}),s=function(e){return i+e+o};return 1===a.length?a[0]:Q.map(a,s).join("")},fe=function(e,t,n){return t?le(e,t,n):ue(e)},de={isPlainText:se,convert:fe,toBRs:ue,toBlockElements:le},pe=tinymce.util.Tools.resolve("tinymce.html.DomParser"),he=tinymce.util.Tools.resolve("tinymce.html.Serializer"),me=tinymce.util.Tools.resolve("tinymce.html.Node"),ge=tinymce.util.Tools.resolve("tinymce.html.Schema"),ve=function(){return-1!==t.navigator.userAgent.indexOf(" Edge/")},ye={filter:n,innerText:r,trimHtml:i,createIdGenerator:o,isMsEdge:ve},be=function(e,t){var n,r;n=z.getRetainStyleProps(e),n&&(r=Q.makeMap(n.split(/[, ]/))),t=ye.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}]]);var i=z.getWordValidElements(e),o=ge({valid_elements:i,valid_children:"-li[p]"});Q.each(o.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=pe({},o);a.addAttributeFilter("style",function(t){for(var n,i=t.length;i--;)n=t[i],n.attr("style",l(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,r,i=e.length;i--;)if(t=e[i],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var s=a.parse(t);return z.shouldConvertWordFakeLists(e)&&c(s),t=he({validate:e.settings.validate},o).serialize(s)},xe=function(e,t){return z.shouldUseDefaultFilters(e)?be(e,t):t},we={preProcess:xe,isWordContent:a},Ce=function(e,t){var n=pe({},e.schema);n.addNodeFilter("meta",function(e){Q.each(e,function(e){return e.remove()})});var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return he({validate:e.settings.validate},e.schema).serialize(r)},ke=function(e,t){return{content:e,cancelled:t}},_e=function(e,t,n,r){var i=e.dom.create("div",{style:"display:none"},t),o=N.firePastePostProcess(e,i,n,r);return ke(o.node.innerHTML,o.isDefaultPrevented())},Te=function(e,t,n,r){var i=N.firePastePreProcess(e,t,n,r),o=Ce(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?_e(e,o,n,r):ke(o,i.isDefaultPrevented())},Ee=function(e,t,n){var r=we.isWordContent(t),i=r?we.preProcess(e,t):t;return Te(e,i,n,r)},Se={process:Ee},Ne=function(e,t){return e.insertContent(t,{merge:z.shouldMergeFormats(e),paste:!0}),!0},De=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},Re=function(e){return De(e)&&/.(gif|jpe?g|png)$/.test(e)},Ae=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},Oe=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},Pe=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!De(t))&&Oe(e,t,n)},Be=function(e,t,n){return!!Re(t)&&Ae(e,t,n)},Ie=function(e,t){Q.each([Pe,Be,Ne],function(n){return!0!==n(e,t,Ne)})},Me=function(e,t){!1===z.isSmartPasteEnabled(e)?Ne(e,t):Ie(e,t)},Le={isImageUrl:Re,isAbsoluteUrl:De,insertContent:Me},Fe=function(){},He=function(e){return function(){return e}},je=He(!1),Ue=He(!0),We=function(){return $e},$e=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:je,isSome:je,isNone:Ue,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:He(null),getOrUndefined:He(void 0),or:n,orThunk:t,map:We,each:Fe,bind:We,exists:je,forall:Ue,filter:We,equals:e,equals_:e,toArray:function(){return[]},toString:He("none()")};return Object.freeze&&Object.freeze(r),r}(),ze=function(e){var t=He(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ue,isNone:je,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ze(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:$e},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(je,function(t){return n(e,t)})}};return i},qe=function(e){return null===e||void 0===e?$e:ze(e)},Ve={some:ze,none:We,from:qe},Ye=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Ke=function(e){return function(t){return Ye(t)===e}}("function"),Xe=Array.prototype.slice,Ge=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},Je=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ze=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Qe=Ke(Array.from)?Array.from:function(e){return Xe.call(e)},et={},tt={exports:et};!function(t,n,r,i){!function(i){if("object"==typeof n&&void 0!==r)r.exports=i();else if("function"==typeof t&&t.amd)t([],i);else{var o;o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=i()}}(function(){return function(){function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return o(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[t]=!0,o(function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,et,tt,void 0);var nt=tt.exports.boltExport,rt=function(e){var n=Ve.none(),r=[],i=function(e){return rt(function(t){o(function(n){t(e(n))})})},o=function(e){s()?c(e):r.push(e)},a=function(e){n=Ve.some(e),u(r),r=[]},s=function(){return n.isSome()},u=function(e){Je(e,c)},c=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:o,map:i,isReady:s}},it=function(e){return rt(function(t){t(e)})},ot={nu:rt,pure:it},at=function(e){t.setTimeout(function(){throw e},0)},st=function(e){var t=function(t){e().then(t,at)};return{map:function(t){return st(function(){return e().then(t)})},bind:function(t){return st(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return st(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return ot.nu(t)},toCached:function(){var t=null;return st(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},ut=function(e){return st(function(){return new nt(e)})},ct=function(e){return st(function(){return nt.resolve(e)})},lt={nu:ut,pure:ct},ft=function(e,t){return t(function(t){var n=[],r=0,i=function(i){return function(o){n[i]=o,++r>=e.length&&t(n)}};0===e.length?t([]):Je(e,function(e,t){e.get(i(t))})})},dt=function(e){return ft(e,lt.nu)},pt=function(e,t){return dt(Ge(e,t))},ht=pt,mt=function(){var e=y(Ve.none()),t=function(){e.set(Ve.none())},n=function(t){e.set(Ve.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},gt=function(e,t,n){var r=n||oe.isMarked(t),i=Se.process(e,oe.unmark(t),r);!1===i.cancelled&&Le.insertContent(e,i.content)},vt=function(e,t){t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=de.convert(t,e.settings.forced_root_block,e.settings.forced_root_block_attrs),gt(e,t,!1)},yt=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];try{t[i]=e.getData(i)}catch(e){t[i]=""}}}return t},bt=function(e,t){var n=yt(t.clipboardData||e.getDoc().dataTransfer);return ye.isMsEdge()?Q.extend(n,{"text/html":""}):n},xt=function(e,t){return t in e&&e[t].length>0},wt=function(e){return xt(e,"text/html")||xt(e,"text/plain")},Ct=function(e){var t;return t=e.indexOf(","),-1!==t?e.substr(t+1):null},kt=function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)},_t=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},Tt=ye.createIdGenerator("mceclip"),Et=function(e,n){var r=Ct(n.uri),i=Tt(),o=e.settings.images_reuse_filename&&n.blob.name?_t(e,n.blob.name):i,a=new t.Image;if(a.src=n.uri,kt(e.settings,a)){var s=e.editorUpload.blobCache,u=void 0,c=void 0;c=s.findFirst(function(e){return e.base64()===r}),c?u=c:(u=s.create(i,n.blob,r,o),s.add(u)),gt(e,'<img src="'+u.blobUri()+'">',!1)}else gt(e,'<img src="'+n.uri+'">',!1)},St=function(e){return"paste"===e.type},Nt=function(e){return ht(e,function(e){return lt.nu(function(t){var n=e.getAsFile?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)})})},Dt=function(e){var t=e.items?Ge(Qe(e.items),function(e){return e.getAsFile()}):[],n=e.files?Qe(e.files):[];return Ze(t.length>0?t:n,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)})},Rt=function(e,t,n){var r=St(t)?t.clipboardData:t.dataTransfer;if(e.settings.paste_data_images&&r){var i=Dt(r);if(i.length>0)return t.preventDefault(),Nt(i).get(function(t){n&&e.selection.setRng(n),Je(t,function(t){Et(e,t)})}),!0}return!1},At=function(e){var n=e.clipboardData;return-1!==t.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length},Ot=function(e){return ee.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Pt=function(e,n,r){function i(t,r,i,o){var a,s;if(xt(t,"text/html")?a=t["text/html"]:(a=n.getHtml(),o=o||oe.isMarked(a),n.isDefaultContent(a)&&(i=!0)),a=ye.trimHtml(a),n.remove(),s=!1===o&&de.isPlainText(a),a.length&&!s||(i=!0),i&&(a=xt(t,"text/plain")&&s?t["text/plain"]:ye.innerText(a)),n.isDefaultContent(a))return void(r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));i?vt(e,a):gt(e,a,o)}var o,a=mt();e.on("keydown",function(r){function i(e){Ot(e)&&!e.isDefaultPrevented()&&n.remove()}if(Ot(r)&&!r.isDefaultPrevented()){if((o=r.shiftKey&&86===r.keyCode)&&J.webkit&&-1!==t.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),a.set(r),window.setTimeout(function(){a.clear()},100),J.ie&&o)return r.preventDefault(),void N.firePaste(e,!0);n.remove(),n.create(),e.once("keyup",i),e.once("paste",function(){e.off("keyup",i)})}});var s=function(){return n.getLastRng()||e.selection.getRng()};e.on("paste",function(t){var u=a.isSet(),c=bt(e,t),l="text"===r.get()||o,f=xt(c,oe.internalHtmlMime());return o=!1,t.isDefaultPrevented()||At(t)?void n.remove():!wt(c)&&Rt(e,t,s())?void n.remove():(u||t.preventDefault(),!J.ie||u&&!t.ieFake||xt(c,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",function(e){e.stopPropagation()}),e.getDoc().execCommand("Paste",!1,null),c["text/html"]=n.getHtml()),void(xt(c,"text/html")?(t.preventDefault(),f||(f=oe.isMarked(c["text/html"])),i(c,u,l,f)):Z.setEditorTimeout(e,function(){i(c,u,l,f)},0)))})},Bt=function(e,t,n){Pt(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,i){var o=function(e){e.attr("data-mce-object")||r===J.transparentSrc||e.remove()};if(!e.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(i))for(var a=t.length;a--;)(r=t[a].attributes.map.src)&&(!function(e){return 0===e.indexOf("webkit-fake-url")}(r)?!e.settings.allow_html_data_urls&&function(e){return 0===e.indexOf("data:")}(r)&&o(t[a]):o(t[a]))})},It=function(e){return J.ie&&e.inline?t.document.body:e.getBody()},Mt=function(e){return It(e)!==e.getBody()},Lt=function(e,t,n){Mt(e)&&e.dom.bind(t,"paste keyup",function(t){qt(e,n)||e.fire("paste")})},Ft=function(e,t,n){var r,i=e.dom,o=e.getBody();t.set(e.selection.getRng()),r=e.dom.add(It(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(J.ie||J.gecko)&&i.setStyle(r,"left","rtl"===i.getStyle(o,"direction",!0)?65535:-65535),i.bind(r,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),Lt(e,r,n),r.focus(),e.selection.select(r,!0)},Ht=function(e,t){if(jt(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},jt=function(e){return e.dom.get("mcepastebin")},Ut=function(e){var t,n,r,i,o,a=function(t,n){t.appendChild(n),e.dom.remove(n,!0)};for(n=Q.grep(It(e).childNodes,function(e){return"mcepastebin"===e.id}),t=n.shift(),Q.each(n,function(e){a(t,e)}),i=e.dom.select("div[id=mcepastebin]",t),r=i.length-1;r>=0;r--)o=e.dom.create("div"),t.insertBefore(o,i[r]),a(o,i[r]);return t?t.innerHTML:""},Wt=function(e){return e.get()},$t=function(e,t){return t===e},zt=function(e){return e&&"mcepastebin"===e.id},qt=function(e,t){var n=jt(e);return zt(n)&&$t(t,n.innerHTML)},Vt=function(e){var t=y(null);return{create:function(){return Ft(e,t,"%MCEPASTEBIN%")},remove:function(){return Ht(e,t)},getEl:function(){return jt(e)},getHtml:function(){return Ut(e)},getLastRng:function(){return Wt(t)},isDefault:function(){return qt(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return $t("%MCEPASTEBIN%",e)}}},Yt=function(e,t){var n=Vt(e);return e.on("preInit",function(){return Bt(e,n,t)}),{pasteFormat:t,pasteHtml:function(t,n){return gt(e,t,n)},pasteText:function(t){return vt(e,t)},pasteImageData:function(t,n){return Rt(e,t,n)},getDataTransferItems:yt,hasHtmlOrText:wt,hasContentType:xt}},Kt=function(){},Xt=function(e){return!1===J.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==ye.isMsEdge()},Gt=function(e,t,n){if(!Xt(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(oe.internalHtmlMime(),t),!0}catch(e){return!1}},Jt=function(e,t,n,r){Gt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Zt=function(e){return function(t,n){var r=oe.mark(t),i=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(o),e.dom.add(e.getBody(),i);var a=e.selection.getRng();o.focus();var s=e.dom.createRng();s.selectNodeContents(o),e.selection.setRng(s),setTimeout(function(){e.selection.setRng(a),i.parentNode.removeChild(i),n()},0)}},Qt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},en=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},tn=function(e){return!e.selection.isCollapsed()||en(e)},nn=function(e){return function(t){tn(e)&&Jt(t,Qt(e),Zt(e),function(){setTimeout(function(){e.execCommand("Delete")},0)})}},rn=function(e){return function(t){tn(e)&&Jt(t,Qt(e),Zt(e),Kt)}},on=function(e){e.on("cut",nn(e)),e.on("copy",rn(e))},an={register:on},sn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),un=function(e,t){return sn.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},cn=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},ln=function(e,t){e.focus(),e.selection.setRng(t)},fn=function(e,t,n){z.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),z.shouldPasteDataImages(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(r){var i,o;if(o=un(e,r),!r.isDefaultPrevented()&&!n.get()){i=t.getDataTransferItems(r.dataTransfer);var a=t.hasContentType(i,oe.internalHtmlMime());if((t.hasHtmlOrText(i)&&!cn(i)||!t.pasteImageData(r,o))&&o&&z.shouldFilterDrop(e)){var s=i["mce-internal"]||i["text/html"]||i["text/plain"];s&&(r.preventDefault(),Z.setEditorTimeout(e,function(){e.undoManager.transact(function(){i["mce-internal"]&&e.execCommand("Delete"),ln(e,o),s=ye.trimHtml(s),i["text/html"]?t.pasteHtml(s,a):t.pasteText(s)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){z.shouldPasteDataImages(e)&&!1===n.get()&&(t.preventDefault(),ln(e,un(e,t))),"dragend"===t.type&&n.set(!1)})},dn={setup:fn},pn=function(e){var t=e.plugins.paste,n=z.getPreProcess(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=z.getPostProcess(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},hn={setup:pn},mn=function(e){J.webkit&&d(e,m),J.ie&&(d(e,h),p(e,g))},gn={setup:mn},vn=function(e,t,n){var r=n.control;r.active("text"===t.pasteFormat.get()),e.on("PastePlainTextToggle",function(e){r.active(e.state)})},yn=function(e,t){var n=f(vn,e,t);e.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})},bn={register:yn};b.add("paste",function(e){if(!1===w.hasProPlugin(e)){var t=y(!1),n=y(!1),r=y(z.isPasteAsTextEnabled(e)?"text":"html"),i=Yt(e,r),o=gn.setup(e);return bn.register(e,i),G.register(e,i,t),hn.setup(e),an.register(e),dn.setup(e,i,n),k.get(i,o)}})}(window)}()}).call(t,n("DuR2"))},UZ9c:function(e,t,n){var r,i,o;!function(a){"use strict";i=[n("7t+N")],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";return e.ui=e.ui||{},e.ui.version="1.13.2"})},W2nU:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},WLoA:function(e,t,n){var r,i,o;/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(a){"use strict";i=[n("7t+N"),n("UZ9c")],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},Z3om:function(e,t){!function(){!function(e){"use strict";function t(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),i=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),o=tinymce.util.Tools.resolve("tinymce.util.VK"),a=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=function(e){return e&&3===e.nodeType},l=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},f=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},d=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},p=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},h=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},m=function(e){return e&&"BR"===e.nodeName},g=function(e){return e.parentNode.firstChild===e},v=function(e){return e.parentNode.lastChild===e},y=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},b=function(e,t){return e&&e.nodeName in t},x=function(e,t){return!!m(t)&&!(!e.isBlock(t.nextSibling)||m(t.previousSibling))},w=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},C=function(e,t){return e.isChildOf(t,e.getRoot())},k={isTextNode:c,isListNode:l,isOlUlNode:f,isDlItemNode:p,isListItemNode:d,isTableCellNode:h,isBr:m,isFirstChild:g,isLastChild:v,isTextBlock:y,isBlock:b,isBogusBr:x,isEmpty:w,isChildOfBody:C},_=function(e,t){if(k.isTextNode(e))return{container:e,offset:t};var n=r.getNode(e,t);return k.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&k.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&k.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},T=function(e){var t=e.cloneRange(),n=_(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=_(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},E={getNormalizedPoint:_,normalizeRange:T},S=u.DOM,N=function(e){var t={},n=function(n){var r,i,o;i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1===i.nodeType&&(r=S.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(o=Math.min(o,i.childNodes.length-1),n?i.insertBefore(r,i.childNodes[o]):S.insertAfter(r,i.childNodes[o])):i.appendChild(r),i=r,o=0),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},D=function(e){function t(t){var n,r,i;n=i=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,S.remove(i),!n.hasChildNodes()&&S.isBlock(n)&&n.appendChild(S.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=S.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),E.normalizeRange(n)},R={createBookmark:N,resolveBookmark:D},A=function(){},O=function(e){return function(){return e}},P=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},B=O(!1),I=O(!0),M=function(){return L},L=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:B,isSome:B,isNone:I,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:O(null),getOrUndefined:O(void 0),or:n,orThunk:t,map:M,each:A,bind:M,exists:B,forall:I,filter:M,equals:e,equals_:e,toArray:function(){return[]},toString:O("none()")};return Object.freeze&&Object.freeze(r),r}(),F=function(e){var t=O(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:I,isNone:B,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return F(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:L},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(B,function(t){return n(e,t)})}};return i},H=function(e){return null===e||void 0===e?L:F(e)},j={some:F,none:M,from:H},U=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},W=function(e){return function(t){return U(t)===e}},$=W("string"),z=W("array"),q=W("boolean"),V=W("function"),Y=W("number"),K=Array.prototype.slice,X=Array.prototype.push,G=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},J=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Z=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Q=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=t(s);u!==n&&(r.push(i),i=[]),n=u,i.push(s)}return 0!==i.length&&r.push(i),r},ee=function(e,t,n){return J(e,function(e){n=t(n,e)}),n},te=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return j.some(i)}return j.none()},ne=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!z(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},re=function(e,t){var n=G(e,t);return ne(n)},ie=function(e){var t=K.call(e,0);return t.reverse(),t},oe=function(e){return 0===e.length?j.none():j.some(e[0])},ae=function(e){return 0===e.length?j.none():j.some(e[e.length-1])},se=(V(Array.from)&&Array.from,void 0!==e.window?e.window:Function("return this;")()),ue=function(e,t){for(var n=void 0!==t&&null!==t?t:se,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},ce=function(e,t){var n=e.split(".");return ue(n,t)},le=function(e,t){return ce(e,t)},fe=function(e,t){var n=le(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},de={getOrDie:fe},pe=function(e){return de.getOrDie("HTMLElement",e)},he=function(e){var t=ce("ownerDocument.defaultView",e);return pe(t).prototype.isPrototypeOf(e)},me={isPrototypeOf:he},ge=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ve=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",_e(e,t))},ye=function(e,t){return e&&1===t.length&&t[0]===e},be=function(e){return s.grep(e.querySelectorAll("ol,ul,dl"),function(e){return k.isListNode(e)})},xe=function(e){var t=ve(e),n=e.selection.getSelectedBlocks();return ye(t,n)?be(t):s.grep(n,function(e){return k.isListNode(e)&&t!==e})},we=function(e,t){var n=s.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",_e(e,t));return n||t});return ge.unique(n)},Ce=function(e){var t=e.selection.getSelectedBlocks();return s.grep(we(e,t),function(e){return k.isListItemNode(e)})},ke=function(e){return Z(Ce(e),k.isDlItemNode)},_e=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},Te=function(e,t){var n=e.dom.getParents(t,"ol,ul",_e(e,t));return ae(n)},Ee=function(e){var t=Te(e,e.selection.getStart()),n=Z(e.selection.getSelectedBlocks(),k.isOlUlNode);return t.toArray().concat(n)},Se=function(e){var t=Ee(e);return Ne(e,t)},Ne=function(e,t){var n=G(t,function(t){return Te(e,t).getOr(t)});return ge.unique(n)},De=function(e){var t=ve(e);return me.isPrototypeOf(t)},Re={isList:De,getParentList:ve,getSelectedSubLists:xe,getSelectedListItems:Ce,getClosestListRootElm:_e,getSelectedDlItems:ke,getSelectedListRoots:Se},Ae=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Be(i.childNodes[0])},Oe=function(t,n){var r=n||e.document,i=r.createElement(t);return Be(i)},Pe=function(t,n){var r=n||e.document,i=r.createTextNode(t);return Be(i)},Be=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:O(e)}},Ie=function(e,t,n){var r=e.dom();return j.from(r.elementFromPoint(t,n)).map(Be)},Me={fromHtml:Ae,fromTag:Oe,fromText:Pe,fromDom:Be,fromPoint:Ie},Le=function(e,t,n){return e.isSome()&&t.isSome()?j.some(n(e.getOrDie(),t.getOrDie())):j.none()},Fe=function(t,n){var r=n||e.document,i=r.createDocumentFragment();return J(t,function(e){i.appendChild(e.dom())}),Me.fromDom(i)},He=Object.keys,je=function(e,t){for(var n=He(e),r=0,i=n.length;r<i;r++){var o=n[r];t(e[o],o)}},Ue=function(){return de.getOrDie("Node")},We=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},$e=function(e,t){return We(e,t,Ue().DOCUMENT_POSITION_PRECEDING)},ze=function(e,t){return We(e,t,Ue().DOCUMENT_POSITION_CONTAINED_BY)},qe={documentPositionPreceding:$e,documentPositionContainedBy:ze},Ve=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ye=function(e,t){var n=Ve(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ge(r(1),r(2))},Ke=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Xe():Ye(e,n)},Xe=function(){return Ge(0,0)},Ge=function(e,t){return{major:e,minor:t}},Je={nu:Ge,detect:Ke,unknown:Xe},Ze=function(e,t){return function(){return t===e}},Qe=function(){return et({current:void 0,version:Je.unknown()})},et=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Ze("Edge",t),isChrome:Ze("Chrome",t),isIE:Ze("IE",t),isOpera:Ze("Opera",t),isFirefox:Ze("Firefox",t),isSafari:Ze("Safari",t)}},tt={unknown:Qe,nu:et,edge:O("Edge"),chrome:O("Chrome"),ie:O("IE"),opera:O("Opera"),firefox:O("Firefox"),safari:O("Safari")},nt=function(e,t){return function(){return t===e}},rt=function(){return it({current:void 0,version:Je.unknown()})},it=function(e){var t=e.current;return{current:t,version:e.version,isWindows:nt("Windows",t),isiOS:nt("iOS",t),isAndroid:nt("Android",t),isOSX:nt("OSX",t),isLinux:nt("Linux",t),isSolaris:nt("Solaris",t),isFreeBSD:nt("FreeBSD",t)}},ot={unknown:rt,nu:it,windows:O("Windows"),ios:O("iOS"),android:O("Android"),linux:O("Linux"),osx:O("OSX"),solaris:O("Solaris"),freebsd:O("FreeBSD")},at=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,o=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||o||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:O(r),isiPhone:O(i),isTablet:O(s),isPhone:O(c),isTouch:O(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:O(l)}},st=function(e,t){var n=String(t).toLowerCase();return te(e,function(e){return e.search(n)})},ut=function(e,t){return st(e,t).map(function(e){var n=Je.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ct=function(e,t){return st(e,t).map(function(e){var n=Je.detect(e.versionRegexes,t);return{current:e.name,version:n}})},lt={detectBrowser:ut,detectOs:ct},ft=function(e,t){return-1!==e.indexOf(t)},dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pt=function(e){return function(t){return ft(t,e)}},ht=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ft(e,"edge/")&&ft(e,"chrome")&&ft(e,"safari")&&ft(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dt],search:function(e){return ft(e,"chrome")&&!ft(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ft(e,"msie")||ft(e,"trident")}},{name:"Opera",versionRegexes:[dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pt("firefox")},{name:"Safari",versionRegexes:[dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ft(e,"safari")||ft(e,"mobile/"))&&ft(e,"applewebkit")}}],mt=[{name:"Windows",search:pt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ft(e,"iphone")||ft(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:pt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pt("linux"),versionRegexes:[]},{name:"Solaris",search:pt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pt("freebsd"),versionRegexes:[]}],gt={browsers:O(ht),oses:O(mt)},vt=function(e){var t=gt.browsers(),n=gt.oses(),r=lt.detectBrowser(t,e).fold(tt.unknown,tt.nu),i=lt.detectOs(n,e).fold(ot.unknown,ot.nu);return{browser:r,os:i,deviceType:at(i,r,e)}},yt={detect:vt},bt=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}}(function(){var t=e.navigator.userAgent;return yt.detect(t)}),xt={detect:bt},wt=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Ct=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,wt),kt=function(e,t){var n=e.dom();if(n.nodeType!==Ct)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},_t=function(e,t){return e.dom()===t.dom()},Tt=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Et=function(e,t){return qe.documentPositionContainedBy(e.dom(),t.dom())},St=xt.detect().browser,Nt=St.isIE()?Et:Tt,Dt=kt,Rt=function(e){return j.from(e.dom().parentNode).map(Me.fromDom)},At=function(e){return G(e.dom().childNodes,Me.fromDom)},Ot=function(e,t){var n=e.dom().childNodes;return j.from(n[t]).map(Me.fromDom)},Pt=function(e){return Ot(e,0)},Bt=function(e){return Ot(e,e.dom().childNodes.length-1)},It=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),function(e,t){Rt(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),Mt=function(e,t){e.dom().appendChild(t.dom())},Lt=function(e,t){J(t,function(t){It(e,t)})},Ft=function(e,t){J(t,function(t){Mt(e,t)})},Ht=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},jt=function(e){return e.dom().nodeName.toLowerCase()},Ut=function(e){return e.dom().nodeType},Wt=function(e){return function(t){return Ut(t)===e}}(wt),$t=function(t,n,r){if(!($(r)||q(r)||Y(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},zt=function(e,t){var n=e.dom();je(t,function(e,t){$t(n,t,e)})},qt=function(e){return ee(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Vt=function(e){return void 0!==e.style&&V(e.style.getPropertyValue)},Yt=function(t,n,r){if(!$(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Vt(t)&&t.style.setProperty(n,r)},Kt=function(e,t,n){var r=e.dom();Yt(r,t,n)},Xt=function(e,t){return Me.fromDom(e.dom().cloneNode(t))},Gt=function(e){return Xt(e,!0)},Jt=function(e,t){var n=Me.fromTag(t),r=qt(e);return zt(n,r),n},Zt=function(e,t){var n=Jt(e,t);It(e,n);var r=At(e);return Ft(n,r),Ht(e),n},Qt=function(e,t){Mt(e.item,t.list)},en=function(e){for(var t=1;t<e.length;t++)Qt(e[t-1],e[t])},tn=function(e,t){Le(ae(e),oe(t),Qt)},nn=function(e,t){var n={list:Me.fromTag(t,e),item:Me.fromTag("li",e)};return Mt(n.list,n.item),n},rn=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(nn(e,t.listType));return r},on=function(e,t){for(var n=0;n<e.length-1;n++)Kt(e[n].item,"list-style-type","none");ae(e).each(function(e){zt(e.list,t.listAttributes),zt(e.item,t.itemAttributes),Ft(e.item,t.content)})},an=function(e,t){jt(e.list)!==t.listType&&(e.list=Zt(e.list,t.listType)),zt(e.list,t.listAttributes)},sn=function(e,t,n){var r=Me.fromTag("li",e);return zt(r,t),Ft(r,n),r},un=function(e,t){Mt(e.list,t),e.item=t},cn=function(e,t,n){var r=t.slice(0,n.depth);return ae(r).each(function(t){var r=sn(e,n.itemAttributes,n.content);un(t,r),an(t,n)}),r},ln=function(e,t,n){var r=rn(e,n,n.depth-t.length);return en(r),on(r,n),tn(t,r),t.concat(r)},fn=function(e,t){var n=ee(t,function(t,n){return n.depth>t.length?ln(e,t,n):cn(e,t,n)},[]);return oe(n).map(function(e){return e.list})},dn=function(e){return Dt(e,"OL,UL")},pn=function(e){return Pt(e).map(dn).getOr(!1)},hn=function(e){return Bt(e).map(dn).getOr(!1)},mn=function(e){return e.depth>0},gn=function(e){return e.isSelected},vn=function(e){var t=At(e),n=hn(e)?t.slice(0,-1):t;return G(n,Gt)},yn=function(e,t,n){return Rt(e).filter(Wt).map(function(r){return{depth:t,isSelected:n,content:vn(e),itemAttributes:qt(e),listAttributes:qt(r),listType:jt(r)}})},bn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},xn=Object.prototype.hasOwnProperty,wn=function(e,t){return t},Cn=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)xn.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}}(wn),kn=function(e,t){e.listType=t.listType,e.listAttributes=Cn({},t.listAttributes)},_n=function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return j.some(e[r]);if(e[r].depth<n)break}return j.none()},Tn=function(e){J(e,function(t,n){_n(e,n).each(function(e){kn(t,e)})})},En=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return En(n())}}},Sn=function(e,t,n,r){return Pt(r).filter(dn).fold(function(){t.each(function(e){_t(e.start,r)&&n.set(!0)});var i=yn(r,e,n.get());t.each(function(e){_t(e.end,r)&&n.set(!1)});var o=Bt(r).filter(dn).map(function(r){return Nn(e,t,n,r)}).getOr([]);return i.toArray().concat(o)},function(r){return Nn(e,t,n,r)})},Nn=function(e,t,n,r){return re(At(r),function(r){return(dn(r)?Nn:Sn)(e+1,t,n,r)})},Dn=function(e,t){var n=En(!1);return G(e,function(e){return{sourceList:e,entries:Nn(0,t,n,e)}})},Rn=tinymce.util.Tools.resolve("tinymce.Env"),An=function(e,t){var n,r,i,o,a=e.dom,s=e.schema.getBlockElements(),u=a.createFragment();if(e.settings.forced_root_block&&(i=e.settings.forced_root_block),i&&(r=a.create(i),r.tagName===e.settings.forced_root_block&&a.setAttribs(r,e.settings.forced_root_block_attrs),k.isBlock(t.firstChild,s)||u.appendChild(r)),t)for(;n=t.firstChild;){var c=n.nodeName;o||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),k.isBlock(n,s)?(u.appendChild(n),r=null):i?(r||(r=a.create(i),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return e.settings.forced_root_block?o||Rn.ie&&!(Rn.ie>10)||r.appendChild(a.create("br",{"data-mce-bogus":"1"})):u.appendChild(a.create("br")),u},On=function(e,t){return G(t,function(t){var n=Fe(t.content);return Me.fromDom(An(e,n.dom()))})},Pn=function(e,t){return Tn(t),fn(e.contentDocument,t).toArray()},Bn=function(e,t){return re(Q(t,mn),function(t){return oe(t).map(mn).getOr(!1)?Pn(e,t):On(e,t)})},In=function(e,t){J(Z(e,gn),function(e){return bn(t,e)})},Mn=function(e){var t=G(Re.getSelectedListItems(e),Me.fromDom);return Le(te(t,P(pn)),te(ie(t),P(pn)),function(e,t){return{start:e,end:t}})},Ln=function(e,t,n){var r=Dn(t,Mn(e));J(r,function(t){In(t.entries,n),Lt(t.sourceList,Bn(e,t.entries)),Ht(t.sourceList)})},Fn=u.DOM,Hn=function(e,t,n){var r,i,o,a,u;for(o=Fn.select('span[data-mce-type="bookmark"]',t),u=An(e,n),r=Fn.createRng(),r.setStartAfter(n),r.setEndAfter(t),i=r.extractContents(),a=i.firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&e.dom.isEmpty(a)){Fn.remove(a);break}e.dom.isEmpty(i)||Fn.insertAfter(i,t),Fn.insertAfter(u,t),k.isEmpty(e.dom,n.parentNode)&&function(e){s.each(o,function(t){e.parentNode.insertBefore(t,n.parentNode)}),Fn.remove(e)}(n.parentNode),Fn.remove(n),k.isEmpty(e.dom,t)&&Fn.remove(t)},jn={splitList:Hn},Un=function(e,t){Dt(t,"dd")?Zt(t,"dt"):Dt(t,"dt")&&Rt(t).each(function(n){return jn.splitList(e,n.dom(),t.dom())})},Wn=function(e){Dt(e,"dt")&&Zt(e,"dd")},$n=function(e,t,n){"Indent"===t?J(n,Wn):J(n,function(t){return Un(e,t)})},zn=function(e,t){var n=G(Re.getSelectedListRoots(e),Me.fromDom),r=G(Re.getSelectedDlItems(e),Me.fromDom),i=!1;if(n.length||r.length){var o=e.selection.getBookmark();Ln(e,n,t),$n(e,t,r),e.selection.moveToBookmark(o),e.selection.setRng(E.normalizeRange(e.selection.getRng())),e.nodeChanged(),i=!0}return i},qn=function(e){return zn(e,"Indent")},Vn=function(e){return zn(e,"Outdent")},Yn=function(e){return zn(e,"Flatten")},Kn=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},Xn=function(e,t){s.each(t,function(t,n){e.setAttribute(n,t)})},Gn=function(e,t,n){Xn(t,n["list-attributes"]),s.each(e.select("li",t),function(e){Xn(e,n["list-item-attributes"])})},Jn=function(e,t,n){Kn(e,t,n),Gn(e,t,n)},Zn=function(e,t,n){s.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},Qn=function(e,t,n,r){var i,o;for(i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i),!n&&k.isBr(i.nextSibling)&&(i=i.nextSibling);i.parentNode!==r;){if(k.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},er=function(e,t,n){for(var r,i=[],o=e.dom,u=Qn(e,t,!0,n),c=Qn(e,t,!1,n),l=[],f=u;f&&(l.push(f),f!==c);f=f.nextSibling);return s.each(l,function(t){if(k.isTextBlock(e,t))return i.push(t),void(r=null);if(o.isBlock(t)||k.isBr(t))return k.isBr(t)&&o.remove(t),void(r=null);var s=t.nextSibling;if(a.isBookmarkNode(t)&&(k.isTextBlock(e,s)||!s&&t.parentNode===n))return void(r=null);r||(r=o.create("p"),t.parentNode.insertBefore(r,t),i.push(r)),r.appendChild(t)}),i},tr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),i=n?n["list-style-type"]:"";return i=null===i?"":i,r===i},nr=function(e,t,n){void 0===n&&(n={});var r,i=e.selection.getRng(!0),o="LI",a=Re.getClosestListRootElm(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(o="DT"),r=R.createBookmark(i),s.each(er(e,i,a),function(r){var i,a;a=r.previousSibling,a&&k.isListNode(a)&&a.nodeName===t&&tr(u,a,n)?(i=a,r=u.rename(r,o),a.appendChild(r)):(i=u.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=u.rename(r,o)),Zn(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jn(u,i,n),sr(e.dom,i)}),e.selection.setRng(R.resolveBookmark(r)))},rr=function(e,t){return e&&t&&k.isListNode(e)&&e.nodeName===t.nodeName},ir=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},or=function(e,t){return e.className===t.className},ar=function(e,t,n){return rr(t,n)&&ir(e,t,n)&&or(t,n)},sr=function(e,t){var n,r;if(n=t.nextSibling,ar(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,ar(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},ur=function(e,t,n,r){if(t.nodeName!==n){var i=e.rename(t,n);Jn(e,i,r)}else Jn(e,t,r)},cr=function(e,t,n,r,i){if(t.nodeName!==r||lr(i)){var o=R.createBookmark(e.selection.getRng(!0));s.each([t].concat(n),function(t){ur(e.dom,t,r,i)}),e.selection.setRng(R.resolveBookmark(o))}else Yn(e)},lr=function(e){return"list-style-type"in e},fr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||lr(r)){var i=R.createBookmark(e.selection.getRng(!0));Jn(e.dom,t,r),sr(e.dom,e.dom.rename(t,n)),e.selection.setRng(R.resolveBookmark(i))}else Yn(e);else nr(e,n,r)},dr=function(e,t,n){var r=Re.getParentList(e),i=Re.getSelectedSubLists(e);n=n||{},r&&i.length>0?cr(e,r,i,t,n):fr(e,r,t,n)},pr={toggleList:dr,mergeWithAdjacentLists:sr},hr=u.DOM,mr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),k.isEmpty(e,r)&&hr.remove(r)):hr.setStyle(r,"listStyleType","none")),k.isListNode(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},gr=function(e,t){s.each(s.grep(e.select("ol,ul",t)),function(t){mr(e,t)})},vr={normalizeList:mr,normalizeLists:gr},yr=function(e,t,n,o){var a,s,u=t.startContainer,c=t.startOffset;if(3===u.nodeType&&(n?c<u.data.length:c>0))return u;for(a=e.schema.getNonEmptyElements(),1===u.nodeType&&(u=r.getNode(u,c)),s=new i(u,o),n&&k.isBogusBr(e.dom,u)&&s.next();u=s[n?"next":"prev2"]();){if("LI"===u.nodeName&&!u.hasChildNodes())return u;if(a[u.nodeName])return u;if(3===u.nodeType&&u.data.length>0)return u}},br=function(e,t){var n=t.childNodes;return 1===n.length&&!k.isListNode(n[0])&&e.isBlock(n[0])},xr=function(e,t){br(e,t)&&e.remove(t.firstChild,!0)},wr=function(e,t,n){var r,i;if(i=br(e,n)?n.firstChild:n,xr(e,t),!k.isEmpty(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)},Cr=function(e,t,n){var r,i,o=t.parentNode;if(k.isChildOfBody(e,t)&&k.isChildOfBody(e,n)){k.isListNode(n.lastChild)&&(i=n.lastChild),o===n.lastChild&&k.isBr(o.previousSibling)&&e.remove(o.previousSibling),r=n.lastChild,r&&k.isBr(r)&&t.hasChildNodes()&&e.remove(r),k.isEmpty(e,n,!0)&&e.$(n).empty(),wr(e,t,n),i&&n.appendChild(i);var a=Nt(Me.fromDom(n),Me.fromDom(t)),s=a?e.getParents(t,k.isListNode,n):[];e.remove(t),J(s,function(t){k.isEmpty(e,t)&&t!==e.getRoot()&&e.remove(t)})}},kr=function(e,t,n){e.dom.$(n).empty(),Cr(e.dom,t,n),e.selection.setCursorLocation(n)},_r=function(e,t,n,r){var i=e.dom;if(i.isEmpty(r))kr(e,n,r);else{var o=R.createBookmark(t);Cr(i,n,r),e.selection.setRng(R.resolveBookmark(o))}},Tr=function(e,t,n,r){var i=R.createBookmark(t);Cr(e.dom,n,r);var o=R.resolveBookmark(i);e.selection.setRng(o)},Er=function(e,t){var n,r,i,o=e.dom,a=e.selection,s=a.getStart(),u=Re.getClosestListRootElm(e,s),c=o.getParent(a.getStart(),"LI",u);if(c){if((n=c.parentNode)===e.getBody()&&k.isEmpty(o,n))return!0;if(r=E.normalizeRange(a.getRng(!0)),(i=o.getParent(yr(e,r,t,u),"LI",u))&&i!==c)return t?_r(e,r,i,c):Tr(e,r,c,i),!0;if(!i&&!t)return Yn(e),!0}return!1},Sr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Nr=function(e,t){var n=e.dom,r=e.selection.getStart(),i=Re.getClosestListRootElm(e,r),o=n.getParent(r,n.isBlock,i);if(o&&n.isEmpty(o)){var a=E.normalizeRange(e.selection.getRng(!0)),s=n.getParent(yr(e,a,t,i),"LI",i);if(s)return e.undoManager.transact(function(){Sr(n,o,i),pr.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},Dr=function(e,t){return Er(e,t)||Nr(e,t)},Rr=function(e){var t=e.selection.getStart(),n=Re.getClosestListRootElm(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||Re.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),vr.normalizeLists(e.dom,e.getBody())}),!0)},Ar=function(e,t){return e.selection.isCollapsed()?Dr(e,t):Rr(e)},Or=function(e){e.on("keydown",function(t){t.keyCode===o.BACKSPACE?Ar(e,!1)&&t.preventDefault():t.keyCode===o.DELETE&&Ar(e,!0)&&t.preventDefault()})},Pr={setup:Or,backspaceDelete:Ar},Br=function(e){return{backspaceDelete:function(t){Pr.backspaceDelete(e,t)}}},Ir={get:Br},Mr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},Lr=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?qn(e):"outdent"===n&&Vn(e)}),e.addCommand("InsertUnorderedList",function(t,n){pr.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){pr.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){pr.toggleList(e,"DL",n)}),e.addCommand("RemoveList",function(){Yn(e)}),e.addQueryStateHandler("InsertUnorderedList",Mr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Mr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Mr(e,"DL"))},Fr={register:Lr},Hr=function(e){return e.getParam("lists_indent_on_tab",!0)},jr={shouldIndentOnTab:Hr},Ur=function(e){e.on("keydown",function(t){t.keyCode!==o.TAB||o.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?Vn(e):qn(e))&&t.preventDefault()})})},Wr=function(e){jr.shouldIndentOnTab(e)&&Ur(e),Pr.setup(e)},$r={setup:Wr},zr=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},qr=function(e,t){return function(n){var r=n.control;e.on("NodeChange",function(e){var n=zr(e.parents,k.isTableCellNode),i=-1!==n?e.parents.slice(0,n):e.parents,o=s.grep(i,k.isListNode);r.active(o.length>0&&o[0].nodeName===t)})}},Vr=function(e){(function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==s.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:qr(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:qr(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"})},Yr={register:Vr};n.add("lists",function(e){return $r.setup(e),Yr.register(e),Fr.register(e),Ir.get(e)})}(window)}()},"ZZJ+":function(e,t,n){var r,i,o;!function(a){"use strict";i=[n("L8lI")],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";return e.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.setDefaults(e.regional.fr),e.regional.fr})},f85y:function(e,t,n){n("Z3om")},hSCs:function(e,t,n){(function(e){"format global";"deps jquery";"exports $";/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(void 0===e)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(e),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(e),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.4",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var r="prev"==e?-1:1,i=(n+r)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",u=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],l=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(e),function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"))&&t.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var u=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][u])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(e),function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",u=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(u.length){var c=u.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<u.length-1&&c++,~c||(c=0),u.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(e),function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,c=u.test(s);c&&(s=s.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var l=this.getPosition(),f=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var p=s,h=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(h);s="bottom"==s&&l.bottom+d>m.bottom?"top":"top"==s&&l.top-d<m.top?"bottom":"right"==s&&l.right+f>m.width?"left":"left"==s&&l.left-f<m.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,l,f,d);this.applyPlacement(g,s);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var u=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var l=this.getViewportAdjustedDelta(n,t,u,c);l.left?t.left+=l.left:t.top+=l.top;var f=/top|bottom/.test(n),d=f?2*l.left-i+u:2*l.top-o+c,p=f?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(d,r[0][p],f)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,u=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=t.left-o,l=t.left+o+n;c<a.left?i.left=a.left-c:l>a.width&&(i.left=a.left+a.width-l)}return i},n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(e),function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(e),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=e-r)&&"bottom";var s=null==this.affixed,u=s?i:o.top,c=s?a:t;return null!=n&&i<=n?"top":null!=r&&u+c>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=e(document.body).height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var u="affix"+(s?"-"+s:""),c=e.Event(u+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(e)}).call(t,n("7t+N"))},"m/OW":function(e,t){!function(){!function(e){"use strict";function t(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK"),i=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},o=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},a=function(e){return e.link_list},s=function(e){return"string"==typeof e.default_link_target},u=function(e){return e.default_link_target},c=function(e){return e.target_list},l=function(e,t){e.settings.target_list=t},f=function(e){return!1!==c(e)},d=function(e){return e.rel_list},p=function(e){return void 0!==d(e)},h=function(e){return e.link_class_list},m=function(e){return void 0!==h(e)},g=function(e){return!1!==e.link_title},v=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},y={assumeExternalTargets:i,hasContextToolbar:o,getLinkList:a,hasDefaultLinkTarget:s,getDefaultLinkTarget:u,getTargetList:c,setTargetList:l,shouldShowTargetList:f,getRelList:d,hasRelList:p,getLinkClassList:h,hasLinkClassList:m,shouldShowLinkTitle:g,allowUnsafeLinkTarget:v},b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.Env"),w=function(t,n){e.document.body.appendChild(t),t.dispatchEvent(n),e.document.body.removeChild(t)},C=function(t){if(!x.ie||x.ie>10){var n=e.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),w(n,r)}else{var i=e.window.open("","_blank");if(i){i.opener=null;var o=i.document;o.open(),o.write('<meta http-equiv="refresh" content="0; url='+b.DOM.encode(t)+'">'),o.close()}}},k={open:C},_=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],i=function(e){return e.filter(function(e){return-1===_.inArray(n,e)})};return r=t?function(e){return e=i(e),e.length?e.concat(n):n}(r):i(r),r.length?function(e){return _.trim(e.sort().join(" "))}(r):null},E=function(e){return e.replace(/\uFEFF/g,"")},S=function(e,t){return t=t||e.selection.getNode(),O(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},N=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return E(n)},D=function(e){return e&&"A"===e.nodeName&&e.href},R=function(e){return _.grep(e,D).length>0},A=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},O=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},P=function(e,t){return function(n){e.undoManager.transact(function(){var r=e.selection.getNode(),i=S(e,r),o={href:n.href,target:n.target?n.target:null,rel:n.rel?n.rel:null,class:n.class?n.class:null,title:n.title?n.title:null};y.hasRelList(e.settings)||!1!==y.allowUnsafeLinkTarget(e.settings)||(o.rel=T(o.rel,"_blank"===o.target)),n.href===t.href&&(t.attach(),t={}),i?(e.focus(),n.hasOwnProperty("text")&&("innerText"in i?i.innerText=n.text:i.textContent=n.text),e.dom.setAttribs(i,o),e.selection.select(i),e.undoManager.add()):O(r)?M(e,r,o):n.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",o,e.dom.encode(n.text))):e.execCommand("mceInsertLink",!1,o)})}},B=function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();O(t)?I(e,t):e.execCommand("unlink")})}},I=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))},M=function(e,t,n){var r,i;(i=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),i.parentNode.insertBefore(r,i),r.appendChild(i))},L={link:P,unlink:B,isLink:D,hasLinks:R,isOnlyTextSelected:A,getAnchorElement:S,getAnchorText:N,toggleTargetRules:T},F=tinymce.util.Tools.resolve("tinymce.util.Delay"),H=tinymce.util.Tools.resolve("tinymce.util.XHR"),j={},U=function(e,t){var n=y.getLinkList(e.settings);"string"==typeof n?H.send({url:n,success:function(n){t(e,JSON.parse(n))}}):"function"==typeof n?n(function(n){t(e,n)}):t(e,n)},W=function(e,t,n){var r=function(e,n){return n=n||[],_.each(e,function(e){var i={text:e.text||e.title};e.menu?i.menu=r(e.menu):(i.value=e.value,t&&t(i)),n.push(i)}),n};return r(e,n||[])},$=function(e,t,n){var r=e.selection.getRng();F.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})},z=function(e,t){var n,r,i,o,a,s,u,c,l,f,d,p={},h=e.selection,m=e.dom,g=function(e){var t=i.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),i.find("#href").value(e.control.value())},v=function(){r||!o||p.text||this.parent().parent().find("#text")[0].value(this.value())},b=function(t){var n=t.meta||{};s&&s.value(e.convertURL(this.value(),"href")),_.each(t.meta,function(e,t){var n=i.find("#"+t);"text"===t?0===r.length&&(n.value(e),p.text=e):n.value(e)}),n.attach&&(j={href:this.value(),attach:n.attach}),n.text||v.call(this)},x=function(e){e.meta=i.toJSON()};o=L.isOnlyTextSelected(h.getContent()),n=L.getAnchorElement(e),p.text=r=L.getAnchorText(e.selection,n),p.href=n?m.getAttrib(n,"href"):"",n?p.target=m.getAttrib(n,"target"):y.hasDefaultLinkTarget(e.settings)&&(p.target=y.getDefaultLinkTarget(e.settings)),(d=m.getAttrib(n,"rel"))&&(p.rel=d),(d=m.getAttrib(n,"class"))&&(p.class=d),(d=m.getAttrib(n,"title"))&&(p.title=d),o&&(a={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){p.text=this.value()}}),t&&(s={type:"listbox",label:"Link list",values:W(t,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:g,value:e.convertURL(p.href,"href"),onPostRender:function(){s=this}}),y.shouldShowTargetList(e.settings)&&(void 0===y.getTargetList(e.settings)&&y.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:W(y.getTargetList(e.settings))}),y.hasRelList(e.settings)&&(u={name:"rel",type:"listbox",label:"Rel",values:W(y.getRelList(e.settings),function(t){!1===y.allowUnsafeLinkTarget(e.settings)&&(t.value=L.toggleTargetRules(t.value,"_blank"===p.target))})}),y.hasLinkClassList(e.settings)&&(l={name:"class",type:"listbox",label:"Class",values:W(y.getLinkClassList(e.settings),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),y.shouldShowLinkTitle(e.settings)&&(f={name:"title",type:"textbox",label:"Title",value:p.title}),i=e.windowManager.open({title:"Insert link",data:p,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:b,onkeyup:v,onpaste:v,onbeforecall:x},a,f,function(t){var n=[];if(_.each(e.dom.select("a:not([href])"),function(e){var r=e.name||e.id;r&&n.push({text:r,value:"#"+r,selected:-1!==t.indexOf("#"+r)})}),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:g}}(p.href),s,u,c,l],onSubmit:function(t){var n=y.assumeExternalTargets(e.settings),i=L.link(e,j),a=L.unlink(e),s=_.extend({},p,t.data),u=s.href;return u?(o&&s.text!==r||delete s.text,u.indexOf("@")>0&&-1===u.indexOf("//")&&-1===u.indexOf("mailto:")?void $(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(s.href="mailto:"+u),i(s)}):!0===n&&!/^\w+:/i.test(u)||!1===n&&/^\s*www[\.|\d\.]/i.test(u)?void $(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(s.href="http://"+u),i(s)}):void i(s)):void a()}})},q=function(e){U(e,z)},V={open:q},Y=function(e,t){return e.dom.getParent(t,"a[href]")},K=function(e){return Y(e,e.selection.getStart())},X=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},G=function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()},J=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},Z=function(e,t){if(t){var n=X(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else k.open(t.href)}},Q=function(e){return function(){V.open(e)}},ee=function(e){return function(){Z(e,K(e))}},te=function(e){return function(t){var n,r,i;return!!(y.hasContextToolbar(e.settings)&&!G(e)&&L.isLink(t)&&(n=e.selection,r=n.getRng(),i=r.startContainer,3===i.nodeType&&n.isCollapsed()&&r.startOffset>0&&r.startOffset<i.data.length))}},ne=function(e){e.on("click",function(t){var n=Y(e,t.target);n&&r.metaKeyPressed(t)&&(t.preventDefault(),Z(e,n))}),e.on("keydown",function(t){var n=K(e);n&&13===t.keyCode&&J(t)&&(t.preventDefault(),Z(e,n))})},re=function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!L.getAnchorElement(e,n.element))})}},ie=function(e){return function(){var t=this,n=function(e){L.hasLinks(e.parents)?t.show():t.hide()};L.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}},oe={openDialog:Q,gotoSelectedLink:ee,leftClickedOnAHref:te,setupGotoLinks:ne,toggleActiveState:re,toggleViewLinkState:ie},ae=function(e){e.addCommand("mceLink",oe.openDialog(e))},se={register:ae},ue=function(e){e.addShortcut("Meta+K","",oe.openDialog(e))},ce={setup:ue},le=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:oe.openDialog(e),onpostrender:oe.toggleActiveState(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:L.unlink(e),onpostrender:oe.toggleActiveState(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:oe.gotoSelectedLink(e)})},fe=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:oe.gotoSelectedLink(e),onPostRender:oe.toggleViewLinkState(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:oe.openDialog(e),stateSelector:"a[href]",context:"insert",prependToContext:!0}),e.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:L.unlink(e),stateSelector:"a[href]"})},de=function(e){e.addContextToolbar&&e.addContextToolbar(oe.leftClickedOnAHref(e),"openlink | link unlink")},pe={setupButtons:le,setupMenuItems:fe,setupContextToolbars:de};n.add("link",function(e){pe.setupButtons(e),pe.setupMenuItems(e),pe.setupContextToolbars(e),oe.setupGotoLinks(e),se.register(e),ce.setup(e)})}(window)}()},mypn:function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n("DuR2"),n("W2nU"))},o5MN:function(e,t){!function(){!function(e){"use strict";function t(t,n,r){var i,o,a,s,u,c,l,f,d,p;return d=$t(),o=Ht.getPos(n,Se.getUiContainer(t)),a=o.x,s=o.y,Ut(t)&&jt(e.document.body)&&(a-=d.x,s-=d.y),i=t.getEl(),p=Ht.getSize(i),u=p.width,c=p.height,p=Ht.getSize(n),l=p.width,f=p.height,r=(r||"").split(""),"b"===r[0]&&(s+=f),"r"===r[1]&&(a+=l),"c"===r[0]&&(s+=Math.round(f/2)),"c"===r[1]&&(a+=Math.round(l/2)),"b"===r[3]&&(s-=c),"r"===r[4]&&(a-=u),"c"===r[3]&&(s-=Math.round(c/2)),"c"===r[4]&&(a-=Math.round(u/2)),{x:a,y:s,w:u,h:c}}function n(){}function r(e){this.cls=[],this.cls._map={},this.onchange=e||n,this.prefix=""}function i(e){for(var t,n=[],r=e.length;r--;)t=e[r],t.__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}function o(e){return e.nodeType>0}function a(e,t){var n,r;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(I.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!a(e[n],t[n]))return!1}if(o(e)||o(t))return e===t;r={};for(n in t){if(!a(e[n],t[n]))return!1;r[n]=!0}for(n in e)if(!r[n]&&!a(e[n],t[n]))return!1;return!0}function s(e){return e._eventDispatcher||(e._eventDispatcher=new Yt({scope:e,toggleEvent:function(t,n){n&&Yt.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&u(e))}})),e._eventDispatcher}function u(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n,r,i,o=e.getParentCtrl(t.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,r=o.parents().toArray().reverse(),r.push(o),a){for(i=a.parents().toArray().reverse(),i.push(a),s=0;s<i.length&&r[s]===i[s];s++);for(n=i.length-1;n>=s;n--)a=i[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<r.length;n++)o=r[n],o.fire("mouseenter",{target:o.getEl()})}}function i(t){t.preventDefault(),"mousewheel"===t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,a,s,u,c,l;if(c=e._nativeEvents){for(s=e.parents().toArray(),s.unshift(e),o=0,a=s.length;!u&&o<a;o++)u=s[o]._eventsRoot;for(u||(u=s[s.length-1]||e),e._eventsRoot=u,a=o,o=0;o<a;o++)s[o]._eventsRoot=u;var f=u._delegates;f||(f=u._delegates={});for(l in c){if(!c)return!1;"wheel"!==l||hn?("mouseenter"===l||"mouseleave"===l?u._hasMouseEnter||(Lt(u.getEl()).on("mouseleave",n).on("mouseover",r),u._hasMouseEnter=1):f[l]||(Lt(u.getEl()).on(l,t),f[l]=!0),c[l]=!1):pn?Lt(e.getEl()).on("mousewheel",i):Lt(e.getEl()).on("DOMMouseScroll",i)}}}function c(t){function n(e){return e&&1===e.nodeType}function r(e){return e=e||x,n(e)?e.getAttribute("role"):null}function i(e){for(var t,n=e||x;n=n.parentNode;)if(t=r(n))return t}function o(e){var t=x;if(n(t))return t.getAttribute("aria-"+e)}function a(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function s(e){return!(!a(e)||e.hidden)||(!!Cn(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(r(e)))}function u(e){function t(e){if(1===e.nodeType&&"none"!==e.style.display&&!e.disabled){s(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||C.getEl()),n}function c(e){var t,n;e=e||w,n=e.parents().toArray(),n.unshift(e);for(var r=0;r<n.length&&(t=n[r],!t.settings.ariaRoot);r++);return t}function l(e){var t=c(e),n=u(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?f(t.lastAriaIndex,n):f(0,n)}function f(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=c();t=t||u(r.getEl());for(var i=0;i<t.length;i++)t[i]===x&&(n=i);n+=e,r.lastAriaIndex=f(n,t)}function p(){"tablist"===i()?d(-1,u(x.parentNode)):w.parent().submenu?y():d(-1)}function h(){var e=r(),t=i();"tablist"===t?d(1,u(x.parentNode)):"menuitem"===e&&"menu"===t&&o("haspopup")?b():d(1)}function m(){d(-1)}function g(){var e=r(),t=i();"menuitem"===e&&"menubar"===t?b():"button"===e&&o("haspopup")?b({key:"down"}):d(1)}function v(e){if("tablist"===i()){var t=u(w.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}function y(){w.fire("cancel")}function b(e){e=e||{},w.fire("click",{target:x,aria:e})}var x,w,C=t.root;try{x=e.document.activeElement}catch(t){x=e.document.body}return w=C.getParentCtrl(x),C.on("keydown",function(e){function t(e,t){a(x)||Cn(x)||"slider"!==r(x)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,p);break;case 39:t(e,h);break;case 38:t(e,m);break;case 40:t(e,g);break;case 27:y();break;case 14:case 13:case 32:t(e,b);break;case 9:v(e),e.preventDefault()}}),C.on("focusin",function(e){x=e.target,w=e.control}),{focusFirst:l}}function l(e){var t,n,r,i,o,a,s,u,c=Math.max;return t=e.documentElement,n=e.body,r=c(t.scrollWidth,n.scrollWidth),i=c(t.clientWidth,n.clientWidth),o=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),u=c(t.offsetHeight,n.offsetHeight),{width:r<o?i:r,height:a<u?s:a}}function f(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function d(t,n){var r,i,o,a,s,u,c,d=n.document||e.document;n=n||{};var p=d.getElementById(n.handle||t);o=function(t){var o,h,m=l(d);f(t),t.preventDefault(),i=t.button,o=p,u=t.screenX,c=t.screenY,h=e.window.getComputedStyle?e.window.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,r=Lt("<div></div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:h}).appendTo(d.body),Lt(d).on("mousemove touchmove",s).on("mouseup touchend",a),n.start(t)},s=function(e){if(f(e),e.button!==i)return a(e);e.deltaX=e.screenX-u,e.deltaY=e.screenY-c,e.preventDefault(),n.drag(e)},a=function(e){f(e),Lt(d).off("mousemove touchmove",s).off("mouseup touchend",a),r.remove(),n.stop&&n.stop(e)},this.destroy=function(){Lt(p).off()},Lt(p).on("mousedown touchstart",o)}function p(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function h(e){for(var t=Nn.length;t--;){var n=Nn[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(p(r,n)||n.parent()===r))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function m(){vn||(vn=function(e){2!==e.button&&h(e)},Lt(e.document).on("click touchstart",vn))}function g(){yn||(yn=function(){var e;for(e=Nn.length;e--;)y(Nn[e])},Lt(e.window).on("scroll",yn))}function v(){if(!bn){var t=e.document.documentElement,n=t.clientWidth,r=t.clientHeight;bn=function(){e.document.all&&n===t.clientWidth&&r===t.clientHeight||(n=t.clientWidth,r=t.clientHeight,Rn.hideAll())},Lt(e.window).on("resize",bn)}}function y(e){function t(t,n){for(var r,i=0;i<Nn.length;i++)if(Nn[i]!==e)for(r=Nn[i].parent();r&&(r=r.parent());)r===e&&Nn[i].fixed(t).moveBy(0,n).repaint()}var n=Ht.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function b(e,t){var n,r,i=Rn.zIndex||65535;if(e)Dn.push(t);else for(n=Dn.length;n--;)Dn[n]===t&&Dn.splice(n,1);if(Dn.length)for(n=0;n<Dn.length;n++)Dn[n].modal&&(i++,r=Dn[n]),Dn[n].getEl().style.zIndex=i,Dn[n].zIndex=i,i++;var o=Lt("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?Lt(o).css("z-index",r.zIndex-1):o&&(o.parentNode.removeChild(o),xn=!1),Rn.currentZIndex=i}function x(e){var t;for(t=Nn.length;t--;)Nn[t]===e&&Nn.splice(t,1);for(t=Dn.length;t--;)Dn[t]===e&&Dn.splice(t,1)}function w(e,t){var n,r,i=this,o=wn.classPrefix;i.show=function(a,s){function u(){n&&(Lt(e).append('<div class="'+o+"throbber"+(t?" "+o+"throbber-inline":"")+'"></div>'),s&&s())}return i.hide(),n=!0,a?r=pe.setTimeout(u,a):u(),i},i.hide=function(){var t=e.lastChild;return pe.clearTimeout(r),t&&-1!==t.className.indexOf("throbber")&&t.parentNode.removeChild(t),n=!1,i}}function C(e){var t=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},n=function(){var n=t(e);return Ht.getSize(n).width},r=function(e){Je(e,function(e){e.moveTo(0,0)})},i=function(n){if(n.length>0){var r=n.slice(0,1)[0],i=t(e);r.moveRel(i,"tc-tc"),Je(n,function(e,t){t>0&&e.moveRel(n[t-1].getEl(),"bc-tc")})}},o=function(e){r(e),i(e)};return{open:function(e,t){var r=I.extend(e,{maxWidth:n()}),i=new Wn(r);return i.args=r,r.timeout>0&&(i.timer=setTimeout(function(){i.close(),t()},r.timeout)),i.on("close",function(){t()}),i.renderTo(),i},close:function(e){e.close()},reposition:o,getArgs:function(e){return e.args}}}function k(t){var n,r=Lt("meta[name=viewport]")[0];!1!==yt.overrideViewPort&&(r||(r=e.document.createElement("meta"),r.setAttribute("name","viewport"),e.document.getElementsByTagName("head")[0].appendChild(r)),n=r.getAttribute("content"),n&&void 0!==zn&&(zn=n),r.setAttribute("content",t?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":zn))}function _(t,n){T()&&!1===n&&Lt([e.document.documentElement,e.document.body]).removeClass(t+"fullscreen")}function T(){for(var e=0;e<$n.length;e++)if($n[e]._fullscreen)return!0;return!1}function E(t){return{open:function(t,n,r){var i;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new qn(t),i.on("close",function(){r(i)}),t.data&&i.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),i.features=t||{},i.params=n||{},i=i.renderTo(e.document.body).reflow()},alert:function(e,t,n){var r;return r=Vn.alert(e,function(){t()}),r.on("close",function(){n(r)}),r},confirm:function(e,t,n){var r;return r=Vn.confirm(e,function(e){t(e)}),r.on("close",function(){n(r)}),r},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}function S(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function N(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}function D(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function R(e,t,n){e.setAttribute("aria-"+t,n)}function A(e,t){var n,r,i,o,a,s;"v"===e.settings.orientation?(o="top",i="height",r="h"):(o="left",i="width",r="w"),s=e.getEl("handle"),n=(e.layoutRect()[r]||100)-Ht.getSize(s)[i],a=n*((t-e._minValue)/(e._maxValue-e._minValue))+"px",s.style[o]=a,s.style.height=e.layoutRect().h+"px",R(s,"valuenow",t),R(s,"valuetext",""+e.settings.previewFilter(t)),R(s,"valuemin",e._minValue),R(s,"valuemax",e._maxValue)}function O(){}var P=tinymce.util.Tools.resolve("tinymce.ThemeManager"),B=tinymce.util.Tools.resolve("tinymce.EditorManager"),I=tinymce.util.Tools.resolve("tinymce.util.Tools"),M=function(e){return e.getParam("branding",!0,"boolean")},L=function(e){return!1!==F(e)},F=function(e){return e.getParam("menubar")},H=function(e){return e.getParam("statusbar",!0,"boolean")},j=function(e){return e.getParam("toolbar_items_size")},U=function(e){return e.getParam("readonly",!1,"boolean")},W=function(e){return e.getParam("fixed_toolbar_container")},$=function(e){return e.getParam("inline_toolbar_position_handler")},z=function(e){return e.getParam("menu")},q=function(e){return e.getParam("removed_menuitems","")},V=function(e){return e.getParam("min_width",100,"number")},Y=function(e){return e.getParam("min_height",100,"number")},K=function(e){return e.getParam("max_width",65535,"number")},X=function(e){return e.getParam("max_height",65535,"number")},G=function(e){return!1===e.settings.skin},J=function(e){return e.getParam("inline",!1,"boolean")},Z=function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},Q=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var i=n||"lightgray";r=r?e.documentBaseURI.toAbsolute(r):B.baseURL+"/skins/"+i}return r},ee=function(e,t){for(var n=[],r=1;r<10;r++){var i=e["toolbar"+r];if(!i)break;n.push(i)}var o=e.toolbar?[e.toolbar]:[t];return n.length>0?n:o},te=function(e){var t=e.getParam("toolbar");return!1===t?[]:I.isArray(t)?I.grep(t,function(e){return e.length>0}):ee(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")},ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),re=tinymce.util.Tools.resolve("tinymce.ui.Factory"),ie=tinymce.util.Tools.resolve("tinymce.util.I18n"),oe=function(e){return e.fire("SkinLoaded")},ae=function(e){return e.fire("ResizeEditor")},se=function(e){return e.fire("BeforeRenderUI")},ue={fireSkinLoaded:oe,fireResizeEditor:ae,fireBeforeRenderUI:se},ce=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},le=function(e,t){e.shortcuts.add("Alt+F9","",ce(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",ce(t,"toolbar")),e.shortcuts.add("Alt+F11","",ce(t,"elementpath")),t.on("cancel",function(){e.focus()})},fe={addKeys:le},de=tinymce.util.Tools.resolve("tinymce.geom.Rect"),pe=tinymce.util.Tools.resolve("tinymce.util.Delay"),he=function(){},me=function(e){return function(){return e}},ge=me(!1),ve=me(!0),ye=function(){return be},be=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:ge,isSome:ge,isNone:ve,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:me(null),getOrUndefined:me(void 0),or:n,orThunk:t,map:ye,each:he,bind:ye,exists:ge,forall:ve,filter:ye,equals:e,equals_:e,toArray:function(){return[]},toString:me("none()")};return Object.freeze&&Object.freeze(r),r}(),xe=function(e){var t=me(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:ve,isNone:ge,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return xe(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:be},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ge,function(t){return n(e,t)})}};return i},we=function(e){return null===e||void 0===e?be:xe(e)},Ce={some:xe,none:ye,from:we},ke=function(e){var t=Te(e);if(t&&"static"!==ne.DOM.getStyle(t,"position",!0)){var n=ne.DOM.getPos(t),r=t.scrollLeft-n.x,i=t.scrollTop-n.y;return Ce.some({x:r,y:i})}return Ce.none()},_e=function(e,t){var n=ne.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},Te=function(e){return e?e.getRoot().uiContainer:null},Ee=function(e,t){return t.uiContainer=Te(e)},Se={getUiContainerDelta:ke,setUiContainer:_e,getUiContainer:Te,inheritUiContainer:Ee},Ne=function(e,t,n){var r,i=[];if(t)return I.each(t.split(/[ ,]/),function(t){var o,a=function(){var n=e.selection;t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?r=null:(r||(r={type:"buttongroup",items:[]},i.push(r)),e.buttons[t]&&(o=t,t=e.buttons[o],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=re.create(t),r.items.push(t),e.initialized?a():e.on("init",a)))}),{type:"toolbar",layout:"flow",items:i}},De=function(e,t){var n=[],r=function(r){r&&n.push(Ne(e,r,t))};if(I.each(te(e),function(e){r(e)}),n.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}},Re={createToolbar:Ne,createToolbars:De},Ae=ne.DOM,Oe=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},Pe=function(e){I.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},Be=function(e,t){e.moveTo(t.left,t.top)},Ie=function(e,t,n){t=t?t.substr(0,2):"",I.each({t:"down",b:"up"},function(r,i){e.classes.toggle("arrow-"+r,n(i,t.substr(0,1)))}),I.each({l:"left",r:"right"},function(r,i){e.classes.toggle("arrow-"+r,n(i,t.substr(1,1)))})},Me=function(e,t,n,r,i,o){return o=Oe({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:Oe(r),contentAreaRect:Oe(i),panelRect:o})),o},Le=function(e){var t,n=function(){return e.contextToolbars||[]},r=function(t){var n,r,i;return n=Ae.getPos(e.getContentAreaContainer()),r=e.dom.getRect(t),i=e.dom.getRoot(),"BODY"===i.nodeName&&(r.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,r.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),r.x+=n.x,r.y+=n.y,r},i=function(t,n){var i,o,a,s,u,c,l,f,d=$(e);if(!e.removed){if(!t||!t.toolbar.panel)return void Pe(e);l=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],u=t.toolbar.panel,n&&u.show(),a=r(t.element),o=Ae.getRect(u.getEl()),s=Ae.getRect(e.getContentAreaContainer()||e.getBody());var p=Se.getUiContainerDelta(u).getOr({x:0,y:0});if(a.x+=p.x,a.y+=p.y,o.x+=p.x,o.y+=p.y,s.x+=p.x,s.y+=p.y,f=25,"inline"!==Ae.getStyle(t.element,"display",!0)){var h=t.element.getBoundingClientRect();a.w=h.width,a.h=h.height}e.inline||(s.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&a.w<f&&(a=de.inflate(a,0,8)),i=de.findBestRelativePosition(o,a,s,l),a=de.clamp(a,s),i?(c=de.relativePosition(o,a,i),Be(u,Me(d,c.x,c.y,a,s,o))):(s.h+=o.h,a=de.intersect(s,a),a?(i=de.findBestRelativePosition(o,a,s,["bc-tc","bl-tl","br-tr"]),i?(c=de.relativePosition(o,a,i),Be(u,Me(d,c.x,c.y,a,s,o))):Be(u,Me(d,a.x,a.y,a,s,o))):u.hide()),Ie(u,i,function(e,t){return e===t})}},o=function(t){return function(){var n=function(){e.selection&&i(c(e.selection.getNode()),t)};pe.requestAnimationFrame(n)}},a=function(n){if(!t){var r=o(!0),i=Se.getUiContainer(n);t=e.selection.getScrollContainer()||e.getWin(),Ae.bind(t,"scroll",r),Ae.bind(i,"scroll",r),e.on("remove",function(){Ae.unbind(t,"scroll",r),Ae.unbind(i,"scroll",r)})}},s=function(t){var n;if(t.toolbar.panel)return t.toolbar.panel.show(),void i(t);n=re.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Re.createToolbar(e,t.toolbar.items),oncancel:function(){e.focus()}}),Se.setUiContainer(e,n),a(n),t.toolbar.panel=n,n.renderTo().reflow(),i(t)},u=function(){I.each(n(),function(e){e.panel&&e.panel.hide()})},c=function(t){var r,i,o,a=n();for(o=e.$(t).parents().add(t),r=o.length-1;r>=0;r--)for(i=a.length-1;i>=0;i--)if(a[i].predicate(o[r]))return{toolbar:a[i],element:o[r]};return null};e.on("click keyup setContent ObjectResized",function(t){("setcontent"!==t.type||t.selection)&&pe.setEditorTimeout(e,function(){var t;t=c(e.selection.getNode()),t?(u(),s(t)):u()})}),e.on("blur hide contextmenu",u),e.on("ObjectResizeStart",function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("ResizeEditor ResizeWindow",o(!0)),e.on("nodeChange",o(!1)),e.on("remove",function(){I.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+F9","",function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()})},Fe={addContextualToolbars:Le},He=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},je=function(e){return function(t){return He(t)===e}},Ue=je("array"),We=je("function"),$e=je("number"),ze=Array.prototype.slice,qe=Array.prototype.indexOf,Ve=Array.prototype.push,Ye=function(e,t){return qe.call(e,t)},Ke=function(e,t){var n=Ye(e,t);return-1===n?Ce.none():Ce.some(n)},Xe=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Ge=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},Je=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ze=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Qe=function(e,t,n){return Je(e,function(e){n=t(n,e)}),n},et=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return Ce.some(i)}return Ce.none()},tt=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return Ce.some(n)}return Ce.none()},nt=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Ue(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ve.apply(t,e[n])}return t},rt=(We(Array.from)&&Array.from,{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),it=function(){return{name:"|",item:{text:"|"}}},ot=function(e,t){var n=t?{name:e,item:t}:null;return"|"===e?it():n},at=function(e,t){return tt(e,function(e){return e.name===t}).isSome()},st=function(e){return e&&"|"===e.item.text},ut=function(e,t){var n=Ze(e,function(e){return!1===t.hasOwnProperty(e.name)}),r=Ze(n,function(e,t){return!st(e)||!st(n[t-1])});return Ze(r,function(e,t){return!st(e)||t>0&&t<r.length-1})},ct=function(e,t,n,r){var i,o,a,s;return t?(o=t[r],s=!0):o=rt[r],o&&(i={text:o.title},a=[],I.each((o.items||"").split(/[ ,]/),function(t){var n=ot(t,e[t]);n&&a.push(n)}),s||I.each(e,function(e,t){e.context!==r||at(a,t)||("before"===e.separator&&a.push(it()),e.prependToContext?a.unshift(ot(t,e)):a.push(ot(t,e)),"after"===e.separator&&a.push(it()))}),i.menu=Ge(ut(a,n),function(e){return e.item}),!i.menu.length)?null:i},lt=function(e){var t,n=[],r=z(e);if(r)for(t in r)n.push(t);else for(t in rt)n.push(t);return n},ft=function(e){for(var t=[],n=lt(e),r=I.makeMap(q(e).split(/[ ,]/)),i=F(e),o="string"==typeof i?i.split(/[ ,]/):n,a=0;a<o.length;a++){var s=o[a],u=ct(e.menuItems,z(e),r,s);u&&t.push(u)}return t},dt={createMenuButtons:ft},pt=ne.DOM,ht=function(e){return{width:e.clientWidth,height:e.clientHeight}},mt=function(e,t,n){var r,i,o,a;r=e.getContainer(),i=e.getContentAreaContainer().firstChild,o=ht(r),a=ht(i),null!==t&&(t=Math.max(V(e),t),t=Math.min(K(e),t),pt.setStyle(r,"width",t+(o.width-a.width)),pt.setStyle(i,"width",t)),n=Math.max(Y(e),n),n=Math.min(X(e),n),pt.setStyle(i,"height",n),ue.fireResizeEditor(e)},gt=function(e,t,n){var r=e.getContentAreaContainer();mt(e,r.clientWidth+t,r.clientHeight+n)},vt={resizeTo:mt,resizeBy:gt},yt=tinymce.util.Tools.resolve("tinymce.Env"),bt=function(e){return{element:function(){return e}}},xt=function(e,t,n){var r=e.settings[n];r&&r(bt(t.getEl("body")))},wt=function(e,t,n){I.each(n,function(n){var r=t.items().filter("#"+n.name)[0];r&&r.visible()&&n.name!==e&&(xt(n,r,"onhide"),r.visible(!1))})},Ct=function(e){e.items().each(function(e){e.active(!1)})},kt=function(e,t){return I.grep(e,function(e){return e.name===t})[0]},_t=function(e,t,n){return function(r){var i=r.control,o=i.parents().filter("panel")[0],a=o.find("#"+t)[0],s=kt(n,t);wt(t,o,n),Ct(i.parent()),a&&a.visible()?(xt(s,a,"onhide"),a.hide(),i.active(!1)):(a?(a.show(),xt(s,a,"onshow")):(a=re.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),o.prepend(a),xt(s,a,"onrender"),xt(s,a,"onshow")),i.active(!0)),ue.fireResizeEditor(e)}},Tt=function(){return!yt.ie||yt.ie>=11},Et=function(e){return!(!Tt()||!e.sidebars)&&e.sidebars.length>0},St=function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:I.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:_t(e,t.name,e.sidebars)}})}]}},Nt={hasSidebar:Et,createSidebar:St},Dt=function(e){var t=function(){e._skinLoaded=!0,ue.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},Rt={fireSkinLoaded:Dt},At=ne.DOM,Ot=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},Pt=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},Bt=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[Pt("0"),Nt.createSidebar(e)]}},It=function(e,t,n){var r,i,o;if(!1===G(e)&&n.skinUiCss?At.styleSheetLoader.load(n.skinUiCss,Rt.fireSkinLoaded(e)):Rt.fireSkinLoaded(e)(),r=t.panel=re.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===L(e)?null:{type:"menubar",border:"0 0 1 0",items:dt.createMenuButtons(e)},Re.createToolbars(e,j(e))]},Nt.hasSidebar(e)?Bt(e):Pt("1 0 0 0")]}),Se.setUiContainer(e,r),"none"!==Z(e)&&(i={type:"resizehandle",direction:Z(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;o={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===Z(e)?vt.resizeTo(e,o.width+t.deltaX,o.height+t.deltaY):vt.resizeTo(e,null,o.height+t.deltaY)}}),H(e)){var a=ie.translate(["Powered by {0}",'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>']),s=M(e)?{type:"label",classes:"branding",html:" "+a}:null;r.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},i,s]})}return ue.fireBeforeRenderUI(e),e.on("SwitchMode",Ot(r)),r.renderBefore(n.targetNode).reflow(),U(e)&&e.setMode("readonly"),n.width&&At.setStyle(r.getEl(),"width",n.width),e.on("remove",function(){r.remove(),r=null}),fe.addKeys(e,r),Fe.addContextualToolbars(e),{iframeContainer:r.find("#iframe")[0].getEl(),editorContainer:r.getEl()}},Mt={render:It},Lt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ft=0,Ht={id:function(){return"mceu_"+Ft++},create:function(t,n,r){var i=e.document.createElement(t);return ne.DOM.setAttribs(i,n),"string"==typeof r?i.innerHTML=r:I.each(r,function(e){e.nodeType&&i.appendChild(e)}),i},createFragment:function(e){return ne.DOM.createFragment(e)},getWindowSize:function(){return ne.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return ne.DOM.getPos(e,t||Ht.getContainer())},getContainer:function(){return yt.container?yt.container:e.document.body},getViewPort:function(e){return ne.DOM.getViewPort(e)},get:function(t){return e.document.getElementById(t)},addClass:function(e,t){return ne.DOM.addClass(e,t)},removeClass:function(e,t){return ne.DOM.removeClass(e,t)},hasClass:function(e,t){return ne.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return ne.DOM.toggleClass(e,t,n)},css:function(e,t,n){return ne.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return ne.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return ne.DOM.bind(e,t,n,r)},off:function(e,t,n){return ne.DOM.unbind(e,t,n)},fire:function(e,t,n){return ne.DOM.fire(e,t,n)},innerHtml:function(e,t){ne.DOM.setHTML(e,t)}},jt=function(e){return"static"===Ht.getRuntimeStyle(e,"position")},Ut=function(e){return e.state.get("fixed")},Wt=function(e){return{x:0,y:0,w:e.scrollWidth-1,h:e.scrollHeight-1}},$t=function(){var t=e.window;return{x:Math.max(t.pageXOffset,e.document.body.scrollLeft,e.document.documentElement.scrollLeft),y:Math.max(t.pageYOffset,e.document.body.scrollTop,e.document.documentElement.scrollTop),w:t.innerWidth||e.document.documentElement.clientWidth,h:t.innerHeight||e.document.documentElement.clientHeight}},zt=function(e){var t=Se.getUiContainer(e);return t&&!Ut(e)?Wt(t):$t()},qt={testMoveRel:function(e,n){for(var r=zt(this),i=0;i<n.length;i++){var o=t(this,e,n[i]);if(Ut(this)){if(o.x>0&&o.x+o.w<r.w&&o.y>0&&o.y+o.h<r.h)return n[i]}else if(o.x>r.x&&o.x+o.w<r.w+r.x&&o.y>r.y&&o.y+o.h<r.h+r.y)return n[i]}return n[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var r=this;if(r.settings.constrainToViewport){var i=zt(this),o=r.layoutRect();e=n(e,i.w+i.x,o.w),t=n(t,i.h+i.y,o.h)}var a=Se.getUiContainer(r);return a&&jt(a)&&!Ut(r)&&(e-=a.scrollLeft,t-=a.scrollTop),a&&(e+=1,t+=1),r.state.get("rendered")?r.layoutRect({x:e,y:t}).repaint():(r.settings.x=e,r.settings.y=t),r.fire("move",{x:e,y:t}),r}},Vt=tinymce.util.Tools.resolve("tinymce.util.Class"),Yt=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Kt={parseBox:function(e){var t;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=e.ownerDocument.defaultView;if(n){var r=n.getComputedStyle(e,null);return r?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),r.getPropertyValue(t)):null}return e.currentStyle[t]}function r(e){var t=parseFloat(n(e));return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}};I.extend(r.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),r.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Xt,Gt,Jt,Zt=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,Qt=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,en=/^\s*|\s*$/g,tn=Vt.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function n(e){if(e)return function(t){return t._name===e}}function r(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function i(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!==n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}function o(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=s(e[1],[]),function(e){return!u(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function a(e,a,s){function u(e){e&&a.push(e)}var c;return c=Zt.exec(e.replace(en,"")),u(t(c[1])),u(n(c[2])),u(r(c[3])),u(i(c[4],c[5],c[6])),u(o(c[7])),a.pseudo=!!c[7],a.direct=s,a}function s(e,t){var n,r,i,o=[];do{if(Qt.exec(""),(r=Qt.exec(e))&&(e=r[3],o.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&s(n,t),e=[],i=0;i<o.length;i++)">"!==o[i]&&e.push(a(o[i],[],">"===o[i-1]));return t.push(e),t}var u=this.match;this._selectors=s(e,[])},match:function(e,t){var n,r,i,o,a,s,u,c,l,f,d,p,h;for(t=t||this._selectors,n=0,r=t.length;n<r;n++){for(a=t[n],o=a.length,h=e,p=0,i=o-1;i>=0;i--)for(c=a[i];h;){if(c.pseudo)for(d=h.parent().items(),l=f=d.length;l--&&d[l]!==h;);for(s=0,u=c.length;s<u;s++)if(!c[s](h,l,f)){s=u+1;break}if(s===u){p++;break}if(i===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function t(e,n,r){var i,a,s,u,c,l=n[r];for(i=0,a=e.length;i<a;i++){for(c=e[i],s=0,u=l.length;s<u;s++)if(!l[s](c,i,a)){s=u+1;break}if(s===u)r===n.length-1?o.push(c):c.items&&t(c.items(),n,r+1);else if(l.direct)return;c.items&&t(c.items(),n,r)}}var n,r,o=[],a=this._selectors;if(e.items){for(n=0,r=a.length;n<r;n++)t(e.items(),a[n],0);r>1&&(o=i(o))}return Xt||(Xt=tn.Collection),new Xt(o)}}),nn=Array.prototype.push,rn=Array.prototype.slice;Jt={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return I.isArray(e)?nn.apply(t,e):e instanceof Gt?t.add(e.toArray()):nn.call(t,e),t},set:function(e){var t,n=this,r=n.length;for(n.length=0,n.add(e),t=n.length;t<r;t++)delete n[t];return n},filter:function(e){var t,n,r,i,o=this,a=[];for("string"==typeof e?(e=new tn(e),i=function(t){return e.match(t)}):i=e,t=0,n=o.length;t<n;t++)r=o[t],i(r)&&a.push(r);return new Gt(a)},slice:function(){return new Gt(rn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return I.each(this,e),this},toArray:function(){return I.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new Gt(I.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,r=this;return void 0!==t?(r.each(function(n){n[e]&&n[e](t)}),r):(n=r[0],n&&n[e]?n[e]():void 0)},exec:function(e){var t=this,n=I.toArray(arguments).slice(1);return t.each(function(t){t[e]&&t[e].apply(t,n)}),t},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},I.each("fire on off show hide append prepend before after reflow".split(" "),function(e){Jt[e]=function(){var t=I.toArray(arguments);return this.each(function(n){e in n&&n[e].apply(n,t)}),this}}),I.each("text name disabled active selected checked visible parent value data".split(" "),function(e){Jt[e]=function(t){return this.prop(e,t)}}),Gt=Vt.extend(Jt),tn.Collection=Gt;var on=Gt,an=function(e){this.create=e.create};an.create=function(e,t){return new an({create:function(n,r){var i,o=function(e){n.set(r,e.value)},a=function(n){e.set(t,n.value)};return n.on("change:"+r,a),e.on("change:"+t,o),i=n._bindings,i||(i=n._bindings=[],n.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){e.off("change:"+t,o)}),e.get(t)}})};var sn,un,cn=tinymce.util.Tools.resolve("tinymce.util.Observable"),ln=Vt.extend({Mixins:[cn],init:function(e){var t,n;e=e||{};for(t in e)(n=e[t])instanceof an&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r,i=this.data[e];if(t instanceof an&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return a(i,t)||(this.data[e]=t,r={target:this,name:e,value:t,oldValue:i},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return an.create(this,e)},destroy:function(){this.fire("destroy")}}),fn={},dn={add:function(t){var n=t.parent();if(n){if(!n._layout||n._layout.isNative())return;fn[n._id]||(fn[n._id]=n),sn||(sn=!0,pe.requestAnimationFrame(function(){var e,t;sn=!1;for(e in fn)t=fn[e],t.state.get("rendered")&&t.reflow();fn={}},e.document.body))}},remove:function(e){fn[e._id]&&delete fn[e._id]}},pn="onmousewheel"in e.document,hn=!1,mn=0,gn={Statics:{classPrefix:"mce-"},isRtl:function(){return un.rtl},classPrefix:"mce-",init:function(e){function t(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)o.classes.add(e[t])}var n,i,o=this;o.settings=e=I.extend({},o.Defaults,e),o._id=e.id||"mceu_"+mn++,o._aria={role:e.role},o._elmCache={},o.$=Lt,o.state=new ln({visible:!0,active:!1,disabled:!1,value:""}),o.data=new ln(e.data),o.classes=new r(function(){o.state.get("rendered")&&(o.getEl().className=this.toString())}),o.classes.prefix=o.classPrefix,n=e.classes,n&&(o.Defaults&&(i=o.Defaults.classes)&&n!==i&&t(i),t(n)),I.each("title text name visible disabled active value".split(" "),function(t){t in e&&o[t](e[t])}),o.on("click",function(){if(o.disabled())return!1}),o.settings=e,o.borderBox=Kt.parseBox(e.border),o.paddingBox=Kt.parseBox(e.padding),o.marginBox=Kt.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,name",getContainerElm:function(){var e=Se.getUiContainer(this);return e||Ht.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,i,o,a,s,u,c,l=this,f=l.settings,d=l.getEl();e=l.borderBox=l.borderBox||Kt.measureBox(d,"border"),l.paddingBox=l.paddingBox||Kt.measureBox(d,"padding"),l.marginBox=l.marginBox||Kt.measureBox(d,"margin"),c=Ht.getSize(d),s=f.minWidth,u=f.minHeight,i=s||c.width,o=u||c.height,n=f.width,r=f.height,a=f.autoResize,a=void 0!==a?a:!n&&!r,n=n||i,r=r||o;var p=e.left+e.right,h=e.top+e.bottom,m=f.maxWidth||65535,g=f.maxHeight||65535;return l._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:p,deltaH:h,contentW:n-p,contentH:r-h,innerW:n-p,innerH:r-h,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(i,m),minH:Math.min(o,g),maxW:m,maxH:g,autoResize:a,scrollW:0},l._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,i,o,a=this,s=a._layoutRect;return s||(s=a.initLayoutRect()),e?(r=s.deltaW,i=s.deltaH,void 0!==e.x&&(s.x=e.x),void 0!==e.y&&(s.y=e.y),void 0!==e.minW&&(s.minW=e.minW),void 0!==e.minH&&(s.minH=e.minH),n=e.w,void 0!==n&&(n=n<s.minW?s.minW:n,n=n>s.maxW?s.maxW:n,s.w=n,s.innerW=n-r),n=e.h,void 0!==n&&(n=n<s.minH?s.minH:n,n=n>s.maxH?s.maxH:n,s.h=n,s.innerH=n-i),n=e.innerW,void 0!==n&&(n=n<s.minW-r?s.minW-r:n,n=n>s.maxW-r?s.maxW-r:n,s.innerW=n,s.w=n+r),n=e.innerH,void 0!==n&&(n=n<s.minH-i?s.minH-i:n,n=n>s.maxH-i?s.maxH-i:n,s.innerH=n,s.h=n+i),void 0!==e.contentW&&(s.contentW=e.contentW),void 0!==e.contentH&&(s.contentH=e.contentH),t=a._lastLayoutRect,t.x===s.x&&t.y===s.y&&t.w===s.w&&t.h===s.h||(o=un.repaintControls,o&&o.map&&!o.map[a._id]&&(o.push(a),o.map[a._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),a):s},repaint:function(){var t,n,r,i,o,a,s,u,c,l,f=this;c=e.document.createRange?function(e){return e}:Math.round,t=f.getEl().style,i=f._layoutRect,u=f._lastRepaintRect||{},o=f.borderBox,a=o.left+o.right,s=o.top+o.bottom,i.x!==u.x&&(t.left=c(i.x)+"px",u.x=i.x),i.y!==u.y&&(t.top=c(i.y)+"px",u.y=i.y),i.w!==u.w&&(l=c(i.w-a),t.width=(l>=0?l:0)+"px",u.w=i.w),i.h!==u.h&&(l=c(i.h-s),t.height=(l>=0?l:0)+"px",u.h=i.h),f._hasBody&&i.innerW!==u.innerW&&(l=c(i.innerW),r=f.getEl("body"),r&&(n=r.style,n.width=(l>=0?l:0)+"px"),u.innerW=i.innerW),f._hasBody&&i.innerH!==u.innerH&&(l=c(i.innerH),r=r||f.getEl("body"),r&&(n=n||r.style,n.height=(l>=0?l:0)+"px"),u.innerH=i.innerH),f._lastRepaintRect=u,f.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,Ht.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return s(n).on(e,function(e){var t,r;return"string"!=typeof e?e:function(i){return t||n.parentsAndSelf().each(function(n){var i=n.settings.callbacks;if(i&&(t=i[e]))return r=n,!1}),t?t.call(r,i):(i.action=e,void this.fire("execute",i))}}(t)),n},off:function(e,t){return s(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=s(r).fire(e,t),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return s(this).has(e)},parents:function(e){var t,n=this,r=new on;for(t=n.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new on(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=Lt("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"===e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return un.translate?un.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),i=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}i&&i.items&&(e=[],i.items().each(function(t){t!==n&&e.push(t)}),i.items().set(e),i._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&Lt(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return Lt(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return Lt(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,i,o=this,a=o.settings;o.$el=Lt(o.getEl()),o.state.set("rendered",!0);for(r in a)0===r.indexOf("on")&&o.on(r.substr(2),a[r]);if(o._eventsRoot){for(n=o.parent();!i&&n;n=n.parent())i=n._eventsRoot;if(i)for(r in i._nativeEvents)o._nativeEvents[r]=!0}u(o),a.style&&(e=o.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=o.getRoot();s.controlIdLookup||(s.controlIdLookup={}),s.controlIdLookup[o._id]=o;for(var c in o._aria)o.aria(c,o._aria[c]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),dn.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,i,o,a,s=this.getEl(),u=s.parentNode,c=function(e,t){var n,r,i=e;for(n=r=0;i&&i!==t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}(s,u);return t=c.x,n=c.y,r=s.offsetWidth,i=s.offsetHeight,o=u.clientWidth,a=u.clientHeight,"end"===e?(t-=o-r,n-=a-i):"center"===e&&(t-=o/2-r/2,n-=a/2-i/2),u.scrollLeft=t,u.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){dn.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};I.each("text title visible disabled active value".split(" "),function(e){gn[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),un=Vt.extend(gn);var vn,yn,bn,xn,wn=un,Cn=function(e){return!!e.getAttribute("data-mce-tabstop")},kn={},_n=wn.extend({init:function(e){var t=this;t._super(e),e=t.settings,e.fixed&&t.state.set("fixed",!0),t._items=new on,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new r(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=re.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return e=kn[e]=kn[e]||new tn(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,r,i=this;return e&&(n=i.keyboardNav||i.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(i):(r=i.find("*"),i.statusbar&&r.add(i.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),i)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return I.isArray(e)||(e=[e]),I.each(e,function(e){e&&(e instanceof wn||("string"==typeof e&&(e={type:e}),t=I.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=re.create(t)),r.push(e))}),r},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||(r=e.getEl("body"),r.hasChildNodes()&&n<=r.childNodes.length-1?Lt(r.childNodes[n]).before(t.renderHtml()):Lt(r).append(t.renderHtml()),t.postRender(),dn.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r,i,o,a=this;return e=a.create(e),r=a.items(),!n&&t<r.length-1&&(t+=1),t>=0&&t<r.length&&(i=r.slice(0,t).toArray(),o=r.slice(t).toArray(),r.set(i.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),r=e.value();n&&void 0!==r&&(t[n]=r)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=c({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(dn.remove(this),this.visible()){for(wn.repaintControls=[],wn.repaintControls.map={},this.recalc(),e=wn.repaintControls.length;e--;)wn.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),wn.repaintControls=[]}return this}}),Tn={init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function e(){function e(e,o,a,s,u,c){var l,f,d,p,h,m,g,v,y;if(f=t.getEl("scroll"+e)){if(v=o.toLowerCase(),y=a.toLowerCase(),Lt(t.getEl("absend")).css(v,t.layoutRect()[s]-1),!u)return void Lt(f).css("display","none");Lt(f).css("display","block"),l=t.getEl("body"),d=t.getEl("scroll"+e+"t"),p=l["client"+a]-2*n,p-=r&&i?f["client"+c]:0,h=l["scroll"+a],m=p/h,g={},g[v]=l["offset"+o]+n,g[y]=p,Lt(f).css(g),g={},g[v]=l["scroll"+o]*m,g[y]=p*m,Lt(d).css(g)}}var r,i,o;o=t.getEl("body"),r=o.scrollWidth>o.clientWidth,i=o.scrollHeight>o.clientHeight,e("h","Left","Width","contentW",r,"Height"),e("v","Top","Height","contentH",i,"Width")}var t=this,n=2;t.settings.autoScroll&&(t._hasScroll||(t._hasScroll=!0,function(){function e(e,r,i,o,a){var s,u=t._id+"-scroll"+e,c=t.classPrefix;Lt(t.getEl()).append('<div id="'+u+'" class="'+c+"scrollbar "+c+"scrollbar-"+e+'"><div id="'+u+'t" class="'+c+'scrollbar-thumb"></div></div>'),t.draghelper=new d(u+"t",{start:function(){s=t.getEl("body")["scroll"+r],Lt("#"+u).addClass(c+"active")},drag:function(u){var c,l,f,d,p=t.layoutRect();l=p.contentW>p.innerW,f=p.contentH>p.innerH,d=t.getEl("body")["client"+i]-2*n,d-=l&&f?t.getEl("scroll"+e)["client"+a]:0,c=d/t.getEl("body")["scroll"+i],t.getEl("body")["scroll"+r]=s+u["delta"+o]/c},stop:function(){Lt("#"+u).removeClass(c+"active")}})}t.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),t.on("wheel",function(n){var r=t.getEl("body");r.scrollLeft+=10*(n.deltaX||0),r.scrollTop+=10*n.deltaY,e()}),Lt(t.getEl("body")).on("scroll",e)),e())}},En=_n.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Tn],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),Sn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=Ht.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}},Nn=[],Dn=[],Rn=En.extend({Mixins:[qt,Sn],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(m(),v(),Nn.push(t)),e.autofix&&(g(),t.on("move",function(){y(this)})),t.on("postrender show",function(e){if(e.control===t){var n,r=t.classPrefix;t.modal&&!xn&&(n=Lt("#"+r+"modal-block",t.getContainerElm()),n[0]||(n=Lt('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),pe.setTimeout(function(){n.addClass(r+"in"),Lt(t.getEl()).addClass(r+"in")}),xn=!0),b(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=Ht.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=Nn.length;e--&&Nn[e]!==t;);return-1===e&&Nn.push(t),n},hide:function(){return x(this),b(!1,this),this._super()},hideAll:function(){Rn.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),b(!1,e)),e},remove:function(){x(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});Rn.hideAll=function(){for(var e=Nn.length;e--;){var t=Nn[e];t&&t.settings.autohide&&(t.hide(),Nn.splice(e,1))}};var An=function(e,t){return!(!e||t.settings.ui_container)},On=function(e,t,n){var r,i,o=ne.DOM,a=W(e);a&&(i=o.select(a)[0]);var s=function(){if(r&&r.moveRel&&r.visible()&&!r._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),i=0,a=0;if(t){var s=o.getPos(n),u=o.getPos(t);i=Math.max(0,u.x-s.x),a=Math.max(0,u.y-s.y)}r.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,a)}},u=function(){r&&(r.show(),s(),o.addClass(e.getBody(),"mce-edit-focus"))},c=function(){r&&(r.hide(),Rn.hideAll(),o.removeClass(e.getBody(),"mce-edit-focus"))},l=function(){if(r)return void(r.visible()||u());r=t.panel=re.create({type:i?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:An(i,e),border:1,items:[!1===L(e)?null:{type:"menubar",border:"0 0 1 0",items:dt.createMenuButtons(e)},Re.createToolbars(e,j(e))]}),Se.setUiContainer(e,r),ue.fireBeforeRenderUI(e),i?r.renderTo(i).reflow():r.renderTo().reflow(),fe.addKeys(e,r),u(),Fe.addContextualToolbars(e),e.on("nodeChange",s),e.on("ResizeWindow",s),e.on("activate",u),e.on("deactivate",c),e.nodeChanged()};return e.settings.content_editable=!0,e.on("focus",function(){!1===G(e)&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,l,l):l()}),e.on("blur hide",c),e.on("remove",function(){r&&(r.remove(),r=null)}),!1===G(e)&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,Rt.fireSkinLoaded(e)):Rt.fireSkinLoaded(e)(),{}},Pn={render:On},Bn=function(e,t){var n;e.on("ProgressState",function(e){n=n||new w(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},In={setup:Bn},Mn=function(e,t,n){var r=Q(e);return r&&(n.skinUiCss=r+"/skin.min.css",e.contentCSS.push(r+"/content"+(e.inline?".inline":"")+".min.css")),In.setup(e,t),J(e)?Pn.render(e,t,n):Mt.render(e,t,n)},Ln={renderUI:Mn},Fn=wn.extend({Mixins:[qt],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),Hn=wn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==Hn.tooltips&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control===t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"===i),r.classes.toggle("tooltip-nw","bc-tl"===i),r.classes.toggle("tooltip-ne","bc-tr"===i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().remove(),t._tooltip=null})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Fn({type:"tooltip"}),Se.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),jn=Hn.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}}),Un=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},Wn=wn.extend({Mixins:[qt],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new jn),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),o=' style="max-width: '+e.maxWidth+"px;"+(e.color?"background-color: "+e.color+';"':'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true">×</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return pe.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Un(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,Un(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){Un(e,e.state.get("text"))})),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}}),$n=[],zn="",qn=Rn.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new En({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(Ht.hasClass(e.target,n)||Ht.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.on("move",function(e){e.control===t&&Rn.hideAll()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,r,i=this,o=i.statusbar;i._fullscreen&&(i.layoutRect(Ht.getWindowSize()),i.layoutRect().contentH=i.layoutRect().innerH),i._super(),e=i.layoutRect(),i.settings.title&&!i._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),i.layoutRect({w:t,x:n}),r=!0),o&&(o.layoutRect({w:i.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),i.layoutRect({w:t,x:n}),r=!0)),r&&i.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var i=Ht.getSize(e);n.headerW=i.width,n.headerH=i.height,r+=n.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),n.deltaH+=r,n.minH+=r,n.h+=r;var o=Ht.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(t){var n,r,i=this,o=e.document.documentElement,a=i.classPrefix;if(t!==i._fullscreen)if(Lt(e.window).on("resize",function(){var e;if(i._fullscreen)if(n)i._timer||(i._timer=pe.setTimeout(function(){var e=Ht.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50));else{e=(new Date).getTime();var t=Ht.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),(new Date).getTime()-e>50&&(n=!0)}}),r=i.layoutRect(),i._fullscreen=t,t){i._initial={x:r.x,y:r.y,w:r.w,h:r.h},i.borderBox=Kt.parseBox("0"),i.getEl("head").style.display="none",r.deltaH-=r.headerH+2,Lt([o,e.document.body]).addClass(a+"fullscreen"),i.classes.add("fullscreen");var s=Ht.getWindowSize();i.moveTo(0,0).resizeTo(s.w,s.h)}else i.borderBox=Kt.parseBox(i.settings.border),i.getEl("head").style.display="",r.deltaH+=r.headerH,Lt([o,e.document.body]).removeClass(a+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new d(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),$n.push(t),k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),_(t.classPrefix,!1),e=$n.length;e--;)$n[e]===t&&$n.splice(e,1);k($n.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function(){function t(){var e,t,n=Ht.getWindowSize();for(e=0;e<$n.length;e++)t=$n[e].layoutRect(),$n[e].moveTo($n[e].settings.x||Math.max(0,n.w/2-t.w/2),$n[e].settings.y||Math.max(0,n.h/2-t.h/2))}if(!yt.desktop){var n={w:e.window.innerWidth,h:e.window.innerHeight};pe.setInterval(function(){var t=e.window.innerWidth,r=e.window.innerHeight;n.w===t&&n.h===r||(n={w:t,h:r},Lt(e.window).trigger("resize"))},100)}Lt(e.window).on("resize",t)}();var Vn=qn.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(t){function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var r,i=t.callback||function(){};switch(t.buttons){case Vn.OK_CANCEL:r=[n("Ok",!0,!0),n("Cancel",!1)];break;case Vn.YES_NO:case Vn.YES_NO_CANCEL:r=[n("Yes",1,!0),n("No",0)],t.buttons===Vn.YES_NO_CANCEL&&r.push(n("Cancel",-1));break;default:r=[n("Ok",!0,!0)]}return new qn({padding:20,x:t.x,y:t.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:t.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:t.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:t.onClose,onCancel:function(){i(!1)}}).renderTo(e.document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,Vn.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=Vn.OK_CANCEL,Vn.msgBox(e)}}}),Yn=function(e){return{renderUI:function(t){return Ln.renderUI(e,this,t)},resizeTo:function(t,n){return vt.resizeTo(e,t,n)},resizeBy:function(t,n){return vt.resizeBy(e,t,n)},getNotificationManagerImpl:function(){return C(e)},getWindowManagerImpl:function(){return E()}}},Kn={get:Yn},Xn=Vt.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=I.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,i,o=this,a=o.settings;t=a.firstControlClass,n=a.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(a.controlClass),e.visible()&&(r||(r=e),i=e)}),r&&r.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Gn=Xn.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Jn=Hn.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var t,n,r=this,i=r._id,o=r.classPrefix,a=r.state.get("icon"),s=r.state.get("text"),u="",c=r.settings;return t=c.image,t?(a="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s&&(r.classes.add("btn-has-text"),u='<span class="'+o+'txt">'+r.encode(s)+"</span>"),a=a?o+"ico "+o+"i-"+a:"",n="boolean"==typeof c.active?' aria-pressed="'+c.active+'"':"",'<div id="'+i+'" class="'+r.classes+'" tabindex="-1"'+n+'><button id="'+i+'-button" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+t+"></i>":"")+u+"</button></div>"},bindStates:function(){function t(e){var t=r("span."+i,n.getEl());e?(t[0]||(r("button:first",n.getEl()).append('<span class="'+i+'"></span>'),t=r("span."+i,n.getEl())),t.html(n.encode(e))):t.remove(),n.classes.toggle("btn-has-text",!!e)}var n=this,r=n.$,i=n.classPrefix+"txt";return n.state.on("change:text",function(e){t(e.value)}),n.state.on("change:icon",function(r){var i=r.value,o=n.classPrefix;n.settings.icon=i,i=i?o+"ico "+o+"i-"+n.settings.icon:"";var a=n.getEl().firstChild,s=a.getElementsByTagName("i")[0];i?(s&&s===a.firstChild||(s=e.document.createElement("i"),a.insertBefore(s,a.firstChild)),s.className=i):s&&a.removeChild(s),t(n.state.get("text"))}),n._super()}}),Zn=Jn.extend({init:function(e){var t=this;e=I.extend({text:"Browse...",multiple:!1,accept:null},e),t._super(e),t.classes.add("browsebutton"),e.multiple&&t.classes.add("multiple")},postRender:function(){var e=this,t=Ht.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),Lt(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),Lt(t).on("click",function(e){e.stopPropagation()}),Lt(e.getEl("button")).on("click touchstart",function(e){e.stopPropagation(),t.click(),e.preventDefault()}),e.getEl().appendChild(t)},remove:function(){Lt(this.getEl("button")).off(),Lt(this.getEl("input")).off(),this._super()}}),Qn=_n.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),er=Hn.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){n.classes.toggle("checked",e),n.aria("checked",e)}var n=this;return n.state.on("change:text",function(e){n.getEl("al").firstChild.data=n.translate(e.value)}),n.state.on("change:checked change:value",function(e){n.fire("change"),t(e.value)}),n.state.on("change:icon",function(t){var r=t.value,i=n.classPrefix;if(void 0===r)return n.settings.icon;n.settings.icon=r,r=r?i+"ico "+i+"i-"+n.settings.icon:"";var o=n.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a===o.firstChild||(a=e.document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a)}),n.state.get("checked")&&t(!0),n._super()}}),tr=tinymce.util.Tools.resolve("tinymce.util.VK"),nr=Hn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var r=n.target,i=t.getEl();if(Lt.contains(i,r)||r===i)for(;r&&r!==i;)r.id&&-1!==r.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode}),t.on("keydown",function(e){var n;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"===e.target.nodeName){var n=t.state.get("value"),r=e.target.value;r!==n&&(t.state.set("value",r),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var r=t.statusMessage()||"Ok",i=n.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===i),n.classes.toggle("tooltip-nw","bc-tl"===i),n.classes.toggle("tooltip-ne","bc-tr"===i),n.moveRel(e.target,i)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||(e=n.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=re.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,n,r=this,i=r.getEl(),o=r.getEl("open"),a=r.layoutRect(),s=0,u=i.firstChild;r.statusLevel()&&"none"!==r.statusLevel()&&(s=parseInt(Ht.getRuntimeStyle(u,"padding-right"),10)-parseInt(Ht.getRuntimeStyle(u,"padding-left"),10)),t=o?a.w-Ht.getSize(o).width-10:a.w-10;var c=e.document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(n=r.layoutRect().h-2+"px"),Lt(u).css({width:t-s,lineHeight:n}),r._super(),r},postRender:function(){var e=this;return Lt(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,r=n._id,i=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",u="",c="";return"spellcheck"in i&&(u+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(u+=' maxlength="'+i.maxLength+'"'),i.size&&(u+=' size="'+i.size+'"'),i.subtype&&(u+=' type="'+i.subtype+'"'),c='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(u+=' disabled="disabled"'),e=i.icon,e&&"caret"!==e&&(e=o+"ico "+o+"i-"+i.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+r+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+r+'" class="'+n.classes+'"><input id="'+r+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+n.encode(i.placeholder)+'" />'+c+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0===e.length)return void n.hideMenu();var r=function(e,t){return function(){n.fire("selectitem",{title:t,value:e})}};n.menu?n.menu.items().remove():n.menu=re.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),I.each(e,function(e){n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:r(e.value,e.title)})}),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()});var i=n.layoutRect().w;n.menu.layoutRect({w:i,minW:0,maxW:i}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!==t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),r=e.classPrefix,i=t.value;Ht.css(n,"display","none"===i?"none":""),Ht.toggleClass(n,r+"i-checkmark","ok"===i),Ht.toggleClass(n,r+"i-warning","warn"===i),Ht.toggleClass(n,r+"i-error","error"===i),e.classes.toggle("has-status","none"!==i),e.repaint()}),Ht.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===tr.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===tr.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){Lt(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),rr=nr.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}}),ir=Jn.extend({showPanel:function(){var e=this,t=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var n=t.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,e.panel=new Rn(n).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var r=["bc-tc","bc-tl","bc-tr"],i=["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"],o=e.panel.testMoveRel(e.getEl(),t.popoverAlign||(e.isRtl()?r:i));e.panel.classes.toggle("start","l"===o.substr(-1)),e.panel.classes.toggle("end","r"===o.substr(-1));var a="t"===o.substr(0,1);e.panel.classes.toggle("bottom",!a),e.panel.classes.toggle("top",a),e.panel.moveRel(e.getEl(),o)},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),or=ne.DOM,ar=ir.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(n){n.aria&&"down"===n.aria.key||n.control!==e||or.getParent(n.target,"."+e.classPrefix+"open")||(n.stopImmediatePropagation(),t.call(e,n))}),delete e.settings.onclick,e._super()}}),sr=tinymce.util.Tools.resolve("tinymce.util.Color"),ur=Hn.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var n,r,i=Ht.getPos(e);return n=t.pageX-i.x,r=t.pageY-i.y,n=Math.max(0,Math.min(n/e.clientWidth,1)),r=Math.max(0,Math.min(r/e.clientHeight,1)),{x:n,y:r}}function t(e,t){var n=(360-e.h)/360;Ht.css(a,{top:100*n+"%"}),t||Ht.css(u,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=sr({s:100,v:100,h:e.h}).toHex(),c.color().parse({s:e.s,v:e.v,h:e.h})}function n(n){var r;r=e(s,n),i.s=100*r.x,i.v=100*(1-r.y),t(i),c.fire("change")}function r(n){var r;r=e(o,n),i=l.toHsv(),i.h=360*(1-r.y),t(i,!0),c.fire("change")}var i,o,a,s,u,c=this,l=c.color();o=c.getEl("h"),a=c.getEl("hp"),s=c.getEl("sv"),u=c.getEl("svp"),c._repaint=function(){i=l.toHsv(),t(i)},c._super(),c._svdraghelper=new d(c._id+"-sv",{start:n,drag:n}),c._hdraghelper=new d(c._id+"-h",{start:r,drag:r}),c._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=sr()),this._color},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="background: -ms-linear-gradient(top,'+i+");background: linear-gradient(to bottom,"+i+');">'+function(){var e,t,n,o,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=i.split(","),e=0,t=o.length-1;e<t;e++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+o[e]+",endColorstr="+o[e+1]+");-ms-"+n+o[e]+",endColorstr="+o[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),cr=Hn.extend({init:function(e){var t=this;e=I.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),t._super(e),t.classes.add("dropzone"),e.multiple&&t.classes.add("multiple")},renderHtml:function(){var e,t,n=this,r=n.settings;return e={id:n._id,hidefocus:"1"},t=Ht.create("div",e,"<span>"+this.translate(r.text)+"</span>"),r.height&&Ht.css(t,"height",r.height+"px"),r.width&&Ht.css(t,"width",r.width+"px"),t.className=n.classes,t.outerHTML},postRender:function(){var e=this,t=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes},n=function(t){var n=e.settings.accept;if("string"!=typeof n)return t;var r=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return I.grep(t,function(e){return r.test(e.name)})};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",t),e.$el.on("dragleave",t),e.$el.on("drop",function(t){if(t.preventDefault(),!e.state.get("disabled")){var r=n(t.dataTransfer.files);e.value=function(){return r.length?e.settings.multiple?r:r[0]:null},r.length&&e.fire("change",t)}})},remove:function(){this.$el.off(),this._super()}}),lr=Hn.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=this,i=e||[],o="",a=r.classPrefix;for(t=0,n=i.length;t<n;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+r.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t===n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+r._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return o||(o='<div class="'+a+'path-item"> </div>'),o}}),fr=lr.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1===o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)})),t._super()}}),dr=_n.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),pr=_n.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,t=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(t){var n,r=t.settings.label;r&&(n=new dr(I.extend({items:{type:"label",id:t._id+"-l",text:r,flex:0,forId:t._id,disabled:t.disabled()}},e.settings.formItemDefaults)),n.type="formitem",t.aria("labelledby",t._id+"-l"),void 0===t.settings.flex&&(t.settings.flex=1),e.replace(t,n),n.add(t))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,r,i=0,o=[];if(!1!==t.settings.labelGapCalc)for(r="children"===t.settings.labelGapCalc?t.find("formitem"):t.items(),r.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=i+n}var t=this;t._super(),t.on("show",e),e()}}),hr=pr.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),mr=0,gr=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return mr++,e+"_"+r+mr+String(n)},vr=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return xr(i.childNodes[0])},yr=function(t,n){var r=n||e.document,i=r.createElement(t);return xr(i)},br=function(t,n){var r=n||e.document,i=r.createTextNode(t);return xr(i)},xr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:me(e)}},wr=function(e,t,n){var r=e.dom();return Ce.from(r.elementFromPoint(t,n)).map(xr)},Cr={fromHtml:vr,fromTag:yr,fromText:br,fromDom:xr,fromPoint:wr},kr=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),_r=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Tr=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")()),Er=function(e,t){for(var n=void 0!==t&&null!==t?t:Tr,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},Sr=function(e,t){var n=e.split(".");return Er(n,t)},Nr=function(e,t){return Sr(e,t)},Dr=function(e,t){var n=Nr(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},Rr={getOrDie:Dr},Ar=function(){return Rr.getOrDie("Node")},Or=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Pr=function(e,t){return Or(e,t,Ar().DOCUMENT_POSITION_PRECEDING)},Br=function(e,t){return Or(e,t,Ar().DOCUMENT_POSITION_CONTAINED_BY)},Ir={documentPositionPreceding:Pr,documentPositionContainedBy:Br},Mr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Lr=function(e,t){var n=Mr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return jr(r(1),r(2))},Fr=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Hr():Lr(e,n)},Hr=function(){return jr(0,0)},jr=function(e,t){return{major:e,minor:t}},Ur={nu:jr,detect:Fr,unknown:Hr},Wr=function(e,t){return function(){return t===e}},$r=function(){return zr({current:void 0,version:Ur.unknown()})},zr=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Wr("Edge",t),isChrome:Wr("Chrome",t),isIE:Wr("IE",t),isOpera:Wr("Opera",t),isFirefox:Wr("Firefox",t),isSafari:Wr("Safari",t)}},qr={unknown:$r,nu:zr,edge:me("Edge"),chrome:me("Chrome"),ie:me("IE"),opera:me("Opera"),firefox:me("Firefox"),safari:me("Safari")},Vr=function(e,t){return function(){return t===e}},Yr=function(){return Kr({current:void 0,version:Ur.unknown()})},Kr=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Vr("Windows",t),isiOS:Vr("iOS",t),isAndroid:Vr("Android",t),isOSX:Vr("OSX",t),isLinux:Vr("Linux",t),isSolaris:Vr("Solaris",t),isFreeBSD:Vr("FreeBSD",t)}},Xr={unknown:Yr,nu:Kr,windows:me("Windows"),ios:me("iOS"),android:me("Android"),linux:me("Linux"),osx:me("OSX"),solaris:me("Solaris"),freebsd:me("FreeBSD")},Gr=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,o=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||o||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:me(r),isiPhone:me(i),isTablet:me(s),isPhone:me(c),isTouch:me(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:me(l)}},Jr=function(e,t){var n=String(t).toLowerCase();return et(e,function(e){return e.search(n)})},Zr=function(e,t){return Jr(e,t).map(function(e){var n=Ur.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Qr=function(e,t){return Jr(e,t).map(function(e){var n=Ur.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ei={detectBrowser:Zr,detectOs:Qr},ti=function(e,t){return-1!==e.indexOf(t)},ni=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ri=function(e){return function(t){return ti(t,e)}},ii=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ti(e,"edge/")&&ti(e,"chrome")&&ti(e,"safari")&&ti(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ni],search:function(e){return ti(e,"chrome")&&!ti(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ti(e,"msie")||ti(e,"trident")}},{name:"Opera",versionRegexes:[ni,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ri("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ri("firefox")},{name:"Safari",versionRegexes:[ni,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ti(e,"safari")||ti(e,"mobile/"))&&ti(e,"applewebkit")}}],oi=[{name:"Windows",search:ri("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ti(e,"iphone")||ti(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ri("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ri("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ri("linux"),versionRegexes:[]},{name:"Solaris",search:ri("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ri("freebsd"),versionRegexes:[]}],ai={browsers:me(ii),oses:me(oi)},si=function(e){var t=ai.browsers(),n=ai.oses(),r=ei.detectBrowser(t,e).fold(qr.unknown,qr.nu),i=ei.detectOs(n,e).fold(Xr.unknown,Xr.nu);return{browser:r,os:i,deviceType:Gr(i,r,e)}},ui={detect:si},ci=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}}(function(){var t=e.navigator.userAgent;return ui.detect(t)}),li={detect:ci},fi=_r,di=kr,pi=function(e){return e.nodeType!==fi&&e.nodeType!==di||0===e.childElementCount},hi=function(t,n){var r=void 0===n?e.document:n.dom();return pi(r)?[]:Ge(r.querySelectorAll(t),Cr.fromDom)},mi=function(t,n){var r=void 0===n?e.document:n.dom();return pi(r)?Ce.none():Ce.from(r.querySelector(t)).map(Cr.fromDom)},gi=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},vi=function(e,t){return Ir.documentPositionContainedBy(e.dom(),t.dom())},yi=li.detect().browser,bi=(yi.isIE(),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),function(e,t){return hi(t,e)}),xi=I.trim,wi=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ci=wi("true"),ki=wi("false"),_i=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},Ti=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Ci(e)}return!1},Ei=function(e,t){return Ge(bi(Cr.fromDom(t),e),function(e){return e.dom()})},Si=function(e){return e.innerText||e.textContent},Ni=function(e){return e.id?e.id:gr("h")},Di=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},Ri=function(e){return Di(e)&&Oi(e)},Ai=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},Oi=function(e){return Ti(e)&&!ki(e)},Pi=function(e){return Ai(e)&&Oi(e)},Bi=function(e){return Ai(e)?parseInt(e.nodeName.substr(1),10):0},Ii=function(e){var t=Ni(e),n=function(){e.id=t};return _i("header",Si(e),"#"+t,Bi(e),n)},Mi=function(e){var t=e.id||e.name,n=Si(e);return _i("anchor",n||"#"+t,"#"+t,0,he)},Li=function(e){return Ge(Ze(e,Pi),Ii)},Fi=function(e){return Ge(Ze(e,Ri),Mi)},Hi=function(e){return Ei("h1,h2,h3,h4,h5,h6,a:not([href])",e)},ji=function(e){return xi(e.title).length>0},Ui=function(e){var t=Hi(e);return Ze(Li(t).concat(Fi(t)),ji)},Wi={find:Ui},$i=function(){return window.tinymce?window.tinymce.activeEditor:B.activeEditor},zi={},qi=function(){zi={}},Vi=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},Yi=function(e){return I.map(e,Vi)},Ki=function(e,t){return{title:e,value:{title:e,url:t,attach:he}}},Xi=function(e,t){return!Xe(t,function(t){return t.url===e})},Gi=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},Ji=function(e,t,n,r){var i={title:"-"},o=function(e){var r=e.hasOwnProperty(n)?e[n]:[],i=Ze(r,function(e){return Xi(e,t)});return I.map(i,function(e){return{title:e,value:{title:e,url:e,attach:he}}})},a=function(e){var n=Ze(t,function(t){return t.type===e});return Yi(n)};return!1===r.typeahead_urls?[]:"file"===n?function(e){return Qe(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(i,t)},[])}([Qi(e,o(zi)),Qi(e,a("header")),Qi(e,function(){var e=a("anchor"),t=Gi(r,"anchor_top","#top"),n=Gi(r,"anchor_bottom","#bottom");return null!==t&&e.unshift(Ki("<top>",t)),null!==n&&e.push(Ki("<bottom>",n)),e}())]):Qi(e,o(zi))},Zi=function(e,t){var n=zi[t];/^https?/.test(e)&&(n?Ke(n,e).isNone()&&(zi[t]=n.slice(0,5).concat(e)):zi[t]=[e])},Qi=function(e,t){var n=e.toLowerCase(),r=I.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},eo=function(e){var t=e.title;return t.raw?t.raw:t},to=function(e,t,n,r){var i=function(i){var o=Wi.find(n),a=Ji(i,o,r,t);e.showAutoComplete(a,i)};e.on("autocomplete",function(){i(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var i=eo(n);"image"===r?e.fire("change",{meta:{alt:i,attach:n.attach}}):e.fire("change",{meta:{text:i,attach:n.attach}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&i("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||Zi(e.value(),r)})})},no=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},ro=function(e,t,n){var r=t.filepicker_validator_handler;if(r){var i=function(t){if(0===t.length)return void e.statusLevel("none");r({url:t,type:n},function(t){var n=no(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){i(e.value)})}},io=nr.extend({Statics:{clearHistory:qi},init:function(e){var t,n,r,i=this,o=$i(),a=o.settings,s=e.filetype;e.spellcheck=!1,r=a.file_picker_types||a.file_browser_callback_types,r&&(r=I.makeMap(r,/[, ]/)),r&&!r[s]||(n=a.file_picker_callback,!n||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(i.getEl("inp").id,i.value(),s,window)}):t=function(){var e=i.fire("beforecall").meta;e=I.extend({filetype:s},e),n.call(o,function(e,t){i.value(e).fire("change",{meta:t})},i.value(),e)}),t&&(e.icon="browse",e.onaction=t),i._super(e),i.classes.add("filepicker"),to(i,a,o.getBody(),s),ro(i,a,s)}}),oo=Gn.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),ao=Gn.extend({recalc:function(e){var t,n,r,i,o,a,s,u,c,l,f,d,p,h,m,g,v,y,b,x,w,C,k,_,T,E,S,N,D,R,A,O,P,B,I,M,L,F,H=[],j=Math.max,U=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,d=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,u=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!==d&&"column-reverse"!==d||(r=r.set(r.toArray().reverse()),d=d.split("-")[0]),"column"===d?(T="y",k="h",_="minH",E="maxH",N="innerH",S="top",D="deltaH",R="contentH",I="left",P="w",A="x",O="innerW",B="minW",M="right",L="deltaW",F="contentW"):(T="x",k="w",_="minW",E="maxW",N="innerW",S="left",D="deltaW",R="contentW",I="top",P="h",A="y",O="innerH",B="minH",M="bottom",L="deltaH",F="contentH"),f=i[N]-o[S]-o[S],C=l=0,t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),m=p.settings,g=m.flex,f-=t<n-1?c:0,g>0&&(l+=g,h[E]&&H.push(p),h.flex=g),f-=h[_],(v=o[I]+h[B]+o[M])>C&&(C=v);if(x={},x[_]=f<0?i[_]-f+i[D]:i[N]-f+i[D],x[B]=C+i[L],x[R]=i[N]-f,x[F]=C,x.minW=U(x.minW,i.maxW),x.minH=U(x.minH,i.maxH),x.minW=j(x.minW,i.startMinWidth),x.minH=j(x.minH,i.startMinHeight),!i.autoResize||x.minW===i.minW&&x.minH===i.minH){for(b=f/l,t=0,n=H.length;t<n;t++)p=H[t],h=p.layoutRect(),y=h[E],v=h[_]+h.flex*b,v>y?(f-=h[E]-h[_],l-=h.flex,h.flex=0,h.maxFlexSize=y):h.maxFlexSize=0;for(b=f/l,w=o[S],x={},0===l&&("end"===u?w=f+o[S]:"center"===u?(w=Math.round(i[N]/2-(i[N]-f)/2)+o[S])<0&&(w=o[S]):"justify"===u&&(w=o[S],c=Math.floor(f/(r.length-1)))),x[A]=o[I],t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),v=h.maxFlexSize||h[_],"center"===s?x[A]=Math.round(i[O]/2-h[P]/2):"stretch"===s?(x[P]=j(h[B]||0,i[O]-o[I]-o[M]),x[A]=o[I]):"end"===s&&(x[A]=i[O]-h[P]-o.top),h.flex>0&&(v+=h.flex*b),x[k]=v,x[T]=w,p.layoutRect(x),p.recalc&&p.recalc(),w+=v+c}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}}),so=Xn.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),uo=function(e,t){return mi(t,e)},co=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},lo=function(e,t,n){var r=function(e){n(e,t)};e.formatter?e.formatter.formatChanged(t,r):e.on("init",function(){e.formatter.formatChanged(t,r)})},fo=function(e,t){return function(n){lo(e,t,function(e){n.control.active(e)})}},po=function(e){var t=["alignleft","aligncenter","alignright","alignjustify"],n=[{text:"Left",icon:"alignleft",onclick:co(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:co(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:co(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:co(e,"alignjustify")}];e.addMenuItem("align",{text:"Align",menu:n}),e.addButton("align",{type:"menubutton",icon:"alignleft",menu:n,onShowMenu:function(n){var r=n.control.menu;I.each(t,function(t,n){r.items().eq(n).each(function(n){return n.active(e.formatter.match(t))})})},onPostRender:function(n){var r=n.control;I.each(t,function(t,n){lo(e,t,function(e){r.icon("alignleft"),e&&r.icon(t)})})}}),I.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:fo(e,n)})})},ho={register:po},mo=function(e){return e?e.split(",")[0]:""},go=function(e,t){var n,r=t?t.toLowerCase():"";return I.each(e,function(e){e.value.toLowerCase()===r&&(n=e.value)}),I.each(e,function(e){n||mo(e.value).toLowerCase()!==mo(r).toLowerCase()||(n=e.value)}),n},vo=function(e,t){return function(){var n=this;n.state.set("value",null),e.on("init nodeChange",function(r){var i=e.queryCommandValue("FontName"),o=go(t,i);n.value(o||null),!o&&i&&n.text(mo(i))})}},yo=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},bo=function(e){var t=yo(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return I.map(t,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})},xo=function(e){e.addButton("fontselect",function(){var t=bo(e);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:vo(e,t),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})},wo=function(e){xo(e)},Co={register:wo},ko=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},_o=function(e,t){return/[0-9.]+px$/.test(e)?ko(72*parseInt(e,10)/96,t||0)+"pt":e},To=function(e,t,n){var r;return I.each(e,function(e){e.value===n?r=n:e.value===t&&(r=t)}),r},Eo=function(e,t){return function(){var n=this;e.on("init nodeChange",function(r){var i,o,a,s;if(i=e.queryCommandValue("FontSize"))for(a=3;!s&&a>=0;a--)o=_o(i,a),s=To(t,o,i);n.value(s||null),s||n.text(o)})}},So=function(e){var t=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return I.map(t.split(" "),function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{text:t,value:n}})},No=function(e){e.addButton("fontsizeselect",function(){var t=So(e);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:Eo(e,t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})},Do=function(e){No(e)},Ro={register:Do},Ao=function(e,t){var n=t.length;return I.each(t,function(t){t.menu&&(t.hidden=0===Ao(e,t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--}),n},Oo=function(e,t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(Oo(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(Ao(e,t.settings.menu)>0);var r=t.settings.format;r&&t.visible(e.formatter.canApply(r)),t.visible()||n--}),n},Po=function(e){var t=0,n=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],i=function(e){var r=[];if(e)return I.each(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=i(e.items);else{var a=e.format||"custom"+t++;e.format||(e.name=a,n.push(e)),o.format=a,o.cmd=e.cmd}r.push(o)}),r};return e.on("init",function(){I.each(n,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:function(){return i(e.settings.style_formats_merge?e.settings.style_formats?r.concat(e.settings.style_formats):r:e.settings.style_formats||r)}(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(r=t.settings.cmd)&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&co(e,this.settings.format)(),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}},Bo=function(e,t){e.addMenuItem("formats",{text:"Formats",menu:t})},Io=function(e,t){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){e.settings.style_formats_autohide&&Oo(e,this.menu)}})},Mo=function(e){var t=Po(e);Bo(e,t),Io(e,t)},Lo={register:Mo},Fo=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},Ho=function(e,t,n){return function(){var r=this;e.on("nodeChange",function(i){var o=e.formatter,a=null;I.each(i.parents,function(e){if(I.each(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),r.value(a)})}},jo=function(e,t){return function(){var n=[];return I.each(t,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:t[0][0],values:n,fixedWidth:!0,onselect:function(t){if(t.control){var n=t.control.value();co(e,n)()}},onPostRender:Ho(e,n)}}},Uo=function(e,t){return I.map(t,function(t){return{text:t[0],onclick:co(e,t[1]),textStyle:function(){return e.formatter.getCssText(t[1])}}})},Wo=function(e){var t=Fo(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:Uo(e,t)}),e.addButton("formatselect",jo(e,t))},$o={register:Wo},zo=function(e,t){var n,r;if("string"==typeof t)r=t.split(" ");else if(I.isArray(t))return nt(I.map(t,function(t){return zo(e,t)}));return n=I.grep(r,function(t){return"|"===t||t in e.menuItems}),I.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},qo=function(e){return e&&"-"===e.text},Vo=function(e){var t=Ze(e,function(t,n){return!qo(t)||!qo(e[n-1])});return Ze(t,function(e,n){return!qo(e)||n>0&&n<t.length-1})},Yo=function(e,t){var n=[{text:"-"}],r=I.grep(e.menuItems,function(e){return e.context===t});return I.each(r,function(e){"before"===e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"===e.separator&&n.push({text:"|"})}),n},Ko=function(e){var t=e.settings.insert_button_items;return Vo(t?zo(e,t):Yo(e,"insert"))},Xo=function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Ko(e)),this.menu.renderNew()}})},Go=function(e){Xo(e)},Jo={register:Go},Zo=function(e){I.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{active:!1,tooltip:t,onPostRender:fo(e,n),onclick:co(e,n)})})},Qo=function(e){I.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})},ea=function(e){I.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:fo(e,n)})})},ta=function(e){Zo(e),Qo(e),ea(e)},na=function(e){I.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:co(e,"code")})},ra=function(e){ta(e),na(e)},ia={register:ra},oa=function(e,t){return function(){var n=this,r=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!r())})}},aa=function(e){e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:oa(e,"undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:oa(e,"redo"),cmd:"redo"})},sa=function(e){e.addButton("undo",{tooltip:"Undo",onPostRender:oa(e,"undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:oa(e,"redo"),cmd:"redo"})},ua=function(e){aa(e),sa(e)},ca={register:ua},la=function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}},fa=function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:la(e),cmd:"mceToggleVisualAid"})},da=function(e){fa(e)},pa={register:da},ha=function(){Hn.tooltips=!yt.iOS,wn.translate=function(e){return B.translate(e)}},ma=function(t){t.settings.ui_container&&(yt.container=uo(Cr.fromDom(e.document.body),t.settings.ui_container).fold(me(null),function(e){return e.dom()}))},ga=function(e){e.rtl&&(wn.rtl=!0)},va=function(e){e.on("mousedown progressstate",function(){Rn.hideAll()})},ya=function(e){ga(e),va(e),ma(e),ha(),$o.register(e),ho.register(e),ia.register(e),ca.register(e),Ro.register(e),Co.register(e),Lo.register(e),pa.register(e),Jo.register(e)},ba={setup:ya},xa=Gn.extend({recalc:function(e){var t,n,r,i,o,a,s,u,c,l,f,d,p,h,m,g,v,y,b,x,w,C,k,_,T,E,S,N,D,R=[],A=[];t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,N="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(f=0;f<r;f++)R.push(0);for(d=0;d<n;d++)A.push(0);for(d=0;d<n;d++)for(f=0;f<r&&(l=i[d*r+f]);f++)c=l.layoutRect(),_=c.minW,T=c.minH,R[f]=_>R[f]?_:R[f],A[d]=T>A[d]?T:A[d];for(E=o.innerW-g.left-g.right,C=0,f=0;f<r;f++)C+=R[f]+(f>0?y:0),E-=(f>0?y:0)+R[f];for(S=o.innerH-g.top-g.bottom,k=0,d=0;d<n;d++)k+=A[d]+(d>0?b:0),S-=(d>0?b:0)+A[d];if(C+=g.left+g.right,k+=g.top+g.bottom,u={},u.minW=C+(o.w-o.innerW),u.minH=k+(o.h-o.innerH),u.contentW=u.minW-o.deltaW,u.contentH=u.minH-o.deltaH,u.minW=Math.min(u.minW,o.maxW),u.minH=Math.min(u.minH,o.maxH),u.minW=Math.max(u.minW,o.startMinWidth),u.minH=Math.max(u.minH,o.startMinHeight),!o.autoResize||u.minW===o.minW&&u.minH===o.minH){o.autoResize&&(u=e.layoutRect(u),u.contentW=u.minW-o.deltaW,u.contentH=u.minH-o.deltaH);var O;O="start"===t.packV?0:S>0?Math.floor(S/n):0;var P=0,B=t.flexWidths;if(B)for(f=0;f<B.length;f++)P+=B[f];else P=r;var I=E/P;for(f=0;f<r;f++)R[f]+=B?B[f]*I:I;for(h=g.top,d=0;d<n;d++){for(p=g.left,s=A[d]+O,f=0;f<r&&(D=N?d*r+r-1-f:d*r+f,l=i[D]);f++)m=l.settings,c=l.layoutRect(),a=Math.max(R[f],c.startMinWidth),c.x=p,c.y=h,v=m.alignH||(x?x[f]||x[0]:null),"center"===v?c.x=p+a/2-c.w/2:"right"===v?c.x=p+a-c.w:"stretch"===v&&(c.w=a),v=m.alignV||(w?w[f]||w[0]:null),"center"===v?c.y=h+s/2-c.h/2:"bottom"===v?c.y=h+s-c.h:"stretch"===v&&(c.h=s),l.layoutRect(c),p+=a+y,l.recalc&&l.recalc();h+=s+b}}else if(u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect){var M=e.parent();M&&(M._lastRect=null,M.recalc())}}}),wa=Hn.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):pe.setTimeout(function(){n.html(e)}),this}}),Ca=Hn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),ka=Hn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();if(e.settings.multiline){Ht.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,Ht.getSize(e.getEl()).height)}return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId,i=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+i+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+i+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),_a=_n.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}}),Ta=_a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),Ea=Jn.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=re.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===n&&n.classes.remove("opened-under"),e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var r=n.menu.layoutRect(),i=n.$el.offset().top+n.layoutRect().h;i>r.y&&i<r.y+r.h&&n.classes.add("opened-under"),n.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var t,n=this,r=n._id,i=n.classPrefix,o=n.settings.icon,a=n.state.get("text"),s="";return t=n.settings.image,t?(o="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(n.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+n.encode(a)+"</span>"),o=n.settings.icon?i+"ico "+i+"i-"+o:"",n.aria("role",n.parent()instanceof Ta?"menuitem":"button"),'<div id="'+r+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+r+'"><button id="'+r+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&S(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,r=t.control,i=e.parent();r&&i&&r instanceof Ea&&r.parent()===i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Sa=Rn.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,r=n.length;r--;)n[r]=I.extend({},e.itemDefaults,n[r]);t._super(e),t.classes.add("menu"),e.animate&&11!==yt.ie&&t.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var t,n,r=this;(n=r.settings.itemsFactory)&&(r.throbber||(r.throbber=new w(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",e)),r.requestTime=t=(new Date).getTime(),r.settings.itemsFactory(function(n){if(0===n.length)return void r.hide();r.requestTime===t&&(r.getEl().style.width="",r.getEl("body").style.width="",e(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded"))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(t){t.control===e&&("show"===t.type?pe.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}}),Na=Ea.extend({init:function(e){function t(n){for(var o=0;o<n.length;o++){if(r=n[o].selected||e.value===n[o].value)return i=i||n[o].text,a.state.set("value",n[o].value),!0;if(n[o].menu&&t(n[o].menu))return!0}}var n,r,i,o,a=this;a._super(e),e=a.settings,a._values=n=e.values,n&&(void 0!==e.value&&t(n),!r&&n.length>0&&(i=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",e.text||i),a.classes.add("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.value()),o=n})},value:function(e){function t(n){return Xe(n,function(n){return n.menu?t(n.menu):n.value===e})}return 0===arguments.length?this.state.get("value"):void 0===e?this:(this.settings.values?t(this.settings.values)?this.state.set("value",e):null===e&&this.state.set("value",null):this.state.set("value",e),this)},bindStates:function(){function e(e,t){e instanceof Sa&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function t(e,n){var r;if(e)for(var i=0;i<e.length;i++){if(e[i].value===n)return e[i];if(e[i].menu&&(r=t(e[i].menu,n)))return r}}var n=this;return n.on("show",function(t){e(t.control,n.value())}),n.state.on("change:value",function(e){var r=t(n.state.get("menu"),e.value);r?n.text(r.text):n.text(n.settings.text)}),n._super()}}),Da=function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}},Ra=Hn.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),"-"!==t&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,n=t.settings,r=t.parent();if(r.items().each(function(e){e!==t&&e.hideMenu()}),n.menu){e=t.menu,e?e.show():(e=n.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=t.menu=re.create(e).parent(t).renderTo(),e.reflow(),e.on("cancel",function(n){n.stopPropagation(),t.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(n){n.control===e&&t.classes.remove("selected")}),e.submenu=!0),e._parentMenu=r,e.classes.add("menu-sub");var i=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),i),e.rel=i,i="menu-sub-"+i,e.classes.remove(e._lastRel).add(i),e._lastRel=i,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=o.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):t}function n(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var r=this,i=r._id,o=r.settings,a=r.classPrefix,s=r.state.get("text"),u=r.settings.icon,c="",l=o.shortcut,f=r.encode(o.url),d="";return u&&r.parent().classes.add("menu-has-icons"),o.image&&(c=" style=\"background-image: url('"+o.image+"')\""),l&&(l=function(e){var t,n,r={};for(r=yt.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(l)),u=a+"ico "+a+"i-"+(r.settings.icon||"none"),d="-"!==s?'<i class="'+u+'"'+c+"></i> ":"",s=n(r.encode(t(s))),f=n(r.encode(t(f))),'<div id="'+i+'" class="'+r.classes+'" tabindex="-1">'+d+("-"!==s?'<span id="'+i+'-text" class="'+a+'text">'+s+"</span>":"")+(l?'<div id="'+i+'-shortcut" class="'+a+'menu-shortcut">'+l+"</div>":"")+(o.menu?'<div class="'+a+'caret"></div>':"")+(f?'<div class="'+a+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=e.getEl("text");r&&(r.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),pe.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return Da(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Aa=er.extend({Defaults:{classes:"radio",role:"radio"}}),Oa=Hn.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new d(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!==e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),Pa=Hn.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=N(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(t){e.getEl().innerHTML=N(t.value)}),e._super()}}),Ba=Hn.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=$e(e.minValue)?e.minValue:0,t._maxValue=$e(e.maxValue)?e.maxValue:100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function t(e,t,n){return n*(t-e)-e}var n,r,i,o,a,s,u=this;n=u._minValue,r=u._maxValue,"v"===u.settings.orientation?(i="screenY",o="top",a="height",s="h"):(i="screenX",o="left",a="width",s="w"),u._super(),function(n,r){function i(i){var o;o=u.value(),o=t(n,r,e(n,r,o)+.05*i),o=D(o,n,r),u.value(o),u.fire("dragstart",{value:o}),u.fire("drag",{value:o}),u.fire("dragend",{value:o})}u.on("keydown",function(e){switch(e.keyCode){case 37:case 38:i(-1);break;case 39:case 40:i(1)}})}(n,r),function(e,t,n){var r,c,l,f,p;u._dragHelper=new d(u._id,{handle:u._id+"-handle",start:function(e){r=e[i],c=parseInt(u.getEl("handle").style[o],10),l=(u.layoutRect()[s]||100)-Ht.getSize(n)[a],u.fire("dragstart",{value:p})},drag:function(a){var s=a[i]-r;f=D(c+s,0,l),n.style[o]=f+"px",p=e+f/l*(t-e),u.value(p),u.tooltip().text(""+u.settings.previewFilter(p)).show().moveRel(n,"bc tc"),u.fire("drag",{value:p})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:p})}})}(n,r,u.getEl("handle"))},repaint:function(){this._super(),A(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){A(e,t.value)}),e._super()}}),Ia=Hn.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}}),Ma=Ea.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,r=n.getEl(),i=n.layoutRect();return n._super(),e=r.firstChild,t=r.lastChild,Lt(e).css({width:i.w-Ht.getSize(t).width,height:i.h-2}),Lt(t).css({height:i.h-2}),n},activeMenu:function(e){var t=this;Lt(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var t,n,r=this,i=r._id,o=r.classPrefix,a=r.state.get("icon"),s=r.state.get("text"),u=r.settings,c="";return t=u.image,t?(a="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a=u.icon?o+"ico "+o+"i-"+a:"",s&&(r.classes.add("btn-has-text"),c='<span class="'+o+'txt">'+r.encode(s)+"</span>"),n="boolean"==typeof u.active?' aria-pressed="'+u.active+'"':"",'<div id="'+i+'" class="'+r.classes+'" role="button"'+n+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(a?'<i class="'+a+'"'+t+"></i>":"")+c+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(r._menuBtnText?(a?" ":"")+r._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control===this)for(;n;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===n.nodeName&&-1===n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}}),La=so.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Fa=En.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),Lt(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+e,t=this.getEl("t"+e),t.setAttribute("aria-selected","true"),Lt(t).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!==n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id===e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]===t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,n,r=this;t=Ht.getSize(r.getEl("head")).width,t=t<0?0:t,n=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var i=Ht.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=n+i,e=r._super(),e.deltaH+=i,e.innerH=e.h-e.deltaH,e}}),Ha=Hn.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var t,n,r,i,o,a=this,s=0;t=a.getEl().style,n=a._layoutRect,o=a._lastRepaintRect||{};var u=e.document;return!a.settings.multiline&&u.all&&(!u.documentMode||u.documentMode<=8)&&(t.lineHeight=n.h-s+"px"),r=a.borderBox,i=r.left+r.right+8,s=r.top+r.bottom+(a.settings.multiline?8:0),n.x!==o.x&&(t.left=n.x+"px",o.x=n.x),n.y!==o.y&&(t.top=n.y+"px",o.y=n.y),n.w!==o.w&&(t.width=n.w-i+"px",o.w=n.w),n.h!==o.h&&(t.height=n.h-s+"px",o.h=n.h),a._lastRepaintRect=o,a.fire("repaint",{},!1),a},renderHtml:function(){var e,t,n=this,r=n.settings;return e={id:n._id,hidefocus:"1"},I.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=r[t]}),n.disabled()&&(e.disabled="disabled"),r.subtype&&(e.type=r.subtype),t=Ht.create(r.multiline?"textarea":"input",e),t.value=n.state.get("value"),t.className=n.classes.toString(),t.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!==t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}}),ja=function(){return{Selector:tn,Collection:on,ReflowQueue:dn,Control:wn,Factory:re,KeyboardNavigation:c,Container:_n,DragHelper:d,Scrollable:Tn,Panel:En,Movable:qt,Resizable:Sn,FloatPanel:Rn,Window:qn,MessageBox:Vn,Tooltip:Fn,Widget:Hn,Progress:jn,Notification:Wn,Layout:Xn,AbsoluteLayout:Gn,Button:Jn,ButtonGroup:Qn,Checkbox:er,ComboBox:nr,ColorBox:rr,PanelButton:ir,ColorButton:ar,ColorPicker:ur,Path:lr,ElementPath:fr,FormItem:dr,Form:pr,FieldSet:hr,FilePicker:io,FitLayout:oo,FlexLayout:ao,FlowLayout:so,FormatControls:ba,GridLayout:xa,Iframe:wa,InfoBox:Ca,Label:ka,Toolbar:_a,MenuBar:Ta,MenuButton:Ea,MenuItem:Ra,Throbber:w,Menu:Sa,ListBox:Na,Radio:Aa,ResizeHandle:Oa,SelectBox:Pa,Slider:Ba,Spacer:Ia,SplitButton:Ma,StackLayout:La,TabPanel:Fa,TextBox:Ha,DropZone:cr,BrowseButton:Zn}},Ua=function(e){e.ui?I.each(ja(),function(t,n){e.ui[n]=t}):e.ui=ja()},Wa=function(){I.each(ja(),function(e,t){re.add(t,e)})},$a={appendTo:Ua,registerToFactory:Wa};$a.registerToFactory(),$a.appendTo(window.tinymce?window.tinymce:{}),P.add("modern",function(e){return ba.setup(e),Kn.get(e)})}(window)}()}});